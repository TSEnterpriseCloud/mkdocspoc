
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Learn the basics about building an invoice" name="description"/>
<link href="../anagrafiche/" rel="prev"/>
<link href="../e-invoice-xml-customisation/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.42" name="generator"/>
<title>Invoice creation - TeamSystem Enterprise Cloud</title>
<link href="../../assets/stylesheets/main.0253249f.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="/static/css/custom.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#pre-create-info">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="TeamSystem Enterprise Cloud" class="md-header__button md-logo" data-md-component="logo" href="../.." title="TeamSystem Enterprise Cloud">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            TeamSystem Enterprise Cloud
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Invoice creation
            
          </span>
</div>
</div>
</div>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="TeamSystem Enterprise Cloud" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="TeamSystem Enterprise Cloud">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
    TeamSystem Enterprise Cloud
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-ellipsis">
    Getting Started
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../started/getting-started/">
<span class="md-ellipsis">
    Introduction
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../started/authentication/">
<span class="md-ellipsis">
    Authentication
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../started/howto/">
<span class="md-ellipsis">
    How to
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    Step by step guide
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Step by step guide
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/common-terms/">
<span class="md-ellipsis">
    Common Terms
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/company-scoped-methods/">
<span class="md-ellipsis">
    Company methods
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/manual-authentication/">
<span class="md-ellipsis">
    Authentication mode
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Quickstarts
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Quickstarts
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/postman-collection/">
<span class="md-ellipsis">
    Postaman Collections
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/csharp-sdk-quickstart/">
<span class="md-ellipsis">
    C# SDK Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/go-sdk-quickstart/">
<span class="md-ellipsis">
    GO SDK Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/java-sdk-quickstart/">
<span class="md-ellipsis">
    Java SDK Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/js-sdk-quickstart/">
<span class="md-ellipsis">
    JavaScript SDK Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/php-sdk-quickstart/">
<span class="md-ellipsis">
    PHP SDK Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/python-sdk-quickstart/">
<span class="md-ellipsis">
    Python SDK Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/ruby-sdk-quickstart/">
<span class="md-ellipsis">
    Ruby SDK Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/ts-sdk-quickstart/">
<span class="md-ellipsis">
    TypeScript SDK Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/vanilla-code/">
<span class="md-ellipsis">
    Vanilla Code Sample
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/windows-form-quickstart/">
<span class="md-ellipsis">
    Windows Form Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/google-sheets-quickstart/">
<span class="md-ellipsis">
    Google Sheets Apps Script Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/zapier-quickstart/">
<span class="md-ellipsis">
    Zapier Quickstart
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Supported scenarios
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Supported scenarios
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../anagrafiche/">
<span class="md-ellipsis">
    Anagrafiche
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Invoice creation
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Invoice creation
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#pre-create-info">
<span class="md-ellipsis">
        Pre-Create Info
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-zero-the-document-type">
<span class="md-ellipsis">
        Step Zero: The Document Type
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-one-the-customer">
<span class="md-ellipsis">
        Step One: The Customer
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-two-the-invoice-data">
<span class="md-ellipsis">
        Step Two: The Invoice Data
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-three-e-invoice">
<span class="md-ellipsis">
        Step Three: E-Invoice
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-four-contributions-and-withholdings">
<span class="md-ellipsis">
        Step Four: Contributions and Withholdings
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-five-items-list">
<span class="md-ellipsis">
        Step Five: Items list
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-six-payments-list">
<span class="md-ellipsis">
        Step Six: Payments List
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-seven-advanced-options">
<span class="md-ellipsis">
        Step Seven: Advanced Options
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-eight-attachment">
<span class="md-ellipsis">
        Step Eight: Attachment
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-nine-customisation">
<span class="md-ellipsis">
        Step Nine: Customisation
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-the-document">
<span class="md-ellipsis">
        Create the document!
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#send-the-document">
<span class="md-ellipsis">
        Send the document
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#send-the-e-invoice-to-the-sdi">
<span class="md-ellipsis">
        Send the E-Invoice to the SDI
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../e-invoice-xml-customisation/">
<span class="md-ellipsis">
    E-Invoice XML Customisation
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Basics
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Basics
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../basics/scopes/">
<span class="md-ellipsis">
    Scopes
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basics/errors/">
<span class="md-ellipsis">
    Errors
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basics/limits-and-quotas/">
<span class="md-ellipsis">
    Limits adn Quotas
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
<span class="md-ellipsis">
    Additional capabilities
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_4">
<span class="md-nav__icon md-icon"></span>
            Additional capabilities
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../basics/additional-capabilities/sort-results/">
<span class="md-ellipsis">
    Sort Results
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basics/additional-capabilities/paginate-results/">
<span class="md-ellipsis">
    Paginate results
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basics/additional-capabilities/customize-response/">
<span class="md-ellipsis">
    Customize response
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basics/additional-capabilities/filter-results/">
<span class="md-ellipsis">
    Filter results
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basics/debug-your-integration/">
<span class="md-ellipsis">
    Debug your integration
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-ellipsis">
    Api Reference
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Api Reference
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/api-reference-co/">
<span class="md-ellipsis">
    Common api
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/api-reference-fi/">
<span class="md-ellipsis">
    Finance api
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/api-reference-mg/">
<span class="md-ellipsis">
    Warehouse api
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/api-reference/">
<span class="md-ellipsis">
    Use the API Reference
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-ellipsis">
    SDKs
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            SDKs
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../sdks/typescript-sdk/">
<span class="md-ellipsis">
    TypeScript SDK
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sdks/java-sdk/">
<span class="md-ellipsis">
    Java SDK
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sdks/javascript-sdk/">
<span class="md-ellipsis">
    JavaScript SDK
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sdks/net-sdk/">
<span class="md-ellipsis">
    .NET SDK
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sdks/python-sdk/">
<span class="md-ellipsis">
    Python SDK
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sdks/ruby-sdk/">
<span class="md-ellipsis">
    Ruby SDK
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
<span class="md-ellipsis">
    Support &amp; Feature Request
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            Support &amp; Feature Request
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../support/faq/">
<span class="md-ellipsis">
    FAQs
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../support/general-knowledge/">
<span class="md-ellipsis">
    General Knowledge
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
<span class="md-ellipsis">
    Legal
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_9_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_9">
<span class="md-nav__icon md-icon"></span>
            Legal
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../legal/terms/">
<span class="md-ellipsis">
    Condizioni generali di utilizzo delle API MadBit
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../legal/policy-acceptable-use/">
<span class="md-ellipsis">
    Policy di Acceptable Use
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../legal/marketing-resources-and-identity-guidelines/">
<span class="md-ellipsis">
    Marketing Resources and Identity Guidelines
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#pre-create-info">
<span class="md-ellipsis">
        Pre-Create Info
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-zero-the-document-type">
<span class="md-ellipsis">
        Step Zero: The Document Type
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-one-the-customer">
<span class="md-ellipsis">
        Step One: The Customer
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-two-the-invoice-data">
<span class="md-ellipsis">
        Step Two: The Invoice Data
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-three-e-invoice">
<span class="md-ellipsis">
        Step Three: E-Invoice
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-four-contributions-and-withholdings">
<span class="md-ellipsis">
        Step Four: Contributions and Withholdings
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-five-items-list">
<span class="md-ellipsis">
        Step Five: Items list
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-six-payments-list">
<span class="md-ellipsis">
        Step Six: Payments List
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-seven-advanced-options">
<span class="md-ellipsis">
        Step Seven: Advanced Options
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-eight-attachment">
<span class="md-ellipsis">
        Step Eight: Attachment
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-nine-customisation">
<span class="md-ellipsis">
        Step Nine: Customisation
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-the-document">
<span class="md-ellipsis">
        Create the document!
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#send-the-document">
<span class="md-ellipsis">
        Send the document
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#send-the-e-invoice-to-the-sdi">
<span class="md-ellipsis">
        Send the E-Invoice to the SDI
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1>Invoice creation</h1>
<p>import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";</p>
<p>If you are struggling to create a new invoice with our API this is the place where you want to be, you will learn every step to successfully <strong>create your invoice from scratch</strong>.</p>
<p>We'll build the request step by step, so wait until the end of the guide to send your first request!</p>
<p>You can find the technical documentation of this API method <a href="/api-reference#post-/c/-company_id-/issued_documents">here</a>.</p>
<p>Some of the steps will use other API methods to create or retrieve the needed resources. You can find the required models on our <a href="/api-reference">API Reference</a> section or on the documentation of the <a href="/sdks/index.mdx">SDK</a> you're using (check the GitHub repo or the Package Manager page).</p>
<p>If you want to download the complete SDKs examples you can find them <a href="https://github.com/fattureincloud/fattureincloud-quickstarts/tree/master/invoice_creation">here</a>.</p>
<p>:::tip Retrieve your Company ID!</p>
<p>In this example, we'll suppose you have to manage just one Company, so we simply inserted its ID directly in the code. If instead, you need to be able to manage multiple companies, you'll need to retrieve the ID of the current company in some way.
Check the <a href="/basics/company-scoped-methods.mdx">Company-scoped Methods</a> page for more info.</p>
<p>:::</p>
<p>:::warning Are you using Zapier?</p>
<p><a href="/docs/quickstarts/zapier-quickstart.md">Zapier Actions</a> provide all the fields offered by the APIs, but it does not mean you need to compile all of them!
For example, while creating a new Issued Document the Document ID must be left blank!</p>
<p>To follow this guide, you will be required to search the fields used in our example on the Zapier page and insert the related values.</p>
<p>The code of the fields will follow the JSON structure: for example, the "type" field is included in the "data" object, so the Zapier code will be "data.type". You can use the <em>CRTL + F</em> command to search the field's code faster <img alt="😉" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/1f609.png" title=":wink:"/></p>
<p>In this example, we'll insert the values directly, but please remember that Zapier was built to let you select the workflow's previous steps' outputs as input in the Action, for example selecting the values returned by a trigger!</p>
<p>:::</p>
<p>:::danger I already have an e-invoice XML, can't I just send it to the SDI?</p>
<p>Unfortunately, no. TSE in Cloud lets you send documents to the SDI only if they were created through the TSE in Cloud functionalities, so if you have an XML you can't just send it to the SDI using our APIs.
Please, check <a href="/guides/externally-generated-xml.md">this guide</a> for a more detailed explanation.</p>
<p>:::</p>
<h2 id="pre-create-info"><img alt="ℹ️" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2139.png" title=":information_source:"/>  Pre-Create Info</h2>
<p>First of all, check out our <a href="/api-reference#get-/c/-company_id-/issued_documents/info">Get Issued Document Pre-Create Info</a> page, it contains most of the information you will need to create a new invoice.</p>
<h2 id="step-zero-the-document-type"><img alt="0️⃣" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/0030-20e3.png" title=":zero:"/>  Step Zero: The Document Type</h2>
<p>In this guide, we will explain how to create an <strong>invoice</strong>. We choose this type of document because it is the most common, but keep in mind that the process is almost the same for every issued document.</p>
<p>The available types are:</p>
<ul>
<li><strong>invoice</strong>: an invoice (we will use this type in this guide)</li>
<li><strong>quote</strong>: a quote</li>
<li><strong>proforma</strong>: a pro forma invoice</li>
<li><strong>receipt</strong>: a tax receipt</li>
<li><strong>delivery_note</strong>: a delivery note</li>
<li><strong>credit_note</strong>: a credit note</li>
<li><strong>order</strong>: an order</li>
<li><strong>work_report</strong>: a work report</li>
<li><strong>supplier_order</strong>: an order by the supplier</li>
<li><strong>self_own_invoice</strong>: a self-invoice in which the issuer of the document appears both as the customer and as the supplier</li>
<li><strong>self_supplier_invoice</strong>: a self-invoice in which the issuer of the document appears as the customer, while the other company acts as the supplier</li>
</ul>
<h2 id="step-one-the-customer"><img alt="1️⃣" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/0031-20e3.png" title=":one:"/>  Step One: The Customer</h2>
<p>To create an invoice, we need the customer's details. You have three options:</p>
<ul>
<li>
<p>If the customer's details were already inserted in TSE in Cloud, you can retrieve it using our API and add it to the request. See also: <a href="/api-reference#get-/c/-company_id-/entities/clients">Get the list of existing clients</a></p>
</li>
<li>
<p>If the client wasn't inserted in TSE in Cloud, but it will likely be a recurring customer (so you would like to store his details), you can insert it now, and use the returned details to populate the request. See also: <a href="/api-reference#post-/c/-company_id-/entities/clients">Create a new client</a></p>
</li>
<li>
<p>If the customer is most likely a one-time customer, you can just insert his details directly in the invoice.</p>
</li>
</ul>
<p>The Client's data must be inserted in the <strong>entity</strong> field, as shown below. If you used the Clients API to store/retrieve the details, please remember to insert the <strong>entity.id</strong> field to link the invoice accordingly.</p>
<p>:::warning We don't autocomplete!</p>
<p>If you choose to link an existing customer (or to create a new one) make sure you <strong>set all the fields you want to be shown in your invoice</strong>: at this moment we don't autocomplete your invoice with the customer details, even if he's already stored in TSE in Cloud. You can get the info about your client performing a <a href="/api-reference#get-/c/-company_id-/entities/clients/-client_id-">Get Client request</a>.</p>
<p>:::</p>
<p>The partial request looks like this:</p>
<pre><code class="language-json">// NOTE: this is a partial request, please wait before sending it
{
  "data": {
    "type": "invoice",
    "entity": {
      "id": 1, // only if the client already exists
      "name": "Mario Rossi",
      "vat_number": "47803200154",
      "tax_code": "RSSMRA91M20B967Q",
      "address_street": "Via Italia, 66",
      "address_postal_code": "20900",
      "address_city": "Milano",
      "address_province": "MI",
      "address_extra": "",
      "country": "Italia"
    }
  }
}
</code></pre>
<p>The corresponding code with our SDKs:</p>
<pre><code class="language-cs">// NOTE: this is a partial request, please wait before sending it
// in this example we are using our C# SDK https://www.nuget.org/packages/It.FattureInCloud.Sdk/

// If you want to use our Client API:
// Retrieve a client: https://github.com/fattureincloud/fattureincloud-csharp-sdk/blob/master/docs/ClientsApi.md#listclients
// Create a new client: https://github.com/fattureincloud/fattureincloud-csharp-sdk/blob/master/docs/ClientsApi.md#createclient
// Insertion on-the-fly:
Entity entity = new Entity(
    id: 1, // Only if the client already exists
    name: "Mario Rossi",
    vatNumber: "47803200154",
    taxCode: "RSSMRA91M20B967Q",
    addressStreet: "Via Italia, 66",
    addressPostalCode: "20900",
    addressCity: "Milano",
    addressProvince: "MI",
    country: "Italia"
);

IssuedDocument invoice = new IssuedDocument(
    type: IssuedDocumentType.Invoice,
    entity: entity
);
</code></pre>
<pre><code class="language-go">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our Go SDK
// https://github.com/fattureincloud/fattureincloud-go-sdk

// If you want to use our Client API:
// Retrieve a client: https://github.com/fattureincloud/fattureincloud-go-sdk/blob/master/docs/ClientsApi.md#listclients
// Create a new client: https://github.com/fattureincloud/fattureincloud-go-sdk/blob/master/docs/ClientsApi.md#CreateClient
// Insertion on-the-fly:
entity := *fattureincloud.NewEntity().
    SetId(1). // Only if the client already exists
    SetName("Mario Rossi").
    SetVatNumber("RSSMRA91M20B967Q").
    SetTaxCode("RSSMRA91M20B967Q").
    SetAddressStreet("Via Italia, 66").
    SetAddressPostalCode("20900").
    SetAddressCity("Milano").
    SetAddressProvince("MI").
    SetCountry("Italia")

// Now we create the invoice and link the entity
invoice := *fattureincloud.NewIssuedDocument().
    SetEntity(entity).
    SetType(fattureincloud.IssuedDocumentTypes.INVOICE)
</code></pre>
<pre><code class="language-java">// NOTE: this is a partial request, please wait before sending it
// in this example we are using our Java SDK https://search.maven.org/artifact/it.fattureincloud/fattureincloud-java-sdk

// If you want to use our Client API:
// Retrieve a client: https://github.com/fattureincloud/fattureincloud-java-sdk/blob/master/docs/ClientsApi.md#listlients
// Create a new client: https://github.com/fattureincloud/fattureincloud-java-sdk/blob/master/docs/ClientsApi.md#createclient
// Insertion on-the-fly:
Entity entity = new Entity()
        .id(1) // Only if the client already exists
        .name("Mario Rossi")
        .vatNumber("47803200154")
        .taxCode("RSSMRA91M20B967Q")
        .addressStreet("Via Italia, 66")
        .addressPostalCode("20900")
        .addressCity("Milano")
        .addressProvince("MI")
        .country("Italy");

IssuedDocument invoice = new IssuedDocument()
        .type(IssuedDocumentType.INVOICE)
        .entity(entity);
</code></pre>
<pre><code class="language-php">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our PHP SDK
// https://packagist.org/packages/fattureincloud/fattureincloud-php-sdk

// If you want to use our Client API:
// Retrieve a client: https://github.com/fattureincloud/fattureincloud-php-sdk/blob/master/docs/Api/ClientsApi.md#listclients
// Create a new client: https://github.com/fattureincloud/fattureincloud-php-sdk/blob/master/docs/Api/ClientsApi.md#createclient
// Insertion on-the-fly:
$entity = new Entity;
$entity
    -&gt;setId(1) // Only if the client already exists
    -&gt;setName("Mario Rossi")
    -&gt;setVatNumber("47803200154")
    -&gt;setTaxCode("RSSMRA91M20B967Q")
    -&gt;setAddressStreet("Via Italia, 66")
    -&gt;setAddressPostalCode("20900")
    -&gt;setAddressCity("Milano")
    -&gt;setAddressProvince("MI")
    -&gt;setCountry("Italia");

//now we instanciate the invoice and link the entity
$invoice = new IssuedDocument;
$invoice-&gt;setType(IssuedDocumentType::INVOICE);
$invoice-&gt;setEntity($entity);
</code></pre>
<pre><code class="language-js">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our JS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-js-sdk

// If you want to use our Client API:
// Retrieve a client: https://github.com/fattureincloud/fattureincloud-js-sdk/blob/master/docs/ClientsApi.md#listClients
// Create a new client: https://github.com/fattureincloud/fattureincloud-js-sdk/blob/master/docs/ClientsApi.md#createClient
// Insertion on-the-fly:
let entity = new fattureInCloudSdk.Entity();
entity.id = 1; // Only if the client already exists
entity.name = "Mario Rossi";
entity.vat_number = "47803200154";
entity.tax_code = "RSSMRA91M20B967Q";
entity.address_street = "Via Italia, 66";
entity.address_postal_code = "20900";
entity.address_city = "Milano";
entity.address_province = "MI";
entity.country = "Italia";

//now we instanciate the invoice and link the entity
let invoice = new fattureInCloudSdk.IssuedDocument();
invoice.type = new fattureInCloudSdk.IssuedDocumentType().invoice;
invoice.entity = entity;
</code></pre>
<pre><code class="language-py"># NOTE: this is a partial request, please wait before sending it
# in this example we are using our Python SDK
# https://pypi.org/project/fattureincloud-python-sdk/

# If you want to use our Client API:
# Retrieve a client: https://github.com/fattureincloud/fattureincloud-python-sdk/blob/master/docs/ClientsApi.md#list_clients
# Create a new client: https://github.com/fattureincloud/fattureincloud-python-sdk/blob/master/docs/ClientsApi.md#create_client
# Insertion on-the-fly:
entity = Entity(
    id=1,
    name="Mario Rossi",
    vat_number="47803200154",
    tax_code="RSSMRA91M20B967Q",
    address_street="Via Italia, 66",
    address_postal_code="20900",
    address_city="Milano",
    address_province="MI",
    country="Italia"
)

invoice = IssuedDocument(
    type = IssuedDocumentType("invoice"),
    entity = entity
)
</code></pre>
<pre><code class="language-rb"># NOTE: this is a partial request, please wait before sending it
# in this example we are using our Ruby SDK
# https://rubygems.org/gems/fattureincloud_ruby_sdk

# If you want to use our Client API:
# Retrieve a client: https://github.com/fattureincloud/fattureincloud-ruby-sdk/blob/master/docs/ClientsApi.md#list_clients
# Create a new client: https://github.com/fattureincloud/fattureincloud-ruby-sdk/blob/master/docs/ClientsApi.md#create_client
# Insertion on-the-fly:
entity = FattureInCloud_Ruby_Sdk::Entity.new(
  id: 1,
  name: "Mario Rossi",
  vat_number: "47803200154",
  tax_code: "RSSMRA91M20B967Q",
  address_street: "Via Italia, 66",
  address_postal_code: "20900",
  address_city: "Milano",
  address_province: "MI",
  country: "Italia"
)

invoice = FattureInCloud_Ruby_Sdk::IssuedDocument.new(
  type: FattureInCloud_Ruby_Sdk::IssuedDocumentType::INVOICE,
  entity: entity
)
</code></pre>
<pre><code class="language-ts">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our TS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-ts-sdk

// If you want to use our Client API:
// Retrieve a client: https://github.com/fattureincloud/fattureincloud-ts-sdk/blob/master/docs/ClientsApi.md#listClients
// Create a new client: https://github.com/fattureincloud/fattureincloud-ts-sdk/blob/master/docs/ClientsApi.md#createClient
// Insertion on-the-fly:
let entity: Entity = {};
entity.id = 1; // Only if the client already exists
entity.name = "Mario Rossi";
entity.vat_number = "47803200154";
entity.tax_code = "RSSMRA91M20B967Q";
entity.address_street = "Via Italia, 66";
entity.address_postal_code = "20900";
entity.address_city = "Milano";
entity.address_province = "MI";
entity.country = "Italia";

//now we create the invoice and link the entity
let invoice: IssuedDocument = {
  type: IssuedDocumentType.Invoice,
  entity: entity,
};
</code></pre>
<p>In Zapier, first, you need to select your Company ID. Luckily, our Actions let you select it from a simple dropdown menu.
<img alt="Zapier - Company ID Selection" src="../assets/company-id-selection.png"/></p>
<p>Next, you must set the Document Type we described in the previous step, you just need to select the correct value in the available list.</p>
<p><img alt="Zapier - Document Type" src="../assets/invoice-creation-data-type.png"/></p>
<p>Then you must set up the entity as explained above. The entity fields' codes start with the "data.entity" prefix.</p>
<p>Remember: in this example, you must insert values only in the fields we are suggesting to you!
In the image below we can't show all the fields you must fill, so you must search them all as shown before.
<img alt="Zapier - Entity" src="../assets/invoice-creation-entity.png"/>
Here you can find the list of all the fields and values you must fill for this example:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Field Code</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Entity id</td>
<td>data.entity.id</td>
<td>1</td>
<td>It must be the ID of an existing Client, or blank.</td>
</tr>
<tr>
<td>Entity name</td>
<td>data.entity.name</td>
<td>Mario Rossi</td>
<td></td>
</tr>
<tr>
<td>Entity vat number</td>
<td>data.entity.vat_number</td>
<td>47803200154</td>
<td></td>
</tr>
<tr>
<td>Entity tax code</td>
<td>data.entity.tax_code</td>
<td>RSSMRA91M20B967Q</td>
<td></td>
</tr>
<tr>
<td>Entity address street</td>
<td>data.entity.address_street</td>
<td>Via Italia, 66</td>
<td></td>
</tr>
<tr>
<td>Entity address postal code</td>
<td>data.entity.address_postal_code</td>
<td>20900</td>
<td></td>
</tr>
<tr>
<td>Entity address city</td>
<td>data.entity.address_city</td>
<td>Milano</td>
<td></td>
</tr>
<tr>
<td>Entity address province</td>
<td>data.entity.address_province</td>
<td>MI</td>
<td></td>
</tr>
<tr>
<td>Entity country</td>
<td>data.entity.country</td>
<td>Italia</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="step-two-the-invoice-data"><img alt="2️⃣" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/0032-20e3.png" title=":two:"/>  Step Two: The Invoice Data</h2>
<p>This section allows the insertion of your invoice's basic data, below you can find the main fields:</p>
<ul>
<li>
<p><strong>date</strong>: the date of issue.</p>
</li>
<li>
<p><strong>number</strong>: the progressive invoice number, if omitted it gets automatically set (<em>'numero documento'</em>, eg. <em>107</em>).</p>
</li>
<li>
<p><strong>numeration</strong>: optional invoice numeration (<em>'sezionale documento'</em>, eg. <em>"/FPA"</em>).</p>
</li>
<li>
<p><strong>visible_subject</strong>: short optional invoice description (visible in the invoice PDF).</p>
</li>
<li>
<p><strong>subject</strong>: short optional invoice description (not visible in the invoice PDF).</p>
</li>
<li>
<p><strong>language</strong>: the document language, see: <a href="/api-reference#get-/info/languages">List Languages</a></p>
</li>
<li>
<p><strong>currency</strong>: the currency used for the invoice payment, see: <a href="/api-reference#get-/info/currencies">List Currencies</a></p>
</li>
<li>
<p><strong>rc_center</strong>: optional field that represents the category of the generated revenue (centro di ricavo).</p>
</li>
</ul>
<p>The partial request looks like this:</p>
<pre><code class="language-json">// NOTE: this is a partial request, please wait before sending it
{
  "data": {
    "type": "invoice",
    "entity": {
      "id": 1,
      "name": "Mario Rossi",
      "vat_number": "47803200154",
      "tax_code": "RSSMRA91M20B967Q",
      "address_street": "Via Italia, 66",
      "address_postal_code": "20900",
      "address_city": "Milano",
      "address_province": "MI",
      "address_extra": "",
      "country": "Italia"
    },
    "date": "2022-01-20",
    "number": 1,
    "numeration": "/fatt",
    "subject": "internal subject",
    "visible_subject": "visible subject",
    "currency": {
      "id": "EUR",
      "exchange_rate": "1.00000",
      "symbol": "€"
    },
    "language": {
      "code": "it",
      "name": "Italiano"
    }
  }
}
</code></pre>
<p>The corresponding code with our SDKs:</p>
<pre><code class="language-cs">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our C# SDK
// https://www.nuget.org/packages/It.FattureInCloud.Sdk/

Entity entity = new Entity(
    id: 1,
    name: "Mario Rossi",
    vatNumber: "47803200154",
    taxCode: "RSSMRA91M20B967Q",
    addressStreet: "Via Italia, 66",
    addressPostalCode: "20900",
    addressCity: "Milano",
    addressProvince: "MI",
    country: "Italia"
);

IssuedDocument invoice = new IssuedDocument(
    type: IssuedDocumentType.Invoice,
    entity: entity,

    // Below you can find this section fields:
    date: new DateTime(2022, 01, 20),
    number: 1,
    numeration: "/fatt",
    subject: "internal subject",
    visibleSubject: "visible subject",
    // Retrieve the currencies: https://github.com/fattureincloud/fattureincloud-csharp-sdk/blob/master/docs/InfoApi.md#listCurrencies
    currency: new Currency(
        id: "EUR"
    ),
    // Retrieve the languages: https://github.com/fattureincloud/fattureincloud-csharp-sdk/blob/master/docs/InfoApi.md#listLanguages
    language: new Language(
        code: "it",
        name: "italiano"
    )
);
</code></pre>
<pre><code class="language-go">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our Go SDK
// https://github.com/fattureincloud/fattureincloud-go-sdk
entity := *fattureincloud.NewEntity().
    SetId(1).
    SetName("Mario Rossi").
    SetVatNumber("RSSMRA91M20B967Q").
    SetTaxCode("RSSMRA91M20B967Q").
    SetAddressStreet("Via Italia, 66").
    SetAddressPostalCode("20900").
    SetAddressCity("Milano").
    SetAddressProvince("MI").
    SetCountry("Italia")

invoice := *fattureincloud.NewIssuedDocument().
    SetEntity(entity).
    SetType(fattureincloud.IssuedDocumentTypes.INVOICE).
    SetDate("2022-01-20").
    SetNumber(1).
    SetNumeration("/fatt").
    SetSubject("internal subject").
    SetVisibleSubject("visible subject").
    // Retrieve the currencies: https://github.com/fattureincloud/fattureincloud-go-sdk/blob/master/docs/InfoApi.md#listcurrencies
    SetCurrency(*fattureincloud.NewCurrency().SetId("EUR")).
    // Retrieve the languages: https://github.com/fattureincloud/fattureincloud-go-sdk/blob/master/docs/InfoApi.md#ListLanguages
    SetLanguage(*fattureincloud.NewLanguage().SetCode("it").SetName("italiano"))

</code></pre>
<pre><code class="language-java">// NOTE: this is a partial request, please wait before sending it
// in this example we are using our Java SDK
// https://search.maven.org/artifact/it.fattureincloud/fattureincloud-java-sdk

Entity entity = new Entity()
        .id(1)
        .name("Mario Rossi")
        .vatNumber("47803200154")
        .taxCode("RSSMRA91M20B967Q")
        .addressStreet("Via Italia, 66")
        .addressPostalCode("20900")
        .addressCity("Milano")
        .addressProvince("MI")
        .country("Italy");

IssuedDocument invoice = new IssuedDocument()
        .type(IssuedDocumentType.INVOICE)
        .entity(entity)
        // Below you can find this section fields:
        .date(LocalDate.of(2022, 1, 20))
        .number(1)
        .numeration("/fatt")
        .subject("internal subject")
        .visibleSubject("visible subject")
        // Retrieve the currencies: https://github.com/fattureincloud/fattureincloud-java-sdk/blob/master/docs/InfoApi.md#listCurrencies
        .currency(new Currency().id("EUR"))
        // Retrieve the languages: https://github.com/fattureincloud/fattureincloud-csharp-sdk/blob/master/docs/InfoApi.md#listLanguages
        .language(new Language()
                        .code("it")
                        .name("italiano")
        );
</code></pre>
<pre><code class="language-php">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our PHP SDK
// https://packagist.org/packages/fattureincloud/fattureincloud-php-sdk

$entity = new Entity;
$entity
    -&gt;setId(1)
    -&gt;setName("Mario Rossi")
    -&gt;setVatNumber("47803200154")
    -&gt;setTaxCode("RSSMRA91M20B967Q")
    -&gt;setAddressStreet("Via Italia, 66")
    -&gt;setAddressPostalCode("20900")
    -&gt;setAddressCity("Milano")
    -&gt;setAddressProvince("MI")
    -&gt;setCountry("Italia");

$invoice = new IssuedDocument;
$invoice-&gt;setType(IssuedDocumentType::INVOICE);
$invoice-&gt;setEntity($entity);

// Below you can find this section fields:
$invoice-&gt;setDate(new DateTime("2022-01-20"));
$invoice-&gt;setNumber(1);
$invoice-&gt;setNumeration("/fatt");
$invoice-&gt;setSubject("internal subject");
$invoice-&gt;setVisibleSubject("visible subject");
// Retrieve the currencies: https://github.com/fattureincloud/fattureincloud-php-sdk/blob/master/docs/Api/InfoApi.md#listcurrencies
$invoice-&gt;setCurrency(
    new Currency(
        array(
           "id" =&gt; "EUR"
        )
    )
);
// Retrieve the languages: https://github.com/fattureincloud/fattureincloud-php-sdk/blob/master/docs/Api/InfoApi.md#listLanguages
$invoice-&gt;setLanguage(
    new Language(
        array(
            "code" =&gt; "it",
            "name" =&gt; "italiano"
        )
    )
);
</code></pre>
<pre><code class="language-js">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our JS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-js-sdk

let entity = new fattureInCloudSdk.Entity();
entity.id = 1;
entity.name = "Mario Rossi";
entity.vat_number = "47803200154";
entity.tax_code = "RSSMRA91M20B967Q";
entity.address_street = "Via Italia, 66";
entity.address_postal_code = "20900";
entity.address_city = "Milano";
entity.address_province = "MI";
entity.country = "Italia";

let invoice = new fattureInCloudSdk.IssuedDocument();
invoice.type = new fattureInCloudSdk.IssuedDocumentType().invoice;
invoice.entity = entity;
// Below you can find this section fields:
invoice.date = "2022-01-20";
invoice.number = 1;
invoice.numeration = "/fatt";
invoice.subject = "internal subject";
invoice.visible_subject = "visible subject";
// Retrieve the currencies: https://github.com/fattureincloud/fattureincloud-php-sdk/blob/master/docs/Api/InfoApi.md#listcurrencies
invoice.currency = {
  id: "EUR",
};
// Retrieve the languages: https://github.com/fattureincloud/fattureincloud-js-sdk/blob/master/docs/InfoApi.md#listLanguages
invoice.language = {
  code: "it",
  name: "Italiano",
};
</code></pre>
<pre><code class="language-py"># NOTE: this is a partial request, please wait before sending it
# in this example we are using our Python SDK
# https://pypi.org/project/fattureincloud-python-sdk/

entity = Entity(
    id=1,
    name="Mario Rossi",
    vat_number="47803200154",
    tax_code="RSSMRA91M20B967Q",
    address_street="Via Italia, 66",
    address_postal_code="20900",
    address_city="Milano",
    address_province="MI",
    country="Italia"
)

invoice = IssuedDocument(
    type = IssuedDocumentType("invoice"),
    entity = entity,
    # Below you can find this section fields:
    date = datetime.date(2021, 1, 20),
    number = 1,
    numeration = "/fatt",
    subject = "internal subject",
    visible_subject = "visible subject",
    # Retrieve the currencies: https://github.com/fattureincloud/fattureincloud-python-sdk/blob/master/docs/InfoApi.md#list_currencies
    currency = Currency(
        id="EUR"
    ),
    # Retrieve the languages: https://github.com/fattureincloud/fattureincloud-python-sdk/blob/master/docs/InfoApi.md#list_languages
    language = Language(
        code="it",
        name="italiano"
    )
)
</code></pre>
<pre><code class="language-rb"># NOTE: this is a partial request, please wait before sending it
# in this example we are using our Ruby SDK
# https://rubygems.org/gems/fattureincloud_ruby_sdk

entity = FattureInCloud_Ruby_Sdk::Entity.new(
  id: 1,
  name: "Mario Rossi",
  vat_number: "47803200154",
  tax_code: "RSSMRA91M20B967Q",
  address_street: "Via Italia, 66",
  address_postal_code: "20900",
  address_city: "Milano",
  address_province: "MI",
  country: "Italia",
)

invoice = FattureInCloud_Ruby_Sdk::IssuedDocument.new(
  type: FattureInCloud_Ruby_Sdk::IssuedDocumentType::INVOICE,
  entity: entity,
  # Below you can find this section fields:
  date: Date.new(2022, 01, 20),
  number: 1,
  numeration: "/fatt",
  subject: "internal subject",
  visible_subject: "visible subject",
  # Retrieve the currencies: https://github.com/fattureincloud/fattureincloud-ruby-sdk/blob/master/docs/InfoApi.md#list_currencies
  currency: FattureInCloud_Ruby_Sdk::Currency.new(
      id: "EUR"
  ),
  # Retrieve the languages: https://github.com/fattureincloud/fattureincloud-ruby-sdk/blob/master/docs/InfoApi.md#list_languages
  language: FattureInCloud_Ruby_Sdk::Language.new(
      code: "it",
      name: "italiano"
  )
)
</code></pre>
<pre><code class="language-ts">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our TS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-ts-sdk
let entity: Entity = {};
entity.id = 1;
entity.name = "Mario Rossi";
entity.vat_number = "47803200154";
entity.tax_code = "RSSMRA91M20B967Q";
entity.address_street = "Via Italia, 66";
entity.address_postal_code = "20900";
entity.address_city = "Milano";
entity.address_province = "MI";
entity.country = "Italia";

let invoice: IssuedDocument = {
  type: IssuedDocumentType.Invoice,
  entity: entity,
  date: "2022-01-20",
  number: 1,
  numeration: "/fatt",
  subject: "internal subject",
  visible_subject: "visible subject",
  // Retrieve the currencies: https://github.com/fattureincloud/fattureincloud-ts-sdk/blob/master/docs/InfoApi.md#listCurrencies
  currency: {
    id: "EUR",
  },
  // Retrieve the languages: https://github.com/fattureincloud/fattureincloud-ts-sdk/blob/master/docs/InfoApi.md#listLanguages
  language: {
    code: "it",
    name: "italiano",
  },
};
</code></pre>
<p>As done in the previous step, we'll show you the list of the fields to be populated for this step:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Field Code</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Issued document date</td>
<td>data.date</td>
<td>2022-01-20</td>
<td></td>
</tr>
<tr>
<td>Entity name</td>
<td>data.number</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>Entity vat number</td>
<td>data.numeration</td>
<td>/fatt</td>
<td></td>
</tr>
<tr>
<td>Entity tax code</td>
<td>data.subject</td>
<td>internal subject</td>
<td></td>
</tr>
<tr>
<td>Entity address street</td>
<td>data.visible_subject</td>
<td>visible subject</td>
<td></td>
</tr>
<tr>
<td>Currency code</td>
<td>data.currency.id</td>
<td>EUR</td>
<td>Check List Currencies</td>
</tr>
<tr>
<td>Currency exchange rate</td>
<td>data.currency.exchange_rate</td>
<td>1.00000</td>
<td>Check List Currencies</td>
</tr>
<tr>
<td>Currency symbol</td>
<td>data.currency.symbol</td>
<td>€</td>
<td>Check List Currencies</td>
</tr>
<tr>
<td>Language code</td>
<td>data.language.code</td>
<td>it</td>
<td>Check List Languages</td>
</tr>
<tr>
<td>Language extended name</td>
<td>data.language.name</td>
<td>Italiano</td>
<td>Check List Languages</td>
</tr>
</tbody>
</table>
<h2 id="step-three-e-invoice"><img alt="3️⃣" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/0033-20e3.png" title=":three:"/>  Step Three: E-Invoice</h2>
<p>If you want to issue an electronic invoice the first thing to do is to set the <strong>e_invoice</strong> field to <strong>true</strong>, then the <strong>ei_data</strong> field needs to be set accordingly to your needs:</p>
<ul>
<li>
<p><strong>vat_kind</strong>: (esigibilità iva) can be one of the following:</p>
</li>
<li>
<p>I =&gt; immediata</p>
</li>
<li>D =&gt; differita</li>
<li>
<p>S =&gt; spit payment</p>
</li>
<li>
<p><strong>payment_method</strong>: one of the accepted <a href="https://www.fatturapa.gov.it/export/documenti/fatturapa/v1.3/Rappresentazione-tabellare-fattura-ordinaria.pdf">payment methods</a></p>
</li>
<li>
<p><strong>bank_iban</strong>: automatically to your settings default payment method if it is set
  bank_name: optional bank name
  bank</p>
</li>
<li>
<p><strong>bank_beneficiary</strong>: set your name if different from your business name</p>
</li>
<li>
<p><strong>original_document_type</strong>: optional field for invoice issue reason, can be ordine, contratto, convenzione</p>
</li>
<li>
<p><strong>od_number</strong>: reference to the original document</p>
</li>
<li>
<p><strong>od_date</strong>: original document issue date</p>
</li>
<li>
<p><strong>cig</strong>: codice identificativo della gara</p>
</li>
<li>
<p><strong>cup</strong>: codice unico di progetto</p>
</li>
<li>
<p><strong>invoice_number</strong>: if document type is credit note this field is the reference to the invoice to be reversed</p>
</li>
<li>
<p><strong>invoice_date</strong>: if document type is credit note this field is the date of the invoice to be reversed</p>
</li>
</ul>
<p>There are also some fields to be set in the <strong>entity</strong> field:</p>
<ul>
<li>
<p><strong>e_invoice</strong>: must be set to true</p>
</li>
<li>
<p><strong>ei_code</strong>: customer einvoice code</p>
</li>
<li>
<p><strong>certified_email</strong>: optional customer pec</p>
</li>
</ul>
<p>If you have to set advanced parameters you have to use the <a href="/guides/e-invoice-xml-customisation.mdx">ei_raw fields</a>.</p>
<p>The partial request looks like this:</p>
<pre><code class="language-json">// NOTE: this is a partial request, please wait before sending it
{
  "data": {
    "type": "invoice",
    "entity": {
      "id": 1,
      "name": "Mario Rossi",
      "vat_number": "47803200154",
      "tax_code": "RSSMRA91M20B967Q",
      "address_street": "Via Italia, 66",
      "address_postal_code": "20900",
      "address_city": "Milano",
      "address_province": "MI",
      "address_extra": "",
      "country": "Italia"
    },
    "date": "2022-01-20",
    "number": 1,
    "numeration": "/fatt",
    "subject": "internal subject",
    "visible_subject": "visible subject",
    "currency": {
      "id": "EUR",
      "exchange_rate": "1.00000",
      "symbol": "€"
    },
    "language": {
      "code": "it",
      "name": "Italiano"
    },
    // Here we set e_invoice and ei_data
    "e_invoice": true,
    "ei_data": {
      "payment_method": "MP05"
    }
  }
}
</code></pre>
<p>The corresponding code with our SDKs:</p>
<pre><code class="language-cs">// NOTE: this is a partial request, please wait before sending it
// in this example we are using our C# SDK
// https://www.nuget.org/packages/It.FattureInCloud.Sdk/

Entity entity = new Entity(
    id: 1,
    name: "Mario Rossi",
    vatNumber: "47803200154",
    taxCode: "RSSMRA91M20B967Q",
    addressStreet: "Via Italia, 66",
    addressPostalCode: "20900",
    addressCity: "Milano",
    addressProvince: "MI",
    country: "Italia"
);

IssuedDocument invoice = new IssuedDocument(
    type: IssuedDocumentType.Invoice,
    entity: entity,
    date: new DateTime(2022, 01, 20),
    number: 1,
    numeration: "/fatt",
    subject: "internal subject",
    visibleSubject: "visible subject",
    currency: new Currency(
        id: "EUR"
    ),
    language: new Language(
        code: "it",
        name: "italiano"
    ),
    // Here we set e_invoice and ei_data
    eInvoice: true,
    eiData: new IssuedDocumentEiData(
        paymentMethod:"MP05"
    )
);
</code></pre>
<pre><code class="language-go">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our Go SDK
// https://github.com/fattureincloud/fattureincloud-go-sdk
entity := *fattureincloud.NewEntity().
    SetId(1).
    SetName("Mario Rossi").
    SetVatNumber("RSSMRA91M20B967Q").
    SetTaxCode("Via Italia, 66").
    SetAddressPostalCode("20900").
    SetAddressProvince("MI").
    SetCountry("Italia")

invoice := *fattureincloud.NewIssuedDocument().
    SetEntity(entity).
    SetType(fattureincloud.IssuedDocumentTypes.INVOICE).
    SetDate("2022-01-20").
    SetNumber(1).
    SetNumeration("/fatt").
    SetSubject("internal subject").
    SetVisibleSubject("visible subject").
    SetCurrency(*fattureincloud.NewCurrency().SetId("EUR")).
    SetLanguage(*fattureincloud.NewLanguage().SetCode("it").SetName("italiano")).
    // Here we set e_invoice and ei_data
    SetEInvoice(true).
    SetEiData(*fattureincloud.NewIssuedDocumentEiData().SetPaymentMethod("MP05"))
</code></pre>
<pre><code class="language-java">// NOTE: this is a partial request, please wait before sending it
// in this example we are using our Java SDK
// https://search.maven.org/artifact/it.fattureincloud/fattureincloud-java-sdk

Entity entity = new Entity()
        .id(1)
        .name("Mario Rossi")
        .vatNumber("47803200154")
        .taxCode("RSSMRA91M20B967Q")
        .addressStreet("Via Italia, 66")
        .addressPostalCode("20900")
        .addressCity("Milano")
        .addressProvince("MI")
        .country("Italy");

IssuedDocument invoice = new IssuedDocument()
        .type(IssuedDocumentType.INVOICE)
        .entity(entity)
        .date(LocalDate.of(2022, 1, 20))
        .number(1)
        .numeration("/fatt")
        .subject("internal subject")
        .visibleSubject("visible subject")
        .currency(new Currency().id("EUR"))
        .language(new Language()
                        .code("it")
                        .name("italiano"))
        // Here we set e_invoice and ei_data
        .eInvoice(true)
        .eiData(
            new IssuedDocumentEiData()
                .paymentMethod("MP05")
        );
</code></pre>
<pre><code class="language-php">// NOTE: this is a partial request, please wait before sending it
// in this example we are using our PHP SDK
// https://packagist.org/packages/fattureincloud/fattureincloud-php-sdk

$entity = new Entity;
$entity
    -&gt;setId(1)
    -&gt;setName("Mario Rossi")
    -&gt;setVatNumber("47803200154")
    -&gt;setTaxCode("RSSMRA91M20B967Q")
    -&gt;setAddressStreet("Via Italia, 66")
    -&gt;setAddressPostalCode("20900")
    -&gt;setAddressCity("Milano")
    -&gt;setAddressProvince("MI")
    -&gt;setCountry("Italia");

$invoice = new IssuedDocument;
$invoice-&gt;setType(IssuedDocumentType::INVOICE);
$invoice-&gt;setEntity($entity);
$invoice-&gt;setDate(new DateTime("2022-01-20"));
$invoice-&gt;setNumber(1);
$invoice-&gt;setNumeration("/fatt");
$invoice-&gt;setSubject("internal subject");
$invoice-&gt;setVisibleSubject("visible subject");
$invoice-&gt;setCurrency(
    new Currency(
        array(
           "id" =&gt; "EUR"
        )
    )
);
$invoice-&gt;setLanguage(
    new Language(
        array(
            "code" =&gt; "it",
            "name" =&gt; "italiano"
        )
    )
);
// Here we set e_invoice and ei_data
$invoice-&gt;setEInvoice(true);
$invoice-&gt;setEiData(
    new IssuedDocumentEiData(
        array(
            "payment_method" =&gt; "MP05"
        )
    )
);

</code></pre>
<pre><code class="language-js">// NOTE: this is a partial request, please wait before sending it
// in this example we are using our JS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-js-sdk

let entity = new fattureInCloudSdk.Entity()
entity.id = 1
entity.name = "Mario Rossi"
entity.vat_number = "47803200154"
entity.tax_code = "RSSMRA91M20B967Q"
entity.address_street = "Via Italia, 66"
entity.address_postal_code = "20900"
entity.address_city = "Milano"
entity.address_province = "MI"
entity.country = "Italia"

let invoice = new fattureInCloudSdk.IssuedDocument()
invoice.type = new fattureInCloudSdk.IssuedDocumentType().invoice
invoice.entity = entity
invoice.date = "2022-01-20"
invoice.number = 1
invoice.numeration = "/fatt"
invoice.subject = "internal subject"
invoice.visible_subject = "visible subject"
invoice.currency = {
    id: "EUR"
}
invoice.language = {
    code: "it",
    name: "Italiano"
}
// Here we set e_invoice and ei_data
invoice.e_invoice = true
invoice.ei_data = {
    payment_method = "MP05"
}
</code></pre>
<pre><code class="language-py"># NOTE: this is a partial request, please wait before sending it
# in this example we are using our Python SDK
# https://pypi.org/project/fattureincloud-python-sdk/

entity = Entity(
    id=1,
    name="Mario Rossi",
    vat_number="47803200154",
    tax_code="RSSMRA91M20B967Q",
    address_street="Via Italia, 66",
    address_postal_code="20900",
    address_city="Milano",
    address_province="MI",
    country="Italia"
)

invoice = IssuedDocument(
    type = IssuedDocumentType("invoice"),
    entity = entity,
    date = datetime.date(2021, 1, 20),
    number = 1,
    numeration = "/fatt",
    subject = "internal subject",
    visible_subject = "visible subject",
    currency = Currency(
        id="EUR"
    ),
    language = Language(
        code="it",
        name="italiano"
    ),
    # Here we set e_invoice and ei_data
    e_invoice = True,
    ei_data = IssuedDocumentEiData(
        payment_method="MP05"
    )
)
</code></pre>
<pre><code class="language-rb"># NOTE: this is a partial request, please wait before sending it
# in this example we are using our Ruby SDK
# https://rubygems.org/gems/fattureincloud_ruby_sdk

entity = FattureInCloud_Ruby_Sdk::Entity.new(
  id: 1,
  name: "Mario Rossi",
  vat_number: "47803200154",
  tax_code: "RSSMRA91M20B967Q",
  address_street: "Via Italia, 66",
  address_postal_code: "20900",
  address_city: "Milano",
  address_province: "MI",
  country: "Italia"
)

invoice = FattureInCloud_Ruby_Sdk::IssuedDocument.new(
  type: FattureInCloud_Ruby_Sdk::IssuedDocumentType::INVOICE,
  entity: entity,
  date: Date.new(2022, 01, 20),
  number: 1,
  numeration: "/fatt",
  subject: "internal subject",
  visible_subject: "visible subject",
  currency: FattureInCloud_Ruby_Sdk::Currency.new(
      id: "EUR"
  ),
  language: FattureInCloud_Ruby_Sdk::Language.new(
      code: "it",
      name: "italiano"
  ),
  # Here we set e_invoice and ei_data
  e_invoice: true,
  ei_data: FattureInCloud_Ruby_Sdk::IssuedDocumentEiData.new(
    payment_method: "MP05"
  )
)
</code></pre>
<pre><code class="language-ts">// NOTE: this is a partial request, please wait before sending it
// in this example we are using our TS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-ts-sdk

let entity: Entity = {};
entity.id = 1;
entity.name = "Mario Rossi";
entity.vat_number = "47803200154";
entity.tax_code = "RSSMRA91M20B967Q";
entity.address_street = "Via Italia, 66";
entity.address_postal_code = "20900";
entity.address_city = "Milano";
entity.address_province = "MI";
entity.country = "Italia";

let invoice: IssuedDocument = {
  type: IssuedDocumentType.Invoice,
  entity: entity,
  date: "2022-01-20",
  number: 1,
  numeration: "/fatt",
  subject: "internal subject",
  visible_subject: "visible subject",
  currency: {
    id: "EUR",
  },
  language: {
    code: "it",
    name: "italiano",
  },
  // Here we set e_invoice and ei_data
  e_invoice: true,
  ei_data: {
    payment_method: "MP05",
  },
};
</code></pre>
<p>As done in the previous step, we'll show you the list of the fields to be populated for this step:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Field Code</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Issued document is an e-invoice</td>
<td>data.e_invoice</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>E-invoice payment methid</td>
<td>data.ei_data.payment_method</td>
<td>MP05</td>
<td>see <a href="https://www.fatturapa.gov.it/export/documenti/fatturapa/v1.2.2/Rappresentazione_Tabellare_FattOrdinaria_V1.2.2.pdf">here</a> for the accepted values of ModalitaPagamento</td>
</tr>
</tbody>
</table>
<h2 id="step-four-contributions-and-withholdings"><img alt="4️⃣" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/0034-20e3.png" title=":four:"/>  Step Four: Contributions and Withholdings</h2>
<p>The Contributions and withholdings section allows the insertion of Casse Professionali, Rivalsa, Withholding tax, and other Withholdings / Enasarco.</p>
<ul>
<li>
<p><strong>cassa professionisti</strong>: you can set up two Casse professionisti and set the fields according to your needs.</p>
</li>
<li>
<p><strong>rivalsa (INPS)</strong>: you can set up the Rivalsa and charge it to your clients setting the appropriate fields.</p>
</li>
<li>
<p><strong>withholding tax</strong>: you can set up the Irpef withholding tax setting the appropriate fields.</p>
</li>
<li>
<p><strong>enasarco</strong> and <strong>other withholdings</strong>: you will find also the fields to set up Enasarco and other Withholdings.</p>
</li>
</ul>
<h2 id="step-five-items-list"><img alt="5️⃣" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/0035-20e3.png" title=":five:"/>  Step Five: Items list</h2>
<p>The items composing the invoice are included in the <em>Items List</em> section.</p>
<p>As already seen in step one, you have three possibilities to add items:</p>
<ul>
<li>
<p>If you already inserted the Product in the TSE in Cloud API, you can retrieve it using the Products API. See also: <a href="/api-reference#get-/c/-company_id-/products">Get a list of the products</a></p>
</li>
<li>
<p>If this is a new product, and you want to add it to TSE in Cloud, you can do it now. See also: <a href="/api-reference#post-/c/-company_id-/products">Create a new product</a></p>
</li>
<li>
<p>If you don't want to save this product for future use, just insert it in the request.</p>
</li>
</ul>
<p>The <em>items_list</em> is an array of items: Just remember to specify the id if you inserted a product using the Product API and want to link it to the invoice.</p>
<p>If you are not familiar with the invoice item, you can find below the description of the fields:</p>
<ul>
<li>
<p><strong>code</strong>: optional, a custom code</p>
</li>
<li>
<p><strong>name</strong>: product name</p>
</li>
<li>
<p><strong>net_price</strong>/<strong>gross_price</strong>: price per single item, if you set the flag use_gross_prices to true you have to specify the gross_price</p>
</li>
<li>
<p><strong>vat</strong>: the only field you have to set is the id, you can get the id of the vat you need by performing a <a href="/api-reference#get-/c/-company_id-/info/vat_types">list vat type</a> call or <a href="/api-reference#post-/c/-company_id-/settings/vat_types">create a vat type</a> if the one you want does not exist yet.</p>
</li>
<li>
<p><strong>discount</strong>: optional, discount percentage, automatically set if you specified the default discount in the relative client registry</p>
</li>
<li>
<p><strong>category</strong>: useful to categorize your products</p>
</li>
<li>
<p><strong>description</strong>: additional details</p>
</li>
<li>
<p><strong>qty</strong>: number of products sold</p>
</li>
<li>
<p><strong>measure</strong>: optional, unit of measure of the product (eg: kilograms, liters, days, etc...)</p>
</li>
<li>
<p><strong>not_taxable</strong>: if this flag is set to true the amount will not be counted as revenue.</p>
</li>
<li>
<p><strong>apply_withholding_tax</strong>: if you don't want withholding taxes, rivalsa, and cassa to be applied set this flag to false.</p>
</li>
</ul>
<p>If you want to add a 'bollo a carico del cliente' in a einvoice, you have to add a new item, set the <em>name</em> to 'Bollo in fattura', <em>net_price</em> to 2€, <em>not_taxable</em> to true and the <em>vat.id</em> field to 21 (0% Escluso Art.15), if the invoice is not electronic it's enough to set the field <em>stamp_duty</em> to the amount you want to charge, keep in mind that using the <em>stamp_duty</em> in a einvoice the 'bollo' will be charged to you, not to the customer.</p>
<p>:::warning We don't autocomplete!</p>
<p>If you choose to link an existing product (or to create a new one) make sure you <strong>set all the fields you want to be shown in your invoice</strong>: at this moment we don't autocomplete your invoice with the product details, even if it is already stored in TSE in Cloud. You can get the info about your product performing a <a href="/api-reference#get-/c/-company_id-/products/-product_id-">Get Product request</a>.</p>
<p>:::</p>
<p>Now we add the items_list to our request:</p>
<pre><code class="language-json">// NOTE: this is a partial request, please wait before sending it

{
    "data": {
        "type": "invoice",
        "entity": {
            "id": 1,
            "name": "Mario Rossi",
            "vat_number": "47803200154",
            "tax_code": "RSSMRA91M20B967Q",
            "address_street": "Via Italia, 66",
            "address_postal_code": "20900",
            "address_city": "Milano",
            "address_province": "MI",
            "address_extra": "",
            "country": "Italia"
        },
        "date": "2022-01-20",
        "number": 1,
        "numeration": "/fatt",
        "subject": "internal subject",
        "visible_subject": "visible subject",
        "currency": {
            "id": "EUR",
            "exchange_rate": "1.00000",
            "symbol": "€"
        },
        "language": {
            "code": "it",
            "name": "Italiano"
        },
        "items_list": [
            {
                "product_id": 4,
                "code": "TV3",
                "name": "Tavolo in legno",
                "net_price": 100,
                "category": "cucina",
                "discount": 0,
                "qty": 1,
                "vat": {
                    "id": 0 #22%
                }
            }
        ]
    }
}
</code></pre>
<p>The corresponding code with our SDKs:</p>
<pre><code class="language-cs">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our C# SDK
// https://www.nuget.org/packages/It.FattureInCloud.Sdk/

Entity entity = new Entity(
    id: 1,
    name: "Mario Rossi",
    vatNumber: "47803200154",
    taxCode: "RSSMRA91M20B967Q",
    addressStreet: "Via Italia, 66",
    addressPostalCode: "20900",
    addressCity: "Milano",
    addressProvince: "MI",
    country: "Italia"
);

IssuedDocument invoice = new IssuedDocument(
    type: IssuedDocumentType.Invoice,
    entity: entity,
    date: new DateTime(2022, 01, 20),
    number: 1,
    numeration: "/fatt",
    subject: "internal subject",
    visibleSubject: "visible subject",
    currency: new Currency(
        id: "EUR"
    ),
    language: new Language(
        code: "it",
        name: "italiano"
    ),
    // Here we set the Items List
    // List your products: https://github.com/fattureincloud/fattureincloud-csharp-sdk/blob/master/docs/ProductsApi.md#listProducts
        new IssuedDocumentItemsListItem(
            productId: 4,
            code: "TV3",
            name: "Tavolo in legno",
            netPrice: 100,
            category: "cucina",
            discount: 0,
            qty: 1,
            vat: new VatType(
                id: 0
            )
        )
    }
);
</code></pre>
<pre><code class="language-go">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our Go SDK
// https://github.com/fattureincloud/fattureincloud-go-sdk
entity := *fattureincloud.NewEntity().
    SetId(1).
    SetName("Mario Rossi").
    SetVatNumber("RSSMRA91M20B967Q").
    SetTaxCode("RSSMRA91M20B967Q").
    SetAddressStreet("Via Italia, 66").
    SetAddressPostalCode("20900").
    SetAddressCity("Milano").
    SetAddressProvince("MI").
    SetCountry("Italia")

invoice := *fattureincloud.NewIssuedDocument().
    SetEntity(entity).
    SetType(fattureincloud.IssuedDocumentTypes.INVOICE).
    SetDate("2022-01-20").
    SetNumber(1).
    SetNumeration("/fatt").
    SetSubject("internal subject").
    SetVisibleSubject("visible subject").
    SetCurrency(*fattureincloud.NewCurrency().SetId("EUR")).
    SetLanguage(*fattureincloud.NewLanguage().SetCode("it").SetName("italiano")).
    // Here we set the Items List
    // List your products: https://github.com/fattureincloud/fattureincloud-go-sdk/blob/master/docs/ProductsApi.md#listProducts
    SetItemsList([]fattureincloud.IssuedDocumentItemsListItem{
        *fattureincloud.NewIssuedDocumentItemsListItem().
            SetProductId(4).
            SetCode("TV3").
            SetName("Tavolo in legno").
            SetNetPrice(100).
            SetCategory("cucina").
            SetDiscount(0).
            SetQty(1).
            SetVat(*fattureincloud.NewVatType().SetId(0)),
    })
</code></pre>
<pre><code class="language-java">// NOTE: this is a partial request, please wait before sending it
// in this example we are using our Java SDK
// https://search.maven.org/artifact/it.fattureincloud/fattureincloud-java-sdk

Entity entity = new Entity()
        .id(1)
        .name("Mario Rossi")
        .vatNumber("47803200154")
        .taxCode("RSSMRA91M20B967Q")
        .addressStreet("Via Italia, 66")
        .addressPostalCode("20900")
        .addressCity("Milano")
        .addressProvince("MI")
        .country("Italy");

IssuedDocument invoice = new IssuedDocument()
        .type(IssuedDocumentType.INVOICE)
        .entity(entity)
        .date(LocalDate.of(2022, 1, 20))
        .number(1)
        .numeration("/fatt")
        .subject("internal subject")
        .visibleSubject("visible subject")
        .currency(new Currency().id("EUR"))
        .language(new Language()
                        .code("it")
                        .name("italiano")
        )
        // Here we set the Items List
        // List your products: https://github.com/fattureincloud/fattureincloud-java-sdk/blob/master/docs/ProductsApi.md#listProducts
        .addItemsListItem(
                new IssuedDocumentItemsListItem()
                        .productId(4)
                        .code("TV3")
                        .name("Tavolo in legno")
                        .netPrice(BigDecimal.valueOf(100))
                        .category("cucina")
                        .discount(BigDecimal.valueOf(0))
                        .qty(BigDecimal.valueOf(1))
                        .vat(new VatType().id(0))
        );
</code></pre>
<pre><code class="language-php">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our PHP SDK
// https://packagist.org/packages/fattureincloud/fattureincloud-php-sdk

$entity = new Entity;
$entity
    -&gt;setId(1)
    -&gt;setName("Mario Rossi")
    -&gt;setVatNumber("47803200154")
    -&gt;setTaxCode("RSSMRA91M20B967Q")
    -&gt;setAddressStreet("Via Italia, 66")
    -&gt;setAddressPostalCode("20900")
    -&gt;setAddressCity("Milano")
    -&gt;setAddressProvince("MI")
    -&gt;setCountry("Italia");

$invoice = new IssuedDocument;
$invoice-&gt;setType(IssuedDocumentType::INVOICE);
$invoice-&gt;setEntity($entity);
$invoice-&gt;setDate(new DateTime("2022-01-20"));
$invoice-&gt;setNumber(1);
$invoice-&gt;setNumeration("/fatt");
$invoice-&gt;setSubject("internal subject");
$invoice-&gt;setVisibleSubject("visible subject");
$invoice-&gt;setCurrency(
    new Currency(
        array(
           "id" =&gt; "EUR"
        )
    )
);
$invoice-&gt;setLanguage(
    new Language(
        array(
            "code" =&gt; "it",
            "name" =&gt; "italiano"
        )
    )
);
// Here we set the Items List
// List your products: https://github.com/fattureincloud/fattureincloud-php-sdk/blob/master/docs/Api/ProductsApi.md#listproducts
$invoice-&gt;setItemsList(
    array(
        new IssuedDocumentItemsListItem(
            array(
                "product_id" =&gt; 4,
                "code" =&gt; "TV3",
                "name" =&gt; "Tavolo in legno",
                "net_price" =&gt; 100,
                "category" =&gt; "cucina",
                "discount" =&gt; 0,
                "qty" =&gt; 1,
                "vat" =&gt; new VatType(
                    array(
                        "id" =&gt; 0
                    )
                )
            )
        )
    )
);
</code></pre>
<pre><code class="language-js">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our JS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-js-sdk

let entity = new fattureInCloudSdk.Entity();
entity.id = 1;
entity.name = "Mario Rossi";
entity.vat_number = "47803200154";
entity.tax_code = "RSSMRA91M20B967Q";
entity.address_street = "Via Italia, 66";
entity.address_postal_code = "20900";
entity.address_city = "Milano";
entity.address_province = "MI";
entity.country = "Italia";

let invoice = new fattureInCloudSdk.IssuedDocument();
invoice.type = new fattureInCloudSdk.IssuedDocumentType().invoice;
invoice.entity = entity;
invoice.date = "2022-01-20";
invoice.number = 1;
invoice.numeration = "/fatt";
invoice.subject = "internal subject";
invoice.visible_subject = "visible subject";
invoice.currency = {
  id: "EUR",
};
invoice.language = {
  code: "it",
  name: "Italiano",
};
// Here we set the Items List
// List your products: https://github.com/fattureincloud/fattureincloud-js-sdk/blob/master/docs/ProductsApi.md#listProducts
invoice.items_list = [
  {
    product_id: 4,
    code: "tv3",
    name: "tavolo in legno",
    net_price: 100,
    category: "cucina",
    discount: 0,
    qty: 1,
    vat: {
      id: 0,
    },
  },
];
</code></pre>
<pre><code class="language-py"># NOTE: this is a partial request, please wait before sending it
# in this example we are using our Python SDK
# https://pypi.org/project/fattureincloud-python-sdk/

entity = Entity(
    id=1,
    name="Mario Rossi",
    vat_number="47803200154",
    tax_code="RSSMRA91M20B967Q",
    address_street="Via Italia, 66",
    address_postal_code="20900",
    address_city="Milano",
    address_province="MI",
    country="Italia"
)

invoice = IssuedDocument(
    type = IssuedDocumentType("invoice"),
    entity = entity,
    date = datetime.date(2021, 1, 20),
    number = 1,
    numeration = "/fatt",
    subject = "internal subject",
    visible_subject = "visible subject",
    currency = Currency(
        id="EUR"
    ),
    language = Language(
        code="it",
        name="italiano"
    ),
    # Here we set the Items List
    # List your products: https://github.com/fattureincloud/fattureincloud-python-sdk/blob/master/docs/ProductsApi.md#list_products
    items_list = [
        IssuedDocumentItemsListItem(
            product_id=4,
            code="TV3",
            name="Tavolo in legno",
            net_price=100.0,
            category="cucina",
            discount=0.0,
            qty=1.0,
            vat=VatType(
                id=0
            )
        )
    ]
)
</code></pre>
<pre><code class="language-rb"># NOTE: this is a partial request, please wait before sending it
# in this example we are using our Ruby SDK
# https://rubygems.org/gems/fattureincloud_ruby_sdk

entity = FattureInCloud_Ruby_Sdk::Entity.new(
  id: 1,
  name: "Mario Rossi",
  vat_number: "47803200154",
  tax_code: "RSSMRA91M20B967Q",
  address_street: "Via Italia, 66",
  address_postal_code: "20900",
  address_city: "Milano",
  address_province: "MI",
  country: "Italia",
)

invoice = FattureInCloud_Ruby_Sdk::IssuedDocument.new(
  type: FattureInCloud_Ruby_Sdk::IssuedDocumentType::INVOICE,
  entity: entity,
  date: Date.new(2022, 01, 20),
  number: 1,
  numeration: "/fatt",
  subject: "internal subject",
  visible_subject: "visible subject",
  currency: FattureInCloud_Ruby_Sdk::Currency.new(
      id: "EUR"
  ),
  language: FattureInCloud_Ruby_Sdk::Language.new(
      code: "it",
      name: "italiano"
  ),
  # Here we set the Items List
  # List your products: https://github.com/fattureincloud/fattureincloud-ruby-sdk/blob/master/docs/ProductsApi.md#list_products
  items_list: Array(
    FattureInCloud_Ruby_Sdk::IssuedDocumentItemsListItem.new(
          product_id: 4,
          code: "TV3",
          name: "Tavolo in legno",
          net_price: 100,
          category: "cucina",
          discount: 0,
          qty: 1,
          vat: FattureInCloud_Ruby_Sdk::VatType.new(
              id: 0
          )
      )
  )
)
</code></pre>
<pre><code class="language-ts">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our TS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-ts-sdk
let entity: Entity = {};
entity.id = 1;
entity.name = "Mario Rossi";
entity.vat_number = "47803200154";
entity.tax_code = "RSSMRA91M20B967Q";
entity.address_street = "Via Italia, 66";
entity.address_postal_code = "20900";
entity.address_city = "Milano";
entity.address_province = "MI";
entity.country = "Italia";

let invoice: IssuedDocument = {
  type: IssuedDocumentType.Invoice,
  entity: entity,
  date: "2022-01-20",
  number: 1,
  numeration: "/fatt",
  subject: "internal subject",
  visible_subject: "visible subject",
  currency: {
    id: "EUR",
  },
  language: {
    code: "it",
    name: "italiano",
  },
  // Here we set the Items List
  // List your products: https://github.com/fattureincloud/fattureincloud-ts-sdk/blob/master/docs/ProductsApi.md#listProducts
  items_list: [
    {
      product_id: 4,
      code: "TV3",
      name: "Tavolo in legno",
      net_price: 100,
      category: "cucina",
      discount: 0,
      qty: 1,
      vat: {
        id: 0,
      },
    },
  ],
};
</code></pre>
<p>The Items List in fact accepts an array of items.</p>
<p>In this example, we'll insert only a single item, but you can check how to insert multiple items in the <a href="https://zapier.com/blog/formatter-line-item-automation/">Zapier Documentation</a>.</p>
<p>As done in the previous step, we'll show you the list of the fields to be populated for this step:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Field Code</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Data.items list - Issued document item product id</td>
<td>data.items_list.product_id</td>
<td>4</td>
<td>Check List Products</td>
</tr>
<tr>
<td>Data.items list - Issued document item product code</td>
<td>data.items_list.code</td>
<td>TV3</td>
<td></td>
</tr>
<tr>
<td>Data.items list - Issued document item product name</td>
<td>data.items_list.name</td>
<td>Tavolo in legno</td>
<td></td>
</tr>
<tr>
<td>Data.items list - Issued document item product net price</td>
<td>data.items_list.net_price</td>
<td>100</td>
<td></td>
</tr>
<tr>
<td>Data.items list - Issued document item product category</td>
<td>data.items_list.category</td>
<td>cucina</td>
<td></td>
</tr>
<tr>
<td>Data.items list - Issued document item product description</td>
<td>data.items_list.discount</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>Data.items list - Issued document item product qty</td>
<td>data.items_list.qty</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>Data.items list - Vat type id</td>
<td>data.items_list.vat.id</td>
<td>0</td>
<td>Check List VAT Type</td>
</tr>
</tbody>
</table>
<h2 id="step-six-payments-list"><img alt="6️⃣" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/0036-20e3.png" title=":six:"/>  Step Six: Payments List</h2>
<p>The Payment List section allows the insertion of all the info about your invoice payments.</p>
<ul>
<li>
<p><strong>amount</strong>: the amount of the payment.</p>
</li>
<li>
<p><strong>payment_terms</strong>: the number of days by which the payment must be made can be set.</p>
</li>
<li>
<p><strong>due_date</strong>: the date by which the payment must be made.</p>
</li>
<li>
<p><strong>status</strong>: the payment status, can be not_paid, paid, and reversed.</p>
</li>
<li>
<p><strong>payment_account</strong>: if the status of the invoice is paid, the payment account id needs to be set, make sure it exists or you will get an error. You can <a href="/api-reference#get-/c/-company_id-/info/payment_accounts">get a list of your payment accounts</a> or <a href="/api-reference#post-/c/-company_id-/settings/payment_accounts">create a new one</a> as you need.</p>
</li>
</ul>
<p>Here we suppose that the status is "paid", and we add the new parameters to the request:</p>
<pre><code class="language-json">// NOTE: this is a partial request, please wait before sending it

{
  "data": {
    "type": "invoice",
    "entity": {
      "id": 1,
      "name": "Mario Rossi",
      "vat_number": "47803200154",
      "tax_code": "RSSMRA91M20B967Q",
      "address_street": "Via Italia, 66",
      "address_postal_code": "20900",
      "address_city": "Milano",
      "address_province": "MI",
      "address_extra": "",
      "country": "Italia"
    },
    "date": "2022-01-20",
    "number": 1,
    "numeration": "/fatt",
    "subject": "internal subject",
    "visible_subject": "visible subject",
    "currency": {
      "id": "EUR",
      "exchange_rate": "1.00000",
      "symbol": "€"
    },
    "language": {
      "code": "it",
      "name": "Italiano"
    },
    "items_list": [
      {
        "product_id": 4,
        "code": "TV3",
        "name": "Tavolo in legno",
        "net_price": 100,
        "category": "cucina",
        "discount": 0,
        "qty": 1,
        "vat": {
          "id": 0
        }
      }
    ],
    "payments_list": [
      {
        "amount": 122,
        "due_date": "2022-01-23",
        "paid_date": "2022-01-22",
        "status": "paid",
        "payment_account": {
          "id": 110
        }
      }
    ]
  }
}
</code></pre>
<p>The corresponding code with our SDKs:</p>
<pre><code class="language-cs">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our C# SDK
// https://www.nuget.org/packages/It.FattureInCloud.Sdk/

Entity entity = new Entity(
    id: 1,
    name: "Mario Rossi",
    vatNumber: "47803200154",
    taxCode: "RSSMRA91M20B967Q",
    addressStreet: "Via Italia, 66",
    addressPostalCode: "20900",
    addressCity: "Milano",
    addressProvince: "MI",
    country: "Italia"
);

IssuedDocument invoice = new IssuedDocument(
    type: IssuedDocumentType.Invoice,
    entity: entity,
    date: new DateTime(2022, 01, 20),
    number: 1,
    numeration: "/fatt",
    subject: "internal subject",
    visibleSubject: "visible subject",
    currency: new Currency(
        id: "EUR"
    ),
    language: new Language(
        code: "it",
        name: "italiano"
    ),
        new IssuedDocumentItemsListItem(
            productId: 4,
            code: "TV3",
            name: "Tavolo in legno",
            netPrice: 100,
            category: "cucina",
            discount: 0,
            qty: 1,
            vat: new VatType(
                id: 0
            )
        )
    },
    // Here we set the payments list assuming our invoice has already been paid
        new IssuedDocumentPaymentsListItem(
            amount: 122,
            dueDate: new DateTime(2022, 01, 23),
            paidDate: new DateTime(2022, 01, 22),
            status: IssuedDocumentStatus.Paid,
            // List your payment accounts: https://github.com/fattureincloud/fattureincloud-csharp-sdk/blob/master/docs/InfoApi.md#listPaymentAccounts
            paymentAccount: new PaymentAccount(
                id: 110
            )
        )
    }
);
</code></pre>
<pre><code class="language-go">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our Go SDK
// https://github.com/fattureincloud/fattureincloud-go-sdk
entity := *fattureincloud.NewEntity().
    SetId(1).
    SetName("Mario Rossi").
    SetVatNumber("RSSMRA91M20B967Q").
    SetTaxCode("RSSMRA91M20B967Q").
    SetAddressStreet("Via Italia, 66").
    SetAddressPostalCode("20900").
    SetAddressCity("Milano").
    SetAddressProvince("MI").
    SetCountry("Italia")

invoice := *fattureincloud.NewIssuedDocument().
    SetEntity(entity).
    SetType(fattureincloud.IssuedDocumentTypes.INVOICE).
    SetDate("2022-01-20").
    SetNumber(1).
    SetNumeration("/fatt").
    SetSubject("internal subject").
    SetVisibleSubject("visible subject").
    SetCurrency(*fattureincloud.NewCurrency().SetId("EUR")).
    SetLanguage(*fattureincloud.NewLanguage().SetCode("it").SetName("italiano")).
    SetItemsList([]fattureincloud.IssuedDocumentItemsListItem{
        *fattureincloud.NewIssuedDocumentItemsListItem().
            SetProductId(4).
            SetCode("TV3").
            SetName("Tavolo in legno").
            SetNetPrice(100).
            SetCategory("cucina").
            SetDiscount(0).
            SetQty(1).
            SetVat(*fattureincloud.NewVatType().SetId(0)),
    }).
    // Here we set the Payments List
    // List your payment accounts: https://github.com/fattureincloud/fattureincloud-ts-sdk/blob/master/docs/InfoApi.md#listPaymentAccounts
    SetPaymentsList([]fattureincloud.IssuedDocumentPaymentsListItem{
        *fattureincloud.NewIssuedDocumentPaymentsListItem().
            SetAmount(122).
            SetDueDate("2022-01-23").
            SetPaidDate("2022-01-22").
            SetStatus(fattureincloud.IssuedDocumentStatuses.NOT_PAID).
            SetPaymentAccount(*fattureincloud.NewPaymentAccount().SetId(110)),
    })
</code></pre>
<pre><code class="language-java">// NOTE: this is a partial request, please wait before sending it
// in this example we are using our Java SDK
// https://search.maven.org/artifact/it.fattureincloud/fattureincloud-java-sdk

Entity entity = new Entity()
        .id(1)
        .name("Mario Rossi")
        .vatNumber("47803200154")
        .taxCode("RSSMRA91M20B967Q")
        .addressStreet("Via Italia, 66")
        .addressPostalCode("20900")
        .addressCity("Milano")
        .addressProvince("MI")
        .country("Italy");

IssuedDocument invoice = new IssuedDocument()
        .type(IssuedDocumentType.INVOICE)
        .entity(entity)
        .date(LocalDate.of(2022, 1, 20))
        .number(1)
        .numeration("/fatt")
        .subject("internal subject")
        .visibleSubject("visible subject")
        .currency(new Currency().id("EUR"))
        .language(new Language()
                        .code("it")
                        .name("italiano")
        )
        .addItemsListItem(
                new IssuedDocumentItemsListItem()
                        .productId(4)
                        .code("TV3")
                        .name("Tavolo in legno")
                        .netPrice(BigDecimal.valueOf(100))
                        .category("cucina")
                        .discount(BigDecimal.valueOf(0))
                        .qty(BigDecimal.valueOf(1))
                        .vat(new VatType().id(0))
        )
        // Here we set the payments list assuming our invoice has already been paid
        .addPaymentsListItem(
                new IssuedDocumentPaymentsListItem()
                        .amount(BigDecimal.valueOf(122))
                        .dueDate(LocalDate.of(2022, 01, 23))
                        .paidDate(LocalDate.of(2022, 01, 22))
                        .status(IssuedDocumentStatus.PAID)
                        // List your payment accounts: https://github.com/fattureincloud/fattureincloud-java-sdk/blob/master/docs/InfoApi.md#listPaymentAccounts
                        .paymentAccount(new PaymentAccount().id(110))
        );
</code></pre>
<pre><code class="language-php">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our PHP SDK
// https://packagist.org/packages/fattureincloud/fattureincloud-php-sdk

$entity = new Entity;
$entity
    -&gt;setId(1)
    -&gt;setName("Mario Rossi")
    -&gt;setVatNumber("47803200154")
    -&gt;setTaxCode("RSSMRA91M20B967Q")
    -&gt;setAddressStreet("Via Italia, 66")
    -&gt;setAddressPostalCode("20900")
    -&gt;setAddressCity("Milano")
    -&gt;setAddressProvince("MI")
    -&gt;setCountry("Italia");

$invoice = new IssuedDocument;
$invoice-&gt;setType(IssuedDocumentType::INVOICE);
$invoice-&gt;setEntity($entity);
$invoice-&gt;setDate(new DateTime("2022-01-20"));
$invoice-&gt;setNumber(1);
$invoice-&gt;setNumeration("/fatt");
$invoice-&gt;setSubject("internal subject");
$invoice-&gt;setVisibleSubject("visible subject");
$invoice-&gt;setCurrency(
    new Currency(
        array(
           "id" =&gt; "EUR"
        )
    )
);
$invoice-&gt;setLanguage(
    new Language(
        array(
            "code" =&gt; "it",
            "name" =&gt; "italiano"
        )
    )
);
$invoice-&gt;setItemsList(
    array(
        new IssuedDocumentItemsListItem(
            array(
                "product_id" =&gt; 4,
                "code" =&gt; "TV3",
                "name" =&gt; "Tavolo in legno",
                "net_price" =&gt; 100,
                "category" =&gt; "cucina",
                "discount" =&gt; 0,
                "qty" =&gt; 1,
                "vat" =&gt; new VatType(
                    array(
                        "id" =&gt; 0
                    )
                )
            )
        )
    )
);
// Here we set the payments list assuming our invoice has already been paid
$invoice-&gt;setPaymentsList(
    array(
        new IssuedDocumentPaymentsListItem(
            array(
                "amount" =&gt; 122,
                "due_date" =&gt; new DateTime("2022-01-23"),
                "paid_date" =&gt; new DateTime("2022-01-22"),
                "status" =&gt; IssuedDocumentStatus::PAID,
                // List your payment accounts: https://github.com/fattureincloud/fattureincloud-php-sdk/blob/master/docs/Api/InfoApi.md#listpaymentaccounts
                "payment_account" =&gt; new PaymentAccount(
                    array(
                        "id" =&gt; 110
                    )
                )
            )
        )
    )
);
</code></pre>
<pre><code class="language-js">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our JS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-js-sdk

let entity = new fattureInCloudSdk.Entity();
entity.id = 1;
entity.name = "Mario Rossi";
entity.vat_number = "47803200154";
entity.tax_code = "RSSMRA91M20B967Q";
entity.address_street = "Via Italia, 66";
entity.address_postal_code = "20900";
entity.address_city = "Milano";
entity.address_province = "MI";
entity.country = "Italia";

let invoice = new fattureInCloudSdk.IssuedDocument();
invoice.type = new fattureInCloudSdk.IssuedDocumentType().invoice;
invoice.entity = entity;
invoice.date = "2022-01-20";
invoice.number = 1;
invoice.numeration = "/fatt";
invoice.subject = "internal subject";
invoice.visible_subject = "visible subject";
invoice.currency = {
  id: "EUR",
};
invoice.language = {
  code: "it",
  name: "Italiano",
};
invoice.items_list = [
  {
    product_id: 4,
    code: "tv3",
    name: "tavolo in legno",
    net_price: 100,
    category: "cucina",
    discount: 0,
    qty: 1,
    vat: {
      id: 0,
    },
  },
];
// Here we set the payments list assuming our invoice has already been paid
invoice.payments_list = [
  {
    amount: 122,
    due_date: "2022-01-23",
    paid_date: "2022-01-22",
    status: "paid",
    // List your payment accounts: https://github.com/fattureincloud/fattureincloud-js-sdk/blob/master/docs/InfoApi.md#listPaymentAccounts
    payment_account: {
      id: 10,
    },
  },
];
</code></pre>
<pre><code class="language-py"># NOTE: this is a partial request, please wait before sending it
# in this example we are using our Python SDK
# https://pypi.org/project/fattureincloud-python-sdk/

entity = Entity(
    id=1,
    name="Mario Rossi",
    vat_number="47803200154",
    tax_code="RSSMRA91M20B967Q",
    address_street="Via Italia, 66",
    address_postal_code="20900",
    address_city="Milano",
    address_province="MI",
    country="Italia"
)

invoice = IssuedDocument(
    type = IssuedDocumentType("invoice"),
    entity = entity,
    date = datetime.date(2021, 1, 20),
    number = 1,
    numeration = "/fatt",
    subject = "internal subject",
    visible_subject = "visible subject",
    currency = Currency(
        id="EUR"
    ),
    language = Language(
        code="it",
        name="italiano"
    ),
    items_list = [
        IssuedDocumentItemsListItem(
            product_id=4,
            code="TV3",
            name="Tavolo in legno",
            net_price=100.0,
            category="cucina",
            discount=0.0,
            qty=1.0,
            vat=VatType(
                id=0
            )
        )
    ],
    # Here we set the payments list assuming our invoice has already been paid
    payments_list = [
        IssuedDocumentPaymentsListItem(
            amount=122.0,
            due_date=datetime.date(2022, 1, 23),
            paid_date=datetime.date(2022, 1, 22),
            status=IssuedDocumentStatus("paid"),
            # List your payment accounts: https://github.com/fattureincloud/fattureincloud-python-sdk/blob/master/docs/InfoApi.md#list_payment_accounts
            payment_account=PaymentAccount(
                id=110
            )
        )
    ]
)
</code></pre>
<pre><code class="language-rb"># NOTE: this is a partial request, please wait before sending it
# in this example we are using our Ruby SDK
# https://rubygems.org/gems/fattureincloud_ruby_sdk

entity = FattureInCloud_Ruby_Sdk::Entity.new(
  id: 1,
  name: "Mario Rossi",
  vat_number: "47803200154",
  tax_code: "RSSMRA91M20B967Q",
  address_street: "Via Italia, 66",
  address_postal_code: "20900",
  address_city: "Milano",
  address_province: "MI",
  country: "Italia",
)

invoice = FattureInCloud_Ruby_Sdk::IssuedDocument.new(
  type: FattureInCloud_Ruby_Sdk::IssuedDocumentType::INVOICE,
  entity: entity,
  date: Date.new(2022, 01, 20),
  number: 1,
  numeration: "/fatt",
  subject: "internal subject",
  visible_subject: "visible subject",
  currency: FattureInCloud_Ruby_Sdk::Currency.new(
      id: "EUR"
  ),
  language: FattureInCloud_Ruby_Sdk::Language.new(
      code: "it",
      name: "italiano"
  ),
  items_list: Array(
    FattureInCloud_Ruby_Sdk::IssuedDocumentItemsListItem.new(
          product_id: 4,
          code: "TV3",
          name: "Tavolo in legno",
          net_price: 100,
          category: "cucina",
          discount: 0,
          qty: 1,
          vat: FattureInCloud_Ruby_Sdk::VatType.new(
              id: 0
          )
      )
  ),
  # Here we set the payments list assuming our invoice has already been paid
  payments_list: Array(
    FattureInCloud_Ruby_Sdk::IssuedDocumentPaymentsListItem.new(
          amount: 122,
          due_date: Date.new(2022, 01, 23),
          paid_date: Date.new(2022, 01, 22),
          status: FattureInCloud_Ruby_Sdk::IssuedDocumentStatus::PAID,
          # List your payment accounts: https://github.com/fattureincloud/fattureincloud-ruby-sdk/blob/master/docs/InfoApi.md#list_payment_accounts
          payment_account: FattureInCloud_Ruby_Sdk::PaymentAccount.new(
              id: 110
          )
      )
  )
)
</code></pre>
<pre><code class="language-ts">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our TS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-ts-sdk
let entity: Entity = {};
entity.id = 1;
entity.name = "Mario Rossi";
entity.vat_number = "47803200154";
entity.tax_code = "RSSMRA91M20B967Q";
entity.address_street = "Via Italia, 66";
entity.address_postal_code = "20900";
entity.address_city = "Milano";
entity.address_province = "MI";
entity.country = "Italia";

let invoice: IssuedDocument = {
  type: IssuedDocumentType.Invoice,
  entity: entity,
  date: "2022-01-20",
  number: 1,
  numeration: "/fatt",
  subject: "internal subject",
  visible_subject: "visible subject",
  currency: {
    id: "EUR",
  },
  language: {
    code: "it",
    name: "italiano",
  },
  items_list: [
    {
      product_id: 4,
      code: "TV3",
      name: "Tavolo in legno",
      net_price: 100,
      category: "cucina",
      discount: 0,
      qty: 1,
      vat: {
        id: 0,
      },
    },
  ],
  // Here we set the payments list assuming our invoice has already been paid
  payments_list: [
    {
      amount: 122,
      due_date: "2022-01-23",
      paid_date: "2022-01-22",
      status: "paid",
      // List your payment accounts: https://github.com/fattureincloud/fattureincloud-ts-sdk/blob/master/docs/InfoApi.md#listPaymentAccounts
      payment_account: {
        id: 10,
      },
    },
  ],
};
</code></pre>
<p>The Payments List in fact accepts an array of items.</p>
<p>In this example, we'll insert only a single item, but you can check how to insert multiple items in the <a href="https://zapier.com/blog/formatter-line-item-automation/">Zapier Documentation</a>.</p>
<p>As done in the previous step, we'll show you the list of the fields to be populated for this step:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Field Code</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Data.payments list - Issued document payment amount</td>
<td>data.payments_list.amount</td>
<td>122</td>
<td></td>
</tr>
<tr>
<td>Data.payments list - Issued document payment due date</td>
<td>data.payments_list.due_date</td>
<td>2022-01-23</td>
<td></td>
</tr>
<tr>
<td>Data.payments list - Issued document payment date</td>
<td>data.payments_list.paid_date</td>
<td>2022-01-22</td>
<td></td>
</tr>
<tr>
<td>Data.payments list - Issued document status</td>
<td>data.payments_list.status</td>
<td>paid</td>
<td></td>
</tr>
<tr>
<td>Data.payments list - Payment account id</td>
<td>data.payments_list.payment_account.id</td>
<td>110</td>
<td>Check List Payment Accounts</td>
</tr>
</tbody>
</table>
<p>If you want to know more about the calculation of the amounts you can visit the <a href="/guides/invoice-totals.mdx">calculating totals</a> page.</p>
<h2 id="step-seven-advanced-options"><img alt="7️⃣" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/0037-20e3.png" title=":seven:"/>  Step Seven: Advanced Options</h2>
<p>The <em>Advanced Options</em> section allows the management of the payment methods and the direct generation of DDT and accompanying invoices.</p>
<ul>
<li>
<p><strong>payment_method</strong>: you can use this field to communicate to the customer how to pay the invoice;
  the only required parameter is the payment method id, make sure it exists or you will get an error. You can <a href="/api-reference#get-/c/-company_id-/info/payment_methods">get a list of your payment methods</a> or <a href="/api-reference#post-/c/-company_id-/settings/payment_methods">create a new one</a> according to your needs.</p>
</li>
<li>
<p><strong>show_payment_method</strong>: if this flag is set to true, it shows the payment method details in the invoice.</p>
</li>
<li>
<p><strong>delivery_note</strong>: if this flag is set to true, you can set all the delivery note-related parameters and a DDT will be automatically created.</p>
</li>
<li>
<p><strong>accompanying_invoice</strong>: if this flag is set to true, you can set all the accompanying invoice-related parameters and it will be automatically created.</p>
</li>
<li>
<p><strong>amount_due_discount</strong>: with this parameter you can set a discount or surcharge on the total of the invoice.</p>
</li>
<li>
<p><strong>use_split_payment</strong>: this flag can be set to true if the split payment is needed.</p>
</li>
</ul>
<p>Below we add the Payment Method to the request:</p>
<pre><code class="language-json">// NOTE: this is a partial request, please wait before sending it

{
  "data": {
    "type": "invoice",
    "entity": {
      "id": 1,
      "name": "Mario Rossi",
      "vat_number": "47803200154",
      "tax_code": "RSSMRA91M20B967Q",
      "address_street": "Via Italia, 66",
      "address_postal_code": "20900",
      "address_city": "Milano",
      "address_province": "MI",
      "address_extra": "",
      "country": "Italia"
    },
    "date": "2022-01-20",
    "number": 1,
    "numeration": "/fatt",
    "subject": "internal subject",
    "visible_subject": "visible subject",
    "currency": {
      "id": "EUR",
      "exchange_rate": "1.00000",
      "symbol": "€"
    },
    "language": {
      "code": "it",
      "name": "Italiano"
    },
    "items_list": [
      {
        "product_id": 4,
        "code": "TV3",
        "name": "Tavolo in legno",
        "net_price": 100,
        "category": "cucina",
        "discount": 0,
        "qty": 1,
        "vat": {
          "id": 0
        }
      }
    ],
    "payments_list": [
      {
        "amount": 122,
        "due_date": "2022-01-23",
        "paid_date": "2022-01-22",
        "status": "paid",
        "payment_account": {
          "id": 110
        }
      }
    ],
    "payment_method": {
      "id": 386683
    }
  }
}
</code></pre>
<p>The corresponding code with our SDKs:</p>
<pre><code class="language-cs">Entity entity = new Entity(
    id: 1,
    name: "Mario Rossi",
    vatNumber: "47803200154",
    taxCode: "RSSMRA91M20B967Q",
    addressStreet: "Via Italia, 66",
    addressPostalCode: "20900",
    addressCity: "Milano",
    addressProvince: "MI",
    country: "Italia"
);

IssuedDocument invoice = new IssuedDocument(
    type: IssuedDocumentType.Invoice,
    entity: entity,
    date: new DateTime(2022, 01, 20),
    number: 1,
    numeration: "/fatt",
    subject: "internal subject",
    visibleSubject: "visible subject",
    currency: new Currency(
        id: "EUR"
    ),
    language: new Language(
        code: "it",
        name: "italiano"
    ),
        new IssuedDocumentItemsListItem(
            productId: 4,
            code: "TV3",
            name: "Tavolo in legno",
            netPrice: 100,
            category: "cucina",
            discount: 0,
            qty: 1,
            vat: new VatType(
                id: 0
            )
        )
    },
        new IssuedDocumentPaymentsListItem(
            amount: 122,
            dueDate: new DateTime(2022, 01, 23),
            paidDate: new DateTime(2022, 01, 22),
            status: IssuedDocumentStatus.Paid,
            paymentAccount: new PaymentAccount(
                id: 110
            )
        )
    },
    // Here we add the payment method
    // List your payment methods: https://github.com/fattureincloud/fattureincloud-csharp-sdk/blob/master/docs/InfoApi.md#listpaymentmethods
    paymentMethod: new PaymentMethod(
        id: 386683
    )
);
</code></pre>
<pre><code class="language-go">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our Go SDK
// https://github.com/fattureincloud/fattureincloud-go-sdk
entity := *fattureincloud.NewEntity().
    SetId(1).
    SetName("Mario Rossi").
    SetVatNumber("RSSMRA91M20B967Q").
    SetTaxCode("RSSMRA91M20B967Q").
    SetAddressStreet("Via Italia, 66").
    SetAddressPostalCode("20900").
    SetAddressCity("Milano").
    SetAddressProvince("MI").
    SetCountry("Italia")

invoice := *fattureincloud.NewIssuedDocument().
    SetEntity(entity).
    SetType(fattureincloud.IssuedDocumentTypes.INVOICE).
    SetDate("2022-01-20").
    SetNumber(1).
    SetNumeration("/fatt").
    SetSubject("internal subject").
    SetVisibleSubject("visible subject").
    SetCurrency(*fattureincloud.NewCurrency().SetId("EUR")).
    SetLanguage(*fattureincloud.NewLanguage().SetCode("it").SetName("italiano")).
    SetItemsList([]fattureincloud.IssuedDocumentItemsListItem{
        *fattureincloud.NewIssuedDocumentItemsListItem().
            SetProductId(4).
            SetCode("TV3").
            SetName("Tavolo in legno").
            SetNetPrice(100).
            SetCategory("cucina").
            SetDiscount(0).
            SetQty(1).
            SetVat(*fattureincloud.NewVatType().SetId(0)),
    }).
    SetPaymentsList([]fattureincloud.IssuedDocumentPaymentsListItem{
        *fattureincloud.NewIssuedDocumentPaymentsListItem().
            SetAmount(122).
            SetDueDate("2022-01-23").
            SetPaidDate("2022-01-22").
            SetStatus(fattureincloud.IssuedDocumentStatuses.NOT_PAID).
            SetPaymentAccount(*fattureincloud.NewPaymentAccount().SetId(110)),
    }).
    // Here we add the payment method
    // List your payment methods: https://github.com/fattureincloud/fattureincloud-go-sdk/blob/master/docs/InfoApi.md#listpaymentmethods
    SetPaymentMethod(*fattureincloud.NewPaymentMethod().SetId(386683))
</code></pre>
<pre><code class="language-java">// NOTE: this is a partial request, please wait before sending it
// in this example we are using our Java SDK
// https://search.maven.org/artifact/it.fattureincloud/fattureincloud-java-sdk

Entity entity = new Entity()
        .id(1)
        .name("Mario Rossi")
        .vatNumber("47803200154")
        .taxCode("RSSMRA91M20B967Q")
        .addressStreet("Via Italia, 66")
        .addressPostalCode("20900")
        .addressCity("Milano")
        .addressProvince("MI")
        .country("Italy");

IssuedDocument invoice = new IssuedDocument()
        .type(IssuedDocumentType.INVOICE)
        .entity(entity)
        .date(LocalDate.of(2022, 1, 20))
        .number(1)
        .numeration("/fatt")
        .subject("internal subject")
        .visibleSubject("visible subject")
        .currency(new Currency().id("EUR"))
        .language(new Language()
                        .code("it")
                        .name("italiano")
        )
        .addItemsListItem(
                new IssuedDocumentItemsListItem()
                        .productId(4)
                        .code("TV3")
                        .name("Tavolo in legno")
                        .netPrice(BigDecimal.valueOf(100))
                        .category("cucina")
                        .discount(BigDecimal.valueOf(0))
                        .qty(BigDecimal.valueOf(1))
                        .vat(new VatType().id(0))
        )
        .addPaymentsListItem(
                new IssuedDocumentPaymentsListItem()
                        .amount(BigDecimal.valueOf(122))
                        .dueDate(LocalDate.of(2022, 01, 23))
                        .paidDate(LocalDate.of(2022, 01, 22))
                        .status(IssuedDocumentStatus.PAID)
                        .paymentAccount(new PaymentAccount().id(110))
        )
        // Here we add the payment method
        // List your payment methods: https://github.com/fattureincloud/fattureincloud-java-sdk/blob/master/docs/InfoApi.md#listpaymentmethods
        .paymentMethod(
                new PaymentMethod().id(386683)
        );
</code></pre>
<pre><code class="language-php">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our PHP SDK
// https://packagist.org/packages/fattureincloud/fattureincloud-php-sdk

$entity = new Entity;
$entity
    -&gt;setId(1)
    -&gt;setName("Mario Rossi")
    -&gt;setVatNumber("47803200154")
    -&gt;setTaxCode("RSSMRA91M20B967Q")
    -&gt;setAddressStreet("Via Italia, 66")
    -&gt;setAddressPostalCode("20900")
    -&gt;setAddressCity("Milano")
    -&gt;setAddressProvince("MI")
    -&gt;setCountry("Italia");

$invoice = new IssuedDocument;
$invoice-&gt;setType(IssuedDocumentType::INVOICE);
$invoice-&gt;setEntity($entity);
$invoice-&gt;setDate(new DateTime("2022-01-20"));
$invoice-&gt;setNumber(1);
$invoice-&gt;setNumeration("/fatt");
$invoice-&gt;setSubject("internal subject");
$invoice-&gt;setVisibleSubject("visible subject");
$invoice-&gt;setCurrency(
    new Currency(
        array(
           "id" =&gt; "EUR"
        )
    )
);
$invoice-&gt;setLanguage(
    new Language(
        array(
            "code" =&gt; "it",
            "name" =&gt; "italiano"
        )
    )
);
$invoice-&gt;setItemsList(
    array(
        new IssuedDocumentItemsListItem(
            array(
                "product_id" =&gt; 4,
                "code" =&gt; "TV3",
                "name" =&gt; "Tavolo in legno",
                "net_price" =&gt; 100,
                "category" =&gt; "cucina",
                "discount" =&gt; 0,
                "qty" =&gt; 1,
                "vat" =&gt; new VatType(
                    array(
                        "id" =&gt; 0
                    )
                )
            )
        )
    )
);
$invoice-&gt;setPaymentsList(
    array(
        new IssuedDocumentPaymentsListItem(
            array(
                "amount" =&gt; 122,
                "due_date" =&gt; new DateTime("2022-01-23"),
                "paid_date" =&gt; new DateTime("2022-01-22"),
                "status" =&gt; IssuedDocumentStatus::PAID,
                "payment_account" =&gt; new PaymentAccount(
                    array(
                        "id" =&gt; 110
                    )
                )
            )
        )
    )
);
// Here we add the payment method
// List your payment methods: https://github.com/fattureincloud/fattureincloud-php-sdk/blob/master/docs/Api/InfoApi.md#listpaymentmethods
$invoice-&gt;setPaymentMethod(
    new PaymentMethod(
        array(
            "id" =&gt; 386683
        )
    )
);
</code></pre>
<pre><code class="language-js">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our JS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-js-sdk

let entity = new fattureInCloudSdk.Entity();
entity.id = 1;
entity.name = "Mario Rossi";
entity.vat_number = "47803200154";
entity.tax_code = "RSSMRA91M20B967Q";
entity.address_street = "Via Italia, 66";
entity.address_postal_code = "20900";
entity.address_city = "Milano";
entity.address_province = "MI";
entity.country = "Italia";

let invoice = new fattureInCloudSdk.IssuedDocument();
invoice.type = new fattureInCloudSdk.IssuedDocumentType().invoice;
invoice.entity = entity;
invoice.date = "2022-01-20";
invoice.number = 1;
invoice.numeration = "/fatt";
invoice.subject = "internal subject";
invoice.visible_subject = "visible subject";
invoice.currency = {
  id: "EUR",
};
invoice.language = {
  code: "it",
  name: "Italiano",
};
invoice.items_list = [
  {
    product_id: 4,
    code: "tv3",
    name: "tavolo in legno",
    net_price: 100,
    category: "cucina",
    discount: 0,
    qty: 1,
    vat: {
      id: 0,
    },
  },
];
invoice.payments_list = [
  {
    amount: 122,
    due_date: "2022-01-23",
    paid_date: "2022-01-22",
    status: "paid",
    payment_account: {
      id: 10,
    },
  },
];
// Here we add the payment method
// List your payment methods: https://github.com/fattureincloud/fattureincloud-js-sdk/blob/master/docs/InfoApi.md#listpaymentmethods
invoice.payment_method = {
  id: 386683,
};
</code></pre>
<pre><code class="language-py"># NOTE: this is a partial request, please wait before sending it
# in this example we are using our Python SDK
# https://pypi.org/project/fattureincloud-python-sdk/

entity = Entity(
    id=1,
    name="Mario Rossi",
    vat_number="47803200154",
    tax_code="RSSMRA91M20B967Q",
    address_street="Via Italia, 66",
    address_postal_code="20900",
    address_city="Milano",
    address_province="MI",
    country="Italia"
)

invoice = IssuedDocument(
    type = IssuedDocumentType("invoice"),
    entity = entity,
    date = datetime.date(2021, 1, 20),
    number = 1,
    numeration = "/fatt",
    subject = "internal subject",
    visible_subject = "visible subject",
    currency = Currency(
        id="EUR"
    ),
    language = Language(
        code="it",
        name="italiano"
    ),
    items_list = [
        IssuedDocumentItemsListItem(
            product_id=4,
            code="TV3",
            name="Tavolo in legno",
            net_price=100.0,
            category="cucina",
            discount=0.0,
            qty=1.0,
            vat=VatType(
                id=0
            )
        )
    ],
    payments_list = [
        IssuedDocumentPaymentsListItem(
            amount=122.0,
            due_date=datetime.date(2022, 1, 23),
            paid_date=datetime.date(2022, 1, 22),
            status=IssuedDocumentStatus("paid"),
            payment_account=PaymentAccount(
                id=110
            )
        )
    ],
    # Here we add the payment method
    # List your payment methods: https://github.com/fattureincloud/fattureincloud-python-sdk/blob/master/docs/InfoApi.md#list_payment_methods
    payment_method = PaymentMethod(
        id=386683
    )
)
</code></pre>
<pre><code class="language-rb"># NOTE: this is a partial request, please wait before sending it
# in this example we are using our Ruby SDK
# https://rubygems.org/gems/fattureincloud_ruby_sdk

entity = FattureInCloud_Ruby_Sdk::Entity.new(
  id: 1,
  name: "Mario Rossi",
  vat_number: "47803200154",
  tax_code: "RSSMRA91M20B967Q",
  address_street: "Via Italia, 66",
  address_postal_code: "20900",
  address_city: "Milano",
  address_province: "MI",
  country: "Italia",
)

invoice = FattureInCloud_Ruby_Sdk::IssuedDocument.new(
  type: FattureInCloud_Ruby_Sdk::IssuedDocumentType::INVOICE,
  entity: entity,
  date: Date.new(2022, 01, 20),
  number: 1,
  numeration: "/fatt",
  subject: "internal subject",
  visible_subject: "visible subject",
  currency: FattureInCloud_Ruby_Sdk::Currency.new(
      id: "EUR"
  ),
  language: FattureInCloud_Ruby_Sdk::Language.new(
      code: "it",
      name: "italiano"
  ),
  items_list: Array(
    FattureInCloud_Ruby_Sdk::IssuedDocumentItemsListItem.new(
          product_id: 4,
          code: "TV3",
          name: "Tavolo in legno",
          net_price: 100,
          category: "cucina",
          discount: 0,
          qty: 1,
          vat: FattureInCloud_Ruby_Sdk::VatType.new(
              id: 0
          )
      )
  ),
  payments_list: Array(
    FattureInCloud_Ruby_Sdk::IssuedDocumentPaymentsListItem.new(
          amount: 122,
          due_date: Date.new(2022, 01, 23),
          paid_date: Date.new(2022, 01, 22),
          status: FattureInCloud_Ruby_Sdk::IssuedDocumentStatus::PAID,
          payment_account: FattureInCloud_Ruby_Sdk::PaymentAccount.new(
              id: 110
          )
      )
  ),
  # Here we add the payment method
  # List your payment methods: https://github.com/fattureincloud/fattureincloud-ruby-sdk/blob/master/docs/InfoApi.md#list_payment_methods
  payment_method: FattureInCloud_Ruby_Sdk::PaymentMethod.new(
      id: 386683
  )
</code></pre>
<pre><code class="language-ts">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our TS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-ts-sdk
let entity: Entity = {};
entity.id = 1;
entity.name = "Mario Rossi";
entity.vat_number = "47803200154";
entity.tax_code = "RSSMRA91M20B967Q";
entity.address_street = "Via Italia, 66";
entity.address_postal_code = "20900";
entity.address_city = "Milano";
entity.address_province = "MI";
entity.country = "Italia";

let invoice: IssuedDocument = {
  type: IssuedDocumentType.Invoice,
  entity: entity,
  date: "2022-01-20",
  number: 1,
  numeration: "/fatt",
  subject: "internal subject",
  visible_subject: "visible subject",
  currency: {
    id: "EUR",
  },
  language: {
    code: "it",
    name: "italiano",
  },
  items_list: [
    {
      product_id: 4,
      code: "TV3",
      name: "Tavolo in legno",
      net_price: 100,
      category: "cucina",
      discount: 0,
      qty: 1,
      vat: {
        id: 0,
      },
    },
  ],
  payments_list: [
    {
      amount: 122,
      due_date: "2022-01-23",
      paid_date: "2022-01-22",
      status: "paid",
      payment_account: {
        id: 10,
      },
    },
  ],
  // Here we add the payment method
  // List your payment methods: https://github.com/fattureincloud/fattureincloud-ts-sdk/blob/master/docs/InfoApi.md#listpaymentmethods
  payment_method: {
    id: 386683,
  },
};
</code></pre>
<p>As done in the previous step, we'll show you the list of the fields to be populated for this step:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Field Code</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Payment method id</td>
<td>data.payment_method.id</td>
<td>386683</td>
<td>Check List Payment Method</td>
</tr>
</tbody>
</table>
<h2 id="step-eight-attachment"><img alt="8️⃣" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/0038-20e3.png" title=":eight:"/>  Step Eight: Attachment</h2>
<p>If you want to attach a file to your invoice you can do it by using <a href="/api-reference#post-/c/-company_id-/issued_documents/attachment">Upload Attachment</a> method; the response will include an <em>attachment_token</em>, that you can pass to the Invoice Creation request that we're building to effectively attach the file.
The token must be assigned to the <em>attachment_token</em> parameter in the request.</p>
<p>The code to upload an attachment with our SDKs:</p>
<pre><code class="language-cs">Configuration config = new Configuration();
config.AccessToken = "YOUR_ACCESS_TOKEN";

var apiInstance = new IssuedDocumentsApi(config);

var filename = "fattura_XX_XXXX";
var attachment = File.Open("/path/to/file.pdf", FileMode.Open);
var companyId = 12345;

UploadIssuedDocumentAttachmentResponse result = apiInstance.UploadIssuedDocumentAttachment(companyId, filename, attachment);
var attachmentToken = result.Data.AttachmentToken;
</code></pre>
<pre><code class="language-go">companyId := int32(12345)
filename := "fattura_XX_XXXX"
attachment, _ := os.Open("/path/to/file.pdf")

auth := context.WithValue(context.Background(), fattureincloudapi.ContextAccessToken, "YOUR_ACCESS_TOKEN")
configuration := fattureincloudapi.NewConfiguration()
apiClient := fattureincloudapi.NewAPIClient(configuration)
resp, r, err := apiClient.IssuedDocumentsAPI.UploadIssuedDocumentAttachment(auth, companyId).Filename(filename).Attachment(attachment).Execute()
if err != nil {
    fmt.Fprintf(os.Stderr, "Error when calling `IssuedDocumentsAPI.UploadIssuedDocumentAttachment``: %v\n", err)
    fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
}
attachmentToken := resp.Data.AttachmentToken
</code></pre>
<pre><code class="language-java">ApiClient defaultClient = Configuration.getDefaultApiClient();
defaultClient.setBasePath("https://api-v2.fattureincloud.it");

OAuth OAuth2AuthenticationCodeFlow = (OAuth) defaultClient.getAuthentication("OAuth2AuthenticationCodeFlow");
OAuth2AuthenticationCodeFlow.setAccessToken("YOUR_ACCESS_TOKEN");

IssuedDocumentsApi apiInstance = new IssuedDocumentsApi(defaultClient);
Integer companyId = 12345;
String filename = "fattura_XX_XXXX";
File attachment = new File("/path/to/file.pdf");

UploadIssuedDocumentAttachmentResponse result = apiInstance.uploadIssuedDocumentAttachment(companyId, filename, attachment);
String attachmentToken = result.getData().getAttachmentToken();
</code></pre>
<pre><code class="language-js">let defaultClient = fattureInCloudSdk.ApiClient.instance;

let OAuth2AuthenticationCodeFlow =
  defaultClient.authentications["OAuth2AuthenticationCodeFlow"];
OAuth2AuthenticationCodeFlow.accessToken = "YOUR_ATTACHMENT_TOKEN";

let apiInstance = new fattureInCloudSdk.IssuedDocumentsApi();
let companyId = 12345;
let opts = {
  filename: "fattura_XX_XXXX",
  attachment: fs.createReadStream("/path/to/file.pdf"),
};

let res = await apiInstance.uploadIssuedDocumentAttachment(companyId, opts);
let attachmentTokent = res.data.attachment_token;
</code></pre>
<pre><code class="language-py">configuration = fattureincloud_python_sdk.Configuration()
configuration.access_token = "YOUR_ACCESS_TOKEN"

with fattureincloud_python_sdk.ApiClient(configuration) as api_client:

    api_instance = issued_documents_api.IssuedDocumentsApi(api_client)
    company_id = 12345
    filename = "fattura_XX_XXXX"
    attachment = open('/path/to/file.pdf', 'rb')

    api_response = api_instance.upload_issued_document_attachment(company_id, filename=filename, attachment=attachment)
    attachmen_token = api_response.data.attachment_token
</code></pre>
<pre><code class="language-rb">FattureInCloud_Ruby_Sdk.configure do |config|
  config.access_token = 'YOUR_ATTACHMENT_TOKEN'
end

api_instance = FattureInCloud_Ruby_Sdk::IssuedDocumentsApi.new
company_id = 12345
opts = {
  filename: 'fattura_XX_XXXX',
  attachment: File.open('/path/to/file.pdf')
}
res = api_instance.upload_issued_document_attachment(company_id, opts)

attachment_token =  res.data.attachment_token
</code></pre>
<pre><code class="language-ts">const apiConfig = new Configuration({
  accessToken: "YOUR_ACCESS_TOKEN",
});

let apiInstance = new IssuedDocumentsApi(apiConfig);
let companyId = 12345;
let filename = "fattura_XX_XXXX";
let attachment = fs.createReadStream("path/to/file.pdf");

let res = await apiInstance.uploadIssuedDocumentAttachment(
  companyId,
  filename,
  attachment
);
let attachemntToken = res.data.data?.attachment_token;
</code></pre>
<p>As done in the previous step, we'll show you the list of the fields to be populated for this step:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Field Code</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Issued Document attachment token</td>
<td>data.attachment_token</td>
<td>FAKE_TOKEN</td>
<td>Check Upload Attachment Method</td>
</tr>
</tbody>
</table>
<h2 id="step-nine-customisation"><img alt="9️⃣" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/0039-20e3.png" title=":nine:"/>  Step Nine: Customisation</h2>
<p>The customization section allows the choice of the invoice template and is useful to add some details.</p>
<ul>
<li>
<p><strong>template</strong>/<strong>delivery_note_template</strong>/<strong>acc_inv_template</strong>: invoice/delivery note/accompanying invoice template, only the id of the template has to be specified, you can retrieve it using the <a href="/api-reference#get-/info/templates">list templates</a> method.</p>
</li>
<li>
<p><strong>h_margins</strong>/<strong>v_margins</strong>: horizontal/vertical margins.</p>
</li>
<li>
<p><strong>show_payments</strong>: if this flag is set to false, the expiration dates of the payments will not be shown on the document.</p>
</li>
<li>
<p><strong>show_tspay_button</strong>: if this flag is set to true, when the invoice is received by the client it can be paid directly via TS Pay and, without further operations, the invoice will result as paid.</p>
</li>
<li>
<p><strong>show_notification_button</strong>: if this flag is set to true when the client pays the invoice he can notify the payment by clicking the button.</p>
</li>
</ul>
<p>Here there is our final JSON, complete with the attachment and our favorite invoice template:</p>
<pre><code class="language-json">// NOTE: this is a complete request, but please customize it before trying to send it!

{
  "data": {
    "type": "invoice",
    "entity": {
      "id": 1,
      "name": "Mario Rossi",
      "vat_number": "47803200154",
      "tax_code": "RSSMRA91M20B967Q",
      "address_street": "Via Italia, 66",
      "address_postal_code": "20900",
      "address_city": "Milano",
      "address_province": "MI",
      "address_extra": "",
      "country": "Italia"
    },
    "date": "2022-01-20",
    "number": 1,
    "numeration": "/fatt",
    "subject": "internal subject",
    "visible_subject": "visible subject",
    "currency": {
      "id": "EUR",
      "exchange_rate": "1.00000",
      "symbol": "€"
    },
    "language": {
      "code": "it",
      "name": "Italiano"
    },
    "items_list": [
      {
        "product_id": 4,
        "code": "TV3",
        "name": "Tavolo in legno",
        "net_price": 100,
        "category": "cucina",
        "discount": 0,
        "qty": 1,
        "vat": {
          "id": 0
        }
      }
    ],
    "payment_method": {
      "id": 386683
    },
    "payments_list": [
      {
        "amount": 122,
        "due_date": "2022-01-23",
        "paid_date": "2022-01-22",
        "status": "paid",
        "payment_account": {
          "id": 110
        }
      }
    ],
    "attachment_token": "YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw",
    "template": {
      "id": 150
    }
  }
}
</code></pre>
<p>The corresponding code with our SDKs:</p>
<pre><code class="language-cs">// NOTE: this is a complete request, but please customize it!!!
// In the next step we'll explain how to perform the request to the API.

// in this example we are using our C# SDK
// https://www.nuget.org/packages/It.FattureInCloud.Sdk/

Entity entity = new Entity(
    id: 1,
    name: "Mario Rossi",
    vatNumber: "47803200154",
    taxCode: "RSSMRA91M20B967Q",
    addressStreet: "Via Italia, 66",
    addressPostalCode: "20900",
    addressCity: "Milano",
    addressProvince: "MI",
    country: "Italia"
);

IssuedDocument invoice = new IssuedDocument(
    type: IssuedDocumentType.Invoice,
    entity: entity,
    date: new DateTime(2022, 01, 20),
    number: 1,
    numeration: "/fatt",
    subject: "internal subject",
    visibleSubject: "visible subject",
    currency: new Currency(
        id: "EUR"
    ),
    language: new Language(
        code: "it",
        name: "italiano"
    ),
        new IssuedDocumentItemsListItem(
            productId: 4,
            code: "TV3",
            name: "Tavolo in legno",
            netPrice: 100,
            category: "cucina",
            discount: 0,
            qty: 1,
            vat: new VatType(
                id: 0
            )
        )
    },
        new IssuedDocumentPaymentsListItem(
            amount: 122,
            dueDate: new DateTime(2022, 01, 23),
            paidDate: new DateTime(2022, 01, 22),
            status: IssuedDocumentStatus.Paid,
            paymentAccount: new PaymentAccount(
                id: 110
            )
        )
    },
    paymentMethod: new PaymentMethod(
        id: 386683
    ),
    // Finally we can add the attachment token of our uploaded file and a template
    // Upload your attachment: https://github.com/fattureincloud/fattureincloud-csharp-sdk/blob/master/docs/IssuedDocumentsApi.md#uploadIssuedDocumentAttachment
    attachmentToken: "YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw",
    // List your templates: https://github.com/fattureincloud/fattureincloud-csharp-sdk/blob/master/docs/InfoApi.md#listTemplates
    template: new DocumentTemplate(
        id: 150
    )
);
</code></pre>
<pre><code class="language-go">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our Go SDK
// https://github.com/fattureincloud/fattureincloud-go-sdk
entity := *fattureincloud.NewEntity().
    SetId(1).
    SetName("Mario Rossi").
    SetVatNumber("RSSMRA91M20B967Q").
    SetTaxCode("RSSMRA91M20B967Q").
    SetAddressStreet("Via Italia, 66").
    SetAddressPostalCode("20900").
    SetAddressCity("Milano").
    SetAddressProvince("MI").
    SetCountry("Italia")

invoice := *fattureincloud.NewIssuedDocument().
    SetEntity(entity).
    SetType(fattureincloud.IssuedDocumentTypes.INVOICE).
    SetDate("2022-01-20").
    SetNumber(1).
    SetNumeration("/fatt").
    SetSubject("internal subject").
    SetVisibleSubject("visible subject").
    SetCurrency(*fattureincloud.NewCurrency().SetId("EUR")).
    SetLanguage(*fattureincloud.NewLanguage().SetCode("it").SetName("italiano")).
    SetItemsList([]fattureincloud.IssuedDocumentItemsListItem{
        *fattureincloud.NewIssuedDocumentItemsListItem().
            SetProductId(4).
            SetCode("TV3").
            SetName("Tavolo in legno").
            SetNetPrice(100).
            SetCategory("cucina").
            SetDiscount(0).
            SetQty(1).
            SetVat(*fattureincloud.NewVatType().SetId(0)),
    }).
    SetPaymentsList([]fattureincloud.IssuedDocumentPaymentsListItem{
        *fattureincloud.NewIssuedDocumentPaymentsListItem().
            SetAmount(122).
            SetDueDate("2022-01-23").
            SetPaidDate("2022-01-22").
            SetStatus(fattureincloud.IssuedDocumentStatuses.NOT_PAID).
            SetPaymentAccount(*fattureincloud.NewPaymentAccount().SetId(110)),
    }).
    SetPaymentMethod(*fattureincloud.NewPaymentMethod().SetId(386683)).
    // Finally we can add the attachment token of our uploaded file and a template
    // Upload your attachment: https://github.com/fattureincloud/fattureincloud-go-sdk/blob/master/docs/IssuedDocumentsApi.md#uploadIssuedDocumentAttachment
    SetAttachmentToken("YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw").
    // List your templates: https://github.com/fattureincloud/fattureincloud-go-sdk/blob/master/docs/InfoApi.md#listTemplates
    SetTemplate(*fattureincloud.NewDocumentTemplate().SetId(150))
</code></pre>
<pre><code class="language-java">// NOTE: this is a complete request, but please customize it!!!
// In the next step we'll explain how to perform the request to the API.

// in this example we are using our Java SDK
// https://search.maven.org/artifact/it.fattureincloud/fattureincloud-java-sdk

Entity entity = new Entity()
        .id(1)
        .name("Mario Rossi")
        .vatNumber("47803200154")
        .taxCode("RSSMRA91M20B967Q")
        .addressStreet("Via Italia, 66")
        .addressPostalCode("20900")
        .addressCity("Milano")
        .addressProvince("MI")
        .country("Italy");

IssuedDocument invoice = new IssuedDocument()
        .type(IssuedDocumentType.INVOICE)
        .entity(entity)
        .date(LocalDate.of(2022, 1, 20))
        .number(1)
        .numeration("/fatt")
        .subject("internal subject")
        .visibleSubject("visible subject")
        .currency(new Currency().id("EUR"))
        .language(new Language()
                        .code("it")
                        .name("italiano")
        )
        .addItemsListItem(
                new IssuedDocumentItemsListItem()
                        .productId(4)
                        .code("TV3")
                        .name("Tavolo in legno")
                        .netPrice(BigDecimal.valueOf(100))
                        .category("cucina")
                        .discount(BigDecimal.valueOf(0))
                        .qty(BigDecimal.valueOf(1))
                        .vat(new VatType().id(0))
        )
        .addPaymentsListItem(
                new IssuedDocumentPaymentsListItem()
                        .amount(BigDecimal.valueOf(122))
                        .dueDate(LocalDate.of(2022, 01, 23))
                        .paidDate(LocalDate.of(2022, 01, 22))
                        .status(IssuedDocumentStatus.PAID)
                        .paymentAccount(new PaymentAccount().id(110))
        )
        .paymentMethod(
                new PaymentMethod().id(386683)
        )
        // Finally we can add the attachment token of our uploaded file and a template
        // Upload your attachment: https://github.com/fattureincloud/fattureincloud-java-sdk/blob/master/docs/IssuedDocumentsApi.md#uploadIssuedDocumentAttachment
        .attachmentToken("YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw")
        // List your templates: https://github.com/fattureincloud/fattureincloud-java-sdk/blob/master/docs/InfoApi.md#listTemplates
        .template(new DocumentTemplate().id(150));
</code></pre>
<pre><code class="language-php">// NOTE: this is a complete request, but please customize it!!!
// In the next step we'll explain how to perform the request to the API.

// In this example we are using our PHP SDK
// https://packagist.org/packages/fattureincloud/fattureincloud-php-sdk

$entity = new Entity;
$entity
    -&gt;setId(1)
    -&gt;setName("Mario Rossi")
    -&gt;setVatNumber("47803200154")
    -&gt;setTaxCode("RSSMRA91M20B967Q")
    -&gt;setAddressStreet("Via Italia, 66")
    -&gt;setAddressPostalCode("20900")
    -&gt;setAddressCity("Milano")
    -&gt;setAddressProvince("MI")
    -&gt;setCountry("Italia");

$invoice = new IssuedDocument;
$invoice-&gt;setType(IssuedDocumentType::INVOICE);
$invoice-&gt;setEntity($entity);
$invoice-&gt;setDate(new DateTime("2022-01-20"));
$invoice-&gt;setNumber(1);
$invoice-&gt;setNumeration("/fatt");
$invoice-&gt;setSubject("internal subject");
$invoice-&gt;setVisibleSubject("visible subject");
$invoice-&gt;setCurrency(
    new Currency(
        array(
           "id" =&gt; "EUR"
        )
    )
);
$invoice-&gt;setLanguage(
    new Language(
        array(
            "code" =&gt; "it",
            "name" =&gt; "italiano"
        )
    )
);
$invoice-&gt;setItemsList(
    array(
        new IssuedDocumentItemsListItem(
            array(
                "product_id" =&gt; 4,
                "code" =&gt; "TV3",
                "name" =&gt; "Tavolo in legno",
                "net_price" =&gt; 100,
                "category" =&gt; "cucina",
                "discount" =&gt; 0,
                "qty" =&gt; 1,
                "vat" =&gt; new VatType(
                    array(
                        "id" =&gt; 0
                    )
                )
            )
        )
    )
);
$invoice-&gt;setPaymentMethod(
    new PaymentMethod(
        array(
            "id" =&gt; 386683
        )
    )
);
$invoice-&gt;setPaymentsList(
    array(
        new IssuedDocumentPaymentsListItem(
            array(
                "amount" =&gt; 122,
                "due_date" =&gt; new DateTime("2022-01-23"),
                "paid_date" =&gt; new DateTime("2022-01-22"),
                "status" =&gt; IssuedDocumentStatus::PAID,
                "payment_account" =&gt; new PaymentAccount(
                    array(
                        "id" =&gt; 110
                    )
                )
            )
        )
    )
);
// Finally we can add the attachment token of our uploaded file and a template
// Upload your attachment: https://github.com/fattureincloud/fattureincloud-php-sdk/blob/master/docs/Api/IssuedDocumentsApi.md#uploadissueddocumentattachment
$invoice-&gt;setAttachmentToken("YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw");
// List your templates: https://github.com/fattureincloud/fattureincloud-php-sdk/blob/master/docs/Api/InfoApi.md#listtemplates
$invoice-&gt;setTemplate(
    new DocumentTemplate(
        array(
            "id" =&gt; 150
        )
    )
);
</code></pre>
<pre><code class="language-js">// NOTE: this is a complete request, but please customize it!!!
// In the next step we'll explain how to perform the request to the API.

// in this example we are using our JS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-js-sdk

let entity = new fattureInCloudSdk.Entity();
entity.id = 1;
entity.name = "Mario Rossi";
entity.vat_number = "47803200154";
entity.tax_code = "RSSMRA91M20B967Q";
entity.address_street = "Via Italia, 66";
entity.address_postal_code = "20900";
entity.address_city = "Milano";
entity.address_province = "MI";
entity.country = "Italia";

let invoice = new fattureInCloudSdk.IssuedDocument();
invoice.type = new fattureInCloudSdk.IssuedDocumentType().invoice;
invoice.entity = entity;
invoice.date = "2022-01-20";
invoice.number = 1;
invoice.numeration = "/fatt";
invoice.subject = "internal subject";
invoice.visible_subject = "visible subject";
invoice.currency = {
  id: "EUR",
};
invoice.language = {
  code: "it",
  name: "Italiano",
};
invoice.items_list = [
  {
    product_id: 4,
    code: "tv3",
    name: "tavolo in legno",
    net_price: 100,
    category: "cucina",
    discount: 0,
    qty: 1,
    vat: {
      id: 0,
    },
  },
];
invoice.payments_list = [
  {
    amount: 122,
    due_date: "2022-01-23",
    paid_date: "2022-01-22",
    status: "paid",
    payment_account: {
      id: 10,
    },
  },
];
invoice.payment_method = {
  id: 386683,
};
// Finally we can add the attachment token of our uploaded file and a template
// Upload your attachment: https://github.com/fattureincloud/fattureincloud-js-sdk/blob/master/docs/IssuedDocumentsApi.md#uploadIssuedDocumentAttachment
invoice.attachment_token =
  "YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw";
// List your templates: https://github.com/fattureincloud/fattureincloud-js-sdk/blob/master/docs/InfoApi.md#listTemplates
invoice.template = {
  id: 150,
};
</code></pre>
<pre><code class="language-py"># NOTE: this is a complete request, but please customize it!!!
# In the next step we'll explain how to perform the request to the API.

# in this example we are using our Python SDK
# https://pypi.org/project/fattureincloud-python-sdk/

entity = Entity(
    id=1,
    name="Mario Rossi",
    vat_number="47803200154",
    tax_code="RSSMRA91M20B967Q",
    address_street="Via Italia, 66",
    address_postal_code="20900",
    address_city="Milano",
    address_province="MI",
    country="Italia"
)

invoice = IssuedDocument(
    type = IssuedDocumentType("invoice"),
    entity = entity,
    date = datetime.date(2021, 1, 20),
    number = 1,
    numeration = "/fatt",
    subject = "internal subject",
    visible_subject = "visible subject",
    currency = Currency(
        id="EUR"
    ),
    language = Language(
        code="it",
        name="italiano"
    ),
    items_list = [
        IssuedDocumentItemsListItem(
            product_id=4,
            code="TV3",
            name="Tavolo in legno",
            net_price=100.0,
            category="cucina",
            discount=0.0,
            qty=1.0,
            vat=VatType(
                id=0
            )
        )
    ],
    payments_list = [
        IssuedDocumentPaymentsListItem(
            amount=122.0,
            due_date=datetime.date(2022, 1, 23),
            paid_date=datetime.date(2022, 1, 22),
            status=IssuedDocumentStatus("paid"),
            payment_account=PaymentAccount(
                id=110
            )
        )
    ],
    payment_method = PaymentMethod(
        id=386683
    ),
    # Finally we can add the attachment token of our uploaded file and a template
    # Upload your attachment: https://github.com/fattureincloud/fattureincloud-python-sdk/blob/master/docs/IssuedDocumentsApi.md#upload_issued_document_attachment
    attachment_token = "YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw",
    # List your templates: https://github.com/fattureincloud/fattureincloud-python-sdk/blob/master/docs/InfoApi.md#list_templates
    template = DocumentTemplate(
        id=150
    )
)
</code></pre>
<pre><code class="language-rb"># NOTE: this is a complete request, but please customize it!!!
# In the next step we'll explain how to perform the request to the API.

# in this example we are using our Ruby SDK
# https://rubygems.org/gems/fattureincloud_ruby_sdk

entity = FattureInCloud_Ruby_Sdk::Entity.new(
  id: 1,
  name: "Mario Rossi",
  vat_number: "47803200154",
  tax_code: "RSSMRA91M20B967Q",
  address_street: "Via Italia, 66",
  address_postal_code: "20900",
  address_city: "Milano",
  address_province: "MI",
  country: "Italia",
)

invoice = FattureInCloud_Ruby_Sdk::IssuedDocument.new(
  type: FattureInCloud_Ruby_Sdk::IssuedDocumentType::INVOICE,
  entity: entity,
  date: Date.new(2022, 01, 20),
  number: 1,
  numeration: "/fatt",
  subject: "internal subject",
  visible_subject: "visible subject",
  currency: FattureInCloud_Ruby_Sdk::Currency.new(
      id: "EUR"
  ),
  language: FattureInCloud_Ruby_Sdk::Language.new(
      code: "it",
      name: "italiano"
  ),
  items_list: Array(
    FattureInCloud_Ruby_Sdk::IssuedDocumentItemsListItem.new(
          product_id: 4,
          code: "TV3",
          name: "Tavolo in legno",
          net_price: 100,
          category: "cucina",
          discount: 0,
          qty: 1,
          vat: FattureInCloud_Ruby_Sdk::VatType.new(
              id: 0
          )
      )
  ),
  payments_list: Array(
    FattureInCloud_Ruby_Sdk::IssuedDocumentPaymentsListItem.new(
          amount: 122,
          due_date: Date.new(2022, 01, 23),
          paid_date: Date.new(2022, 01, 22),
          status: FattureInCloud_Ruby_Sdk::IssuedDocumentStatus::PAID,
          payment_account: FattureInCloud_Ruby_Sdk::PaymentAccount.new(
              id: 110
          )
      )
  ),
  payment_method: FattureInCloud_Ruby_Sdk::PaymentMethod.new(
      id: 386683
  ),
  # Finally we can add the attachment token of our uploaded file and a template
  # Upload your attachment: https://github.com/fattureincloud/fattureincloud-ruby-sdk/blob/master/docs/IssuedDocumentsApi.md#upload_issued_document_attachment
  attachment_token: "YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw",
  # List your templates: https://github.com/fattureincloud/fattureincloud-ruby-sdk/blob/master/docs/InfoApi.md#list_templates
  template: FattureInCloud_Ruby_Sdk::DocumentTemplate.new(
      id: 150
  )
)
</code></pre>
<pre><code class="language-ts">// NOTE: this is a partial request, please wait before sending it

// in this example we are using our TS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-ts-sdk
let entity: Entity = {};
entity.id = 1;
entity.name = "Mario Rossi";
entity.vat_number = "47803200154";
entity.tax_code = "RSSMRA91M20B967Q";
entity.address_street = "Via Italia, 66";
entity.address_postal_code = "20900";
entity.address_city = "Milano";
entity.address_province = "MI";
entity.country = "Italia";

let invoice: IssuedDocument = {
  type: IssuedDocumentType.Invoice,
  entity: entity,
  date: "2022-01-20",
  number: 1,
  numeration: "/fatt",
  subject: "internal subject",
  visible_subject: "visible subject",
  currency: {
    id: "EUR",
  },
  language: {
    code: "it",
    name: "italiano",
  },
  items_list: [
    {
      product_id: 4,
      code: "TV3",
      name: "Tavolo in legno",
      net_price: 100,
      category: "cucina",
      discount: 0,
      qty: 1,
      vat: {
        id: 0,
      },
    },
  ],
  payments_list: [
    {
      amount: 122,
      due_date: "2022-01-23",
      paid_date: "2022-01-22",
      status: "paid",
      payment_account: {
        id: 10,
      },
    },
  ],
  payment_method: {
    id: 386683,
  },
  // Finally we can add the attachment token of our uploaded file and a template
  // Upload your attachment: https://github.com/fattureincloud/fattureincloud-ts-sdk/blob/master/docs/IssuedDocumentsApi.md#uploadIssuedDocumentAttachment
  attachment_token: "YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw",
  // List your templates: https://github.com/fattureincloud/fattureincloud-ts-sdk/blob/master/docs/InfoApi.md#listTemplates
  template: {
    id: 150,
  },
};
</code></pre>
<p>As done in the previous step, we'll show you the list of the fields to be populated for this step:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Field Code</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Template id</td>
<td>data.template.id</td>
<td>10</td>
<td>Check List Templates Method</td>
</tr>
</tbody>
</table>
<p>Please, remember that this request will most probably <strong>fail</strong> if executed as-is! For example, the IDs specified in the request must exist in order to avoid getting an error response!
Remember to check the various methods explained in this guide to fill the request fields correctly!</p>
<h2 id="create-the-document"><img alt="✅" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:"/>  Create the document!</h2>
<p>Now we are ready to create an invoice, so let's <a href="/api-reference#post-/c/-company_id-/issued_documents">create an invoice</a> using the request we just built:</p>
<pre><code class="language-http">POST /c/1235/issued_documents HTTP/1.1
Accept: application/json
Content-Type: application/json
Host: api-v2.fattureincloud.it
Content-Length: 900

{"data":{"type":"invoice","entity":{"id":1,"name":"Mario Rossi","vat_number":"47803200154","tax_code":"RSSMRA91M20B967Q","address_street":"Via Italia, 66","address_postal_code":"20900","address_city":"Milano","address_province":"MI","address_extra":"","country":"Italia"},"date":"2022-01-20","number":1,"numeration":"\/fatt","subject":"internal subject","visible_subject":"visible subject","currency":{"id":"EUR","exchange_rate":"1.00000","symbol":"\u20ac"},"language":{"code":"it","name":"Italiano"},"items_list":[{"product_id":4,"code":"TV3","name":"Tavolo in legno","net_price":100,"category":"cucina","discount":0,"qty":1,"vat":{"id":0}}],"payment_method":{"id":386683},"payments_list":[{"amount":122,"due_date":"2022-01-23","paid_date":"2022-01-22","status":"paid","payment_account":{"id":110}}],"attachment_token":"YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw","template":{"id":150}}}
</code></pre>
<p>The corresponding code with our SDKs:</p>
<pre><code class="language-cs">using System;
using System.Collections.Generic;
using It.FattureInCloud.Sdk.Api;
using It.FattureInCloud.Sdk.Client;
using It.FattureInCloud.Sdk.Model;

namespace test {
    class Program {
        static void Main(string[] args) {
            Configuration config = new Configuration();

            //set your access token
            config.AccessToken = "YOUR_ACCESS_TOKEN";

            var apiInstance = new IssuedDocumentsApi(config);
            //set your company id
            var companyId = 12345;

            // NOTE: this is a complete request, but please customize it!!!
            // In the next step we'll explain how to perform the request to the API.

            // in this example we are using our C# SDK
            // https://www.nuget.org/packages/It.FattureInCloud.Sdk/

            Entity entity = new Entity(
                id: 1,
                name: "Mario Rossi",
                vatNumber: "47803200154",
                taxCode: "RSSMRA91M20B967Q",
                addressStreet: "Via Italia, 66",
                addressPostalCode: "20900",
                addressCity: "Milano",
                addressProvince: "MI",
                country: "Italia"
            );

            IssuedDocument invoice = new IssuedDocument(
                type: IssuedDocumentType.Invoice,
                entity: entity,
                date: new DateTime(2022, 01, 20),
                number: 1,
                numeration: "/fatt",
                subject: "internal subject",
                visibleSubject: "visible subject",
                currency: new Currency(
                    id: "EUR"
                ),
                language: new Language(
                    code: "it",
                    name: "italiano"
                ),
                    new IssuedDocumentItemsListItem(
                        productId: 4,
                        code: "TV3",
                        name: "Tavolo in legno",
                        netPrice: 100,
                        category: "cucina",
                        discount: 0,
                        qty: 1,
                        vat: new VatType(
                            id: 0
                        )
                    )
                },
                    new IssuedDocumentPaymentsListItem(
                        amount: 122,
                        dueDate: new DateTime(2022, 01, 23),
                        paidDate: new DateTime(2022, 01, 22),
                        status: IssuedDocumentStatus.Paid,
                        paymentAccount: new PaymentAccount(
                            id: 110
                        )
                    )
                },
                paymentMethod: new PaymentMethod(
                    id: 386683
                ),
                attachmentToken: "YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw",
                template: new DocumentTemplate(
                    id: 150
                )
            );

            // Here we put our invoice in the request object
            CreateIssuedDocumentRequest createIssuedDocumentRequest = new CreateIssuedDocumentRequest(
                data: invoice
            );

            // Now we are all set for the final call
            // Create the invoice: https://github.com/fattureincloud/fattureincloud-csharp-sdk/blob/master/docs/IssuedDocumentsApi.md#createissueddocument
            try {
                CreateIssuedDocumentResponse result = apiInstance.CreateIssuedDocument(companyId, createIssuedDocumentRequest);
                Console.WriteLine(result);
            } catch (ApiException e) {
                Console.WriteLine("Exception when calling IssuedDocumentsApi.CreateIssuedDocument: " + e.Message);
                Console.WriteLine("Status Code: " + e.ErrorCode);
                Console.WriteLine(e.StackTrace);
            }
        }
    }
}
</code></pre>
<pre><code class="language-go">// NOTE: this is a complete request, but please customize it!!!
// In the next step we'll explain how to perform the request to the API.

// in this example we are using our Go SDK
// https://github.com/fattureincloud/fattureincloud-go-sdk
package main

import (
    "context"
    "encoding/json"
    "fmt"
    "os"

    fattureincloudapi "github.com/fattureincloud/fattureincloud-go-sdk/v2/api"
    fattureincloud "github.com/fattureincloud/fattureincloud-go-sdk/v2/model"
)

func main() {
    //set your access token
    auth := context.WithValue(context.Background(), fattureincloudapi.ContextAccessToken, "YOUR_ACCESS_TOKEN")
    configuration := fattureincloudapi.NewConfiguration()
    apiClient := fattureincloudapi.NewAPIClient(configuration)

    //set your company id
    companyId := int32(12345)

    entity := *fattureincloud.NewEntity().
        SetId(1).
        SetName("Mario Rossi").
        SetVatNumber("RSSMRA91M20B967Q").
        SetTaxCode("RSSMRA91M20B967Q").
        SetAddressStreet("Via Italia, 66").
        SetAddressPostalCode("20900").
        SetAddressCity("Milano").
        SetAddressProvince("MI").
        SetCountry("Italia")

    invoice := *fattureincloud.NewIssuedDocument().
        SetEntity(entity).
        SetType(fattureincloud.IssuedDocumentTypes.INVOICE).
        SetDate("2022-01-20").
        SetNumber(1).
        SetNumeration("/fatt").
        SetSubject("internal subject").
        SetVisibleSubject("visible subject").
        SetCurrency(*fattureincloud.NewCurrency().SetId("EUR")).
        SetLanguage(*fattureincloud.NewLanguage().SetCode("it").SetName("italiano")).
        SetItemsList([]fattureincloud.IssuedDocumentItemsListItem{
            *fattureincloud.NewIssuedDocumentItemsListItem().
                SetProductId(4).
                SetCode("TV3").
                SetName("Tavolo in legno").
                SetNetPrice(100).
                SetCategory("cucina").
                SetDiscount(0).
                SetQty(1).
                SetVat(*fattureincloud.NewVatType().SetId(0)),
        }).
        SetPaymentsList([]fattureincloud.IssuedDocumentPaymentsListItem{
            *fattureincloud.NewIssuedDocumentPaymentsListItem().
                SetAmount(122).
                SetDueDate("2022-01-23").
                SetPaidDate("2022-01-22").
                SetStatus(fattureincloud.IssuedDocumentStatuses.NOT_PAID).
                SetPaymentAccount(*fattureincloud.NewPaymentAccount().SetId(110)),
        }).
        SetPaymentMethod(*fattureincloud.NewPaymentMethod().SetId(386683)).
        SetAttachmentToken("YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw").
        SetTemplate(*fattureincloud.NewDocumentTemplate().SetId(150))

    // Here we put our invoice in the request object
    createIssuedDocumentRequest := *fattureincloud.NewCreateIssuedDocumentRequest().SetData(invoice)

    // Now we are all set for the final call
    // Create the invoice: https://github.com/fattureincloud/fattureincloud-go-sdk/blob/master/docs/IssuedDocumentsApi.md#createIssuedDocument
    resp, r, err := apiClient.IssuedDocumentsAPI.CreateIssuedDocument(auth, companyId).CreateIssuedDocumentRequest(createIssuedDocumentRequest).Execute()
    if err != nil {
        fmt.Fprintf(os.Stderr, "Error when calling `IssuedDocumentsAPI.CreateIssuedDocument``: %v\n", err)
        fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
    }
    json.NewEncoder(os.Stdout).Encode(resp)
}
</code></pre>
<pre><code class="language-java">import it.fattureincloud.sdk.ApiClient;
import it.fattureincloud.sdk.ApiException;
import it.fattureincloud.sdk.Configuration;
import it.fattureincloud.sdk.auth.*;
import it.fattureincloud.sdk.model.*;
import it.fattureincloud.sdk.api.IssuedDocumentsApi;
import java.math.BigDecimal;
import java.time.LocalDate;

public class Example {
    public static void main(String[] args) {
        ApiClient defaultClient = Configuration.getDefaultApiClient();

        //set your access token
        // Configure OAuth2 access token for authorization: OAuth2AuthenticationCodeFlow
        OAuth OAuth2AuthenticationCodeFlow = (OAuth) defaultClient.getAuthentication("OAuth2AuthenticationCodeFlow");
        OAuth2AuthenticationCodeFlow.setAccessToken("YOUR ACCESS TOKEN");

        IssuedDocumentsApi apiInstance = new IssuedDocumentsApi(defaultClient);
        //set your company id
        Integer companyId = 12345;

        // NOTE: this is a complete request, but please customize it!!!
        // In the next step we'll explain how to perform the request to the API.

        // in this example we are using our Java SDK
        // https://search.maven.org/artifact/it.fattureincloud/fattureincloud-java-sdk

        Entity entity = new Entity()
                .id(1)
                .name("Mario Rossi")
                .vatNumber("47803200154")
                .taxCode("RSSMRA91M20B967Q")
                .addressStreet("Via Italia, 66")
                .addressPostalCode("20900")
                .addressCity("Milano")
                .addressProvince("MI")
                .country("Italy");

        IssuedDocument invoice = new IssuedDocument()
                .type(IssuedDocumentType.INVOICE)
                .entity(entity)
                .date(LocalDate.of(2022, 1, 20))
                .number(1)
                .numeration("/fatt")
                .subject("internal subject")
                .visibleSubject("visible subject")
                .currency(new Currency().id("EUR"))
                .language(new Language()
                                .code("it")
                                .name("italiano")
                )
                .addItemsListItem(
                        new IssuedDocumentItemsListItem()
                                .productId(4)
                                .code("TV3")
                                .name("Tavolo in legno")
                                .netPrice(BigDecimal.valueOf(100))
                                .category("cucina")
                                .discount(BigDecimal.valueOf(0))
                                .qty(BigDecimal.valueOf(1))
                                .vat(new VatType().id(0))
                )
                .addPaymentsListItem(
                        new IssuedDocumentPaymentsListItem()
                                .amount(BigDecimal.valueOf(122))
                                .dueDate(LocalDate.of(2022, 01, 23))
                                .paidDate(LocalDate.of(2022, 01, 22))
                                .status(IssuedDocumentStatus.PAID)
                                .paymentAccount(new PaymentAccount().id(110))
                )
                .paymentMethod(
                        new PaymentMethod().id(386683)
                )
                .attachmentToken("YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw")
                .template(new DocumentTemplate().id(150));

        // Here we put our invoice in the request object
        CreateIssuedDocumentRequest createIssuedDocumentRequest = new CreateIssuedDocumentRequest()
                .data(invoice);

        // Now we are all set for the final call
        // Create the invoice: https://github.com/fattureincloud/fattureincloud-java-sdk/blob/master/docs/IssuedDocumentsApi.md#createissueddocument
        try {
            CreateIssuedDocumentResponse result = apiInstance.createIssuedDocument(companyId, createIssuedDocumentRequest);
            System.out.println(result);
        } catch (ApiException e) {
            System.err.println("Exception when calling IssuedDocumentsApi#createIssuedDocument");
            System.err.println("Status code: " + e.getCode());
            System.err.println("Reason: " + e.getResponseBody());
            System.err.println("Response headers: " + e.getResponseHeaders());
            e.printStackTrace();
        }
    }
}
</code></pre>
<pre><code class="language-php">// NOTE: this is a complete request, but please customize it before trying to send it!

// In this example we are using our PHP SDK
// https://packagist.org/packages/fattureincloud/fattureincloud-php-sdk

&lt;?php

use FattureInCloud\Model\Currency;
use FattureInCloud\Model\DocumentTemplate;
use FattureInCloud\Model\Entity;
use FattureInCloud\Model\IssuedDocument;
use FattureInCloud\Model\IssuedDocumentItemsListItem;
use FattureInCloud\Model\IssuedDocumentPaymentsListItem;
use FattureInCloud\Model\IssuedDocumentStatus;
use FattureInCloud\Model\IssuedDocumentType;
use FattureInCloud\Model\CreateIssuedDocumentRequest;
use FattureInCloud\Model\Language;
use FattureInCloud\Model\PaymentAccount;
use FattureInCloud\Model\PaymentMethod;
use FattureInCloud\Model\VatType;

require_once(__DIR__ . '/vendor/autoload.php');

//set your access token
$config = FattureInCloud\Configuration::getDefaultConfiguration()-&gt;setAccessToken('YOUR_ACCESS_TOKEN');

$apiInstance = new FattureInCloud\Api\IssuedDocumentsApi(
    new GuzzleHttp\Client(),
    $config
);

//set your company id
$company_id = 12345;

$entity = new Entity;
$entity
    -&gt;setId(1)
    -&gt;setName("Mario Rossi")
    -&gt;setVatNumber("47803200154")
    -&gt;setTaxCode("RSSMRA91M20B967Q")
    -&gt;setAddressStreet("Via Italia, 66")
    -&gt;setAddressPostalCode("20900")
    -&gt;setAddressCity("Milano")
    -&gt;setAddressProvince("MI")
    -&gt;setCountry("Italia");

$invoice = new IssuedDocument;
$invoice-&gt;setType(IssuedDocumentType::INVOICE);
$invoice-&gt;setEntity($entity);
$invoice-&gt;setDate(new DateTime("2022-01-20"));
$invoice-&gt;setNumber(1);
$invoice-&gt;setNumeration("/fatt");
$invoice-&gt;setSubject("internal subject");
$invoice-&gt;setVisibleSubject("visible subject");
$invoice-&gt;setCurrency(
    new Currency(
        array(
           "id" =&gt; "EUR"
        )
    )
);
$invoice-&gt;setLanguage(
    new Language(
        array(
            "code" =&gt; "it",
            "name" =&gt; "italiano"
        )
    )
);
$invoice-&gt;setItemsList(
    array(
        new IssuedDocumentItemsListItem(
            array(
                "product_id" =&gt; 4,
                "code" =&gt; "TV3",
                "name" =&gt; "Tavolo in legno",
                "net_price" =&gt; 100,
                "category" =&gt; "cucina",
                "discount" =&gt; 0,
                "qty" =&gt; 1,
                "vat" =&gt; new VatType(
                    array(
                        "id" =&gt; 0
                    )
                )
            )
        )
    )
);
$invoice-&gt;setPaymentMethod(
    new PaymentMethod(
        array(
            "id" =&gt; 386683
        )
    )
);
$invoice-&gt;setPaymentsList(
    array(
        new IssuedDocumentPaymentsListItem(
            array(
                "amount" =&gt; 122,
                "due_date" =&gt; new DateTime("2022-01-23"),
                "paid_date" =&gt; new DateTime("2022-01-22"),
                "status" =&gt; IssuedDocumentStatus::PAID,
                "payment_account" =&gt; new PaymentAccount(
                    array(
                        "id" =&gt; 110
                    )
                )
            )
        )
    )
);
$invoice-&gt;setAttachmentToken("YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw");
$invoice-&gt;setTemplate(
    new DocumentTemplate(
        array(
            "id" =&gt; 150
        )
    )
);

// Here we put our invoice in the request object
$create_issued_document_request = new CreateIssuedDocumentRequest;
$create_issued_document_request-&gt;setData($invoice);

// Now we are all set for the final call
// Create the invoice: https://github.com/fattureincloud/fattureincloud-php-sdk/blob/master/docs/Api/IssuedDocumentsApi.md#createissueddocument
try {
    $result = $apiInstance-&gt;createIssuedDocument($company_id, $create_issued_document_request);
    print_r($result);
} catch (Exception $e) {
    echo 'Exception when calling IssuedDocumentsApi-&gt;createIssuedDocument: ', $e-&gt;getMessage(), PHP_EOL;
}
</code></pre>
<pre><code class="language-js">// NOTE: this is a complete request, but please customize it before trying to send it!

// in this example we are using our JS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-js-sdk

var fattureInCloudSdk = require("@fattureincloud/fattureincloud-js-sdk");
let defaultClient = fattureInCloudSdk.ApiClient.instance;

//set your access token
let OAuth2AuthenticationCodeFlow =
  defaultClient.authentications["OAuth2AuthenticationCodeFlow"];
OAuth2AuthenticationCodeFlow.accessToken = "YOUR_ACCESS_TOKEN";

let apiInstance = new fattureInCloudSdk.IssuedDocumentsApi();
//set your company id
let companyId = 12345;

let entity = new fattureInCloudSdk.Entity();
entity.id = 1;
entity.name = "Mario Rossi";
entity.vat_number = "47803200154";
entity.tax_code = "RSSMRA91M20B967Q";
entity.address_street = "Via Italia, 66";
entity.address_postal_code = "20900";
entity.address_city = "Milano";
entity.address_province = "MI";
entity.country = "Italia";

let invoice = new fattureInCloudSdk.IssuedDocument();
invoice.type = new fattureInCloudSdk.IssuedDocumentType().invoice;
invoice.entity = entity;
invoice.date = "2022-01-20";
invoice.number = 1;
invoice.numeration = "/fatt";
invoice.subject = "internal subject";
invoice.visible_subject = "visible subject";
invoice.currency = {
  id: "EUR",
};
invoice.language = {
  code: "it",
  name: "Italiano",
};
invoice.items_list = [
  {
    product_id: 4,
    code: "tv3",
    name: "tavolo in legno",
    net_price: 100,
    category: "cucina",
    discount: 0,
    qty: 1,
    vat: {
      id: 0,
    },
  },
];
invoice.payments_list = [
  {
    amount: 122,
    due_date: "2022-01-23",
    paid_date: "2022-01-22",
    status: "paid",
    payment_account: {
      id: 10,
    },
  },
];
invoice.payment_method = {
  id: 386683,
};
invoice.attachment_token =
  "YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw";
invoice.template = {
  id: 150,
};

// Here we put our invoice in the request object
let createIssuedDocumentRequest =
  new fattureInCloudSdk.CreateIssuedDocumentRequest();
createIssuedDocumentRequest.data = invoice;

let opts = {
  createIssuedDocumentRequest: createIssuedDocumentRequest,
};

// Now we are all set for the final call
// Create the invoice: https://github.com/fattureincloud/fattureincloud-js-sdk/blob/master/docs/IssuedDocumentsApi.md#createIssuedDocument
apiInstance.createIssuedDocument(companyId, opts).then(
  (result) =&gt; {
    console.log(
      "API called successfully. Returned result: " + JSON.stringify(result)
    );
  },
  (error) =&gt; {
    console.error(error);
  }
);
</code></pre>
<pre><code class="language-py">import datetime
import fattureincloud_python_sdk
from fattureincloud_python_sdk.api import issued_documents_api
from fattureincloud_python_sdk.models.vat_type import VatType
from fattureincloud_python_sdk.models.currency import Currency
from fattureincloud_python_sdk.models.language import Language
from fattureincloud_python_sdk.models.entity import Entity
from fattureincloud_python_sdk.models.payment_method import PaymentMethod
from fattureincloud_python_sdk.models.payment_account import PaymentAccount
from fattureincloud_python_sdk.models.document_template import DocumentTemplate
from fattureincloud_python_sdk.models.issued_document import IssuedDocument
from fattureincloud_python_sdk.models.issued_document_type import IssuedDocumentType
from fattureincloud_python_sdk.models.issued_document_status import IssuedDocumentStatus
from fattureincloud_python_sdk.models.create_issued_document_request import CreateIssuedDocumentRequest
from fattureincloud_python_sdk.models.create_issued_document_response import CreateIssuedDocumentResponse
from fattureincloud_python_sdk.models.issued_document_items_list_item import IssuedDocumentItemsListItem
from fattureincloud_python_sdk.models.issued_document_payments_list_item import IssuedDocumentPaymentsListItem

from pprint import pprint

# set your access token
configuration = fattureincloud_python_sdk.Configuration()
configuration.access_token = "YOUR_ACCESS_TOKEN"

# set your company id
company_id = 12345

# NOTE: this is a complete request, but please customize it!!!
# In the next step we'll explain how to perform the request to the API.

# in this example we are using our Python SDK
# https://pypi.org/project/fattureincloud-python-sdk/

entity = Entity(
    id=1,
    name="Mario Rossi",
    vat_number="47803200154",
    tax_code="RSSMRA91M20B967Q",
    address_street="Via Italia, 66",
    address_postal_code="20900",
    address_city="Milano",
    address_province="MI",
    country="Italia"
)

invoice = IssuedDocument(
    type = IssuedDocumentType("invoice"),
    entity = entity,
    date = datetime.date(2021, 1, 20),
    number = 1,
    numeration = "/fatt",
    subject = "internal subject",
    visible_subject = "visible subject",
    currency = Currency(
        id="EUR"
    ),
    language = Language(
        code="it",
        name="italiano"
    ),
    items_list = [
        IssuedDocumentItemsListItem(
            product_id=4,
            code="TV3",
            name="Tavolo in legno",
            net_price=100.0,
            category="cucina",
            discount=0.0,
            qty=1.0,
            vat=VatType(
                id=0
            )
        )
    ],
    payments_list = [
        IssuedDocumentPaymentsListItem(
            amount=122.0,
            due_date=datetime.date(2022, 1, 23),
            paid_date=datetime.date(2022, 1, 22),
            status=IssuedDocumentStatus("paid"),
            payment_account=PaymentAccount(
                id=110
            )
        )
    ],
    payment_method = PaymentMethod(
        id=386683
    ),
    attachment_token = "YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw",
    template = DocumentTemplate(
        id=150
    )
)

# Here we put our invoice in the request object
create_issued_document_request = CreateIssuedDocumentRequest(
    data = invoice
)

# Now we are all set for the final call
# Create the invoice: https://github.com/fattureincloud/fattureincloud-python-sdk/blob/master/docs/IssuedDocumentsApi.md#create_issued_document

with fattureincloud_python_sdk.ApiClient(configuration) as api_client:

    api_instance = issued_documents_api.IssuedDocumentsApi(api_client)
    try:
        api_response = api_instance.create_issued_document(company_id, create_issued_document_request=create_issued_document_request)
        pprint(api_response)
    except fattureincloud_python_sdk.ApiException as e:
        print("Exception when calling IssuedDocumentsApi-&gt;create_issued_document: %s\n" % e)
</code></pre>
<pre><code class="language-rb">require 'time'
require 'fattureincloud_ruby_sdk'

FattureInCloud_Ruby_Sdk.configure do |config|
  # set your access token
  config.access_token = 'YOUR ACCESS TOKEN'
end

api_instance = FattureInCloud_Ruby_Sdk::IssuedDocumentsApi.new
# set your company id
company_id = 12345

# NOTE: this is a complete request, but please customize it!!!
# In the next step we'll explain how to perform the request to the API.

# in this example we are using our Ruby SDK
# https://rubygems.org/gems/fattureincloud_ruby_sdk

entity = FattureInCloud_Ruby_Sdk::Entity.new(
  id: 1,
  name: "Mario Rossi",
  vat_number: "47803200154",
  tax_code: "RSSMRA91M20B967Q",
  address_street: "Via Italia, 66",
  address_postal_code: "20900",
  address_city: "Milano",
  address_province: "MI",
  country: "Italia",
)

invoice = FattureInCloud_Ruby_Sdk::IssuedDocument.new(
  type: FattureInCloud_Ruby_Sdk::IssuedDocumentType::INVOICE,
  entity: entity,
  date: Date.new(2022, 01, 20),
  number: 1,
  numeration: "/fatt",
  subject: "internal subject",
  visible_subject: "visible subject",
  currency: FattureInCloud_Ruby_Sdk::Currency.new(
      id: "EUR"
  ),
  language: FattureInCloud_Ruby_Sdk::Language.new(
      code: "it",
      name: "italiano"
  ),
  items_list: Array(
    FattureInCloud_Ruby_Sdk::IssuedDocumentItemsListItem.new(
          product_id: 4,
          code: "TV3",
          name: "Tavolo in legno",
          net_price: 100,
          category: "cucina",
          discount: 0,
          qty: 1,
          vat: FattureInCloud_Ruby_Sdk::VatType.new(
              id: 0
          )
      )
  ),
  payments_list: Array(
    FattureInCloud_Ruby_Sdk::IssuedDocumentPaymentsListItem.new(
          amount: 122,
          due_date: Date.new(2022, 01, 23),
          paid_date: Date.new(2022, 01, 22),
          status: FattureInCloud_Ruby_Sdk::IssuedDocumentStatus::PAID,
          payment_account: FattureInCloud_Ruby_Sdk::PaymentAccount.new(
              id: 110
          )
      )
  ),
  payment_method: FattureInCloud_Ruby_Sdk::PaymentMethod.new(
      id: 386683
  ),
  attachment_token: "YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw",
  template: FattureInCloud_Ruby_Sdk::DocumentTemplate.new(
      id: 150
  )
)

# Here we put our invoice in the request object
opts = {
  create_issued_document_request: FattureInCloud_Ruby_Sdk::CreateIssuedDocumentRequest.new(data: invoice)
}
# Now we are all set for the final call
# Create the invoice: https://github.com/fattureincloud/fattureincloud-ruby-sdk/blob/master/docs/IssuedDocumentsApi.md#create_issued_document
begin
  result = api_instance.create_issued_document(company_id, opts)
  p result
rescue FattureInCloud_Ruby_Sdk::ApiError =&gt; e
  puts "Error when calling IssuedDocumentsApi-&gt;create_issued_document: #{e}"
end
</code></pre>
<pre><code class="language-ts">// NOTE: this is a complete request, but please customize it before trying to send it!

// in this example we are using our TS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-ts-sdk

import {
  Configuration,
  IssuedDocumentsApi,
  Entity,
  IssuedDocument,
  IssuedDocumentType,
  CreateIssuedDocumentRequest,
} from "@fattureincloud/fattureincloud-ts-sdk";

//set your access token
const apiConfig = new Configuration({
  accessToken: "YOUR ACCESS TOKEN",
});

let apiInstance = new IssuedDocumentsApi(apiConfig);

//set your company id
let companyId = 12345;

let entity: Entity = {};
entity.id = 1;
entity.name = "Mario Rossi";
entity.vat_number = "47803200154";
entity.tax_code = "RSSMRA91M20B967Q";
entity.address_street = "Via Italia, 66";
entity.address_postal_code = "20900";
entity.address_city = "Milano";
entity.address_province = "MI";
entity.country = "Italia";

let invoice: IssuedDocument = {
  type: IssuedDocumentType.Invoice,
  entity: entity,
  date: "2022-01-20",
  number: 1,
  numeration: "/fatt",
  subject: "internal subject",
  visible_subject: "visible subject",
  currency: {
    id: "EUR",
  },
  language: {
    code: "it",
    name: "italiano",
  },
  items_list: [
    {
      product_id: 4,
      code: "TV3",
      name: "Tavolo in legno",
      net_price: 100,
      category: "cucina",
      discount: 0,
      qty: 1,
      vat: {
        id: 0,
      },
    },
  ],
  payments_list: [
    {
      amount: 122,
      due_date: "2022-01-23",
      paid_date: "2022-01-22",
      status: "paid",
      payment_account: {
        id: 10,
      },
    },
  ],
  payment_method: {
    id: 386683,
  },
  attachment_token: "YmMyNWYxYzIwMTU3N2Y4ZGE3ZjZiMzg5OWY0ODNkZDQveXl5LmRvYw",
  template: {
    id: 150,
  },
};

// Here we put our invoice in the request object
let createIssuedDocumentRequest: CreateIssuedDocumentRequest = {
  data: invoice,
};

// Now we are all set for the final call
// Create the invoice: https://github.com/fattureincloud/fattureincloud-ts-sdk/blob/master/docs/IssuedDocumentsApi.md#createIssuedDocument
apiInstance.createIssuedDocument(companyId, createIssuedDocumentRequest).then(
  (data) =&gt; {
    console.log(data);
  },
  (error) =&gt; {
    console.error(error);
  }
);
</code></pre>
<p>Once you filled all the fields you need, you can click the "Continue" button and follow the wizard to create your Zap!</p>
<p>You just created your first invoice. Congratulations!</p>
<h2 id="send-the-document"><img alt="📬" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/1f4ec.png" title=":mailbox_with_mail:"/>  Send the document</h2>
<p>After you created your invoice it's time to send it to your customer, with the <a href="/api-reference#post-/c/-company_id-/issued_documents/-document_id-/email">Schedule Email</a> method.
To do that you have 2 options:</p>
<ul>
<li>use your SMTP server configured in <a href="https://secure.fattureincloud.it/settings-mailconfig">Settings -&gt; SMTP configuration</a></li>
<li>use our mail service setting the sender_id to 0 as shown in the examples below (the mail will result to be sent by <em>no-reply@fattureincloud.it</em>)</li>
</ul>
<p>In the email body you can use 3 variables:</p>
<ul>
<li><strong>{{allegati}}</strong>: adds button to download attachments</li>
<li><strong>{{logo-1}}</strong>: adds the Logo 1 image</li>
<li><strong>{{logo-2}}</strong>: adds the Logo 2 image</li>
</ul>
<p>keep in mind that the max size of the body is 50KiB and must be HTML escaped.</p>
<pre><code class="language-http">POST /c/12345/issued_documents/54321/email HTTP/1.1
Accept: application/json
Content-Type: application/json
Host: api-v2.fattureincloud.it
Content-Length: 900

</code></pre>
<p>The corresponding code with our SDKs:</p>
<pre><code class="language-cs">using System;
using System.Collections.Generic;
using It.FattureInCloud.Sdk.Api;
using It.FattureInCloud.Sdk.Client;
using It.FattureInCloud.Sdk.Model;

namespace test {
    class Program {
        static void Main(string[] args) {
            Configuration config = new Configuration();

            //set your access token
            config.AccessToken = "YOUR_ACCESS_TOKEN";

            var apiInstance = new IssuedDocumentsApi(config);

            //set your company id
            var companyId = 12345;

            //set your previously created document id
            var documentId = 54321;

            // in this example we are using our C# SDK
            // https://www.nuget.org/packages/It.FattureInCloud.Sdk/

            EmailSchedule email = new EmailSchedule(
                senderId: 0,
                recipientEmail: "mariorossi@mail.com",
                subject: "Nostra fattura nr. 54321",
                include: new EmailScheduleInclude(
                    document: true,
                    deliveryNote: false,
                    attachment: false,
                    accompanyingInvoice: false
                    ),
                attachPdf: false,
                sendCopy: false
             );


            ScheduleEmailRequest scheduleEmailRequest = new ScheduleEmailRequest(
                data: email
            );

            // Now we are all set for the final call
            // Schedule the email: https://github.com/fattureincloud/fattureincloud-csharp-sdk/blob/master/docs/IssuedDocumentsApi.md#scheduleemail
            try
            {
                apiInstance.ScheduleEmail(companyId, documentId, scheduleEmailRequest);
            }
            catch (ApiException e)
            {
                Debug.Print("Exception when calling IssuedDocumentsApi.ScheduleEmail: " + e.Message);
                Debug.Print("Status Code: " + e.ErrorCode);
                Debug.Print(e.StackTrace);
            }
        }
    }
}
</code></pre>
<pre><code class="language-go">// in this example we are using our Go SDK
// https://github.com/fattureincloud/fattureincloud-go-sdk
package main

import (
    "context"
    "fmt"
    "os"

    fattureincloudapi "github.com/fattureincloud/fattureincloud-go-sdk/v2/api"
    fattureincloud "github.com/fattureincloud/fattureincloud-go-sdk/v2/model"
)

func main() {
    //set your access token
    auth := context.WithValue(context.Background(), fattureincloudapi.ContextAccessToken, "YOUR_ACCESS_TOKEN")
    configuration := fattureincloudapi.NewConfiguration()
    apiClient := fattureincloudapi.NewAPIClient(configuration)

    //set your company id
    companyId := int32(12345)

    //set your company id
    documentId := int32(54321)

    email := *fattureincloud.NewEmailSchedule().
        SetSenderId(0).
        SetRecipientEmail("mariorossi@mail.com").
        SetSubject("Nostra fattura nr. 54321").
        SetInclude(*fattureincloud.NewEmailScheduleInclude().
            SetDocument(true).
            SetDeliveryNote(false).
            SetAttachment(false).
            SetAccompanyingInvoice(false),
        ).
        SetAttachPdf(false).
        SetSendCopy(false)

    scheduleEmailRequest := *fattureincloud.NewScheduleEmailRequest().SetData(email)

    // Now we are all set for the final call
    // Schedule the email: https://github.com/fattureincloud/fattureincloud-go-sdk/blob/master/docs/IssuedDocumentsApi.md#scheduleEmail
    resp, err := apiClient.IssuedDocumentsAPI.ScheduleEmail(auth, companyId, documentId).ScheduleEmailRequest(scheduleEmailRequest).Execute()
    if err != nil {
        fmt.Fprintf(os.Stderr, "Error when calling `IssuedDocumentsAPI.ScheduleEmail``: %v\n", err)
        fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", resp)
    }
}
</code></pre>
<pre><code class="language-java">import it.fattureincloud.sdk.ApiClient;
import it.fattureincloud.sdk.ApiException;
import it.fattureincloud.sdk.Configuration;
import it.fattureincloud.sdk.auth.*;
import it.fattureincloud.sdk.model.*;
import it.fattureincloud.sdk.api.IssuedDocumentsApi;
import java.math.BigDecimal;
import java.time.LocalDate;

public class Example {
    public static void main(String[] args) {
        ApiClient defaultClient = Configuration.getDefaultApiClient();

        // set your access token
        // Configure OAuth2 access token for authorization: OAuth2AuthenticationCodeFlow
        OAuth OAuth2AuthenticationCodeFlow = (OAuth) defaultClient.getAuthentication("OAuth2AuthenticationCodeFlow");
        OAuth2AuthenticationCodeFlow.setAccessToken("YOUR ACCESS TOKEN");

        IssuedDocumentsApi apiInstance = new IssuedDocumentsApi(defaultClient);

        // set your company id
        Integer companyId = 12345;

        // set your previously created document id
        Integer documentId = 54321;

        // in this example we are using our Java SDK
        // https://search.maven.org/artifact/it.fattureincloud/fattureincloud-java-sdk

        EmailSchedule email = new EmailSchedule()
            .senderId(0)
            .recipientEmail("mariorossi@mail.com")
            .subject("Nostra fattura nr. 54321")
            .include(
                new EmailScheduleInclude()
                    .document(true)
                    .deliveryNote(false)
                    .attachment(false)
                    .accompanyingInvoice(false))
            .attachPdf(false)
            .sendCopy(false);

        ScheduleEmailRequest scheduleEmailRequest = new ScheduleEmailRequest().data(email);

        // Now we are all set for the final call
        // Schedule the email: https://github.com/fattureincloud/fattureincloud-java-sdk/blob/master/docs/IssuedDocumentsApi.md#scheduleemail
        try {
            apiInstance.scheduleEmail(companyId, documentId, scheduleEmailRequest);
        } catch (ApiException e) {
            System.err.println("Exception when calling IssuedDocumentsApi#scheduleEmail");
            System.err.println("Status code: " + e.getCode());
            System.err.println("Reason: " + e.getResponseBody());
            System.err.println("Response headers: " + e.getResponseHeaders());
            e.printStackTrace();
        }
    }
}
</code></pre>
<pre><code class="language-php">&lt;?php

use FattureInCloud\Model\EmailSchedule;
use FattureInCloud\Model\ScheduleEmailRequest;

require_once(__DIR__ . '/vendor/autoload.php');

// set your access token
$config = FattureInCloud\Configuration::getDefaultConfiguration()-&gt;setAccessToken('YOUR_ACCESS_TOKEN');

$apiInstance = new FattureInCloud\Api\IssuedDocumentsApi(
    new GuzzleHttp\Client(),
    $config
);

// set your company id
$company_id = 12345;

// set your previously retrieved document id
$document_id = 54321;

// In this example we are using our PHP SDK
// https://packagist.org/packages/fattureincloud/fattureincloud-php-sdk

$email = new EmailSchedule(
    [
        "sender_id" =&gt; 0,
        "recipient_email" =&gt; "mariorossi@mail.com",
        "subject" =&gt; "Nostra fattura nr. 54321",
        "include" =&gt;
            [
                "document" =&gt; true,
                "delivery_note" =&gt; false,
                "attachment" =&gt; false,
                "accompanying_invoice" =&gt; false
            ],
        "attach_pdf" =&gt; false,
        "send_copy" =&gt; false
    ]
);

$schedule_email_request = new ScheduleEmailRequest(["data" =&gt; $email]);

// Now we are all set for the final call
// Schedule the email: https://github.com/fattureincloud/fattureincloud-php-sdk/blob/master/docs/Api/IssuedDocumentsApi.md#scheduleemail
try {
    $apiInstance-&gt;scheduleEmail($company_id, $document_id, $schedule_email_request);
} catch (Exception $e) {
    echo 'Exception when calling IssuedDocumentsApi-&gt;scheduleEmail: ', $e-&gt;getMessage(), PHP_EOL;
}
</code></pre>
<pre><code class="language-js">// in this example we are using our JS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-js-sdk

var fattureInCloudSdk = require("@fattureincloud/fattureincloud-js-sdk");
let defaultClient = fattureInCloudSdk.ApiClient.instance;

//set your access token
let OAuth2AuthenticationCodeFlow =
  defaultClient.authentications["OAuth2AuthenticationCodeFlow"];
OAuth2AuthenticationCodeFlow.accessToken = "YOUR_ACCESS_TOKEN";

let apiInstance = new fattureInCloudSdk.IssuedDocumentsApi();

//set your company id
let companyId = 12345;

//set your previously created document id
let documentId = 54321;

let email = new fattureInCloudSdk.EmailSchedule();
email.sender_id = 0;
email.recipient_email = "mariorossi@mail.com";
email.subject = "Nostra fattura nr. 54321";
email.body =
email.include = {
  document: true,
  delivery_note: false,
  attachment: false,
  accompanying_invoice: false,
};
email.attach_pdf = false;
email.send_copy = false;

let scheduleEmailRequest = new fattureInCloudSdk.ScheduleEmailRequest();
scheduleEmailRequest.data = email;

let opts = {
  scheduleEmailRequest: scheduleEmailRequest,
};

// Now we are all set for the final call
// Schedule the email: https://github.com/fattureincloud/fattureincloud-js-sdk/blob/master/docs/IssuedDocumentsApi.md#scheduleEmail
apiInstance.scheduleEmail(companyId, documentId, opts).then(
  () =&gt; {
    console.log("API called successfully");
  },
  (error) =&gt; {
    console.error(error);
  }
);
</code></pre>
<pre><code class="language-py">import datetime
import fattureincloud_python_sdk
from fattureincloud_python_sdk.api import issued_documents_api
from fattureincloud_python_sdk.models.email_schedule import EmailSchedule
from fattureincloud_python_sdk.models.schedule_email_request import ScheduleEmailRequest
from pprint import pprint

# set your access token
configuration = fattureincloud_python_sdk.Configuration()
configuration.access_token = "YOUR_ACCESS_TOKEN"

# set your company id
company_id = 12345

# set your previously create document id
document_id = 54321

# in this example we are using our Python SDK
# https://pypi.org/project/fattureincloud-python-sdk/

email = EmailSchedule(
    sender_id=0,
    recipient_email="mariorossi@mail.com",
    subject="Nostra fattura nr. 54321",
    include=EmailScheduleInclude(
        document=True,
        delivery_note=False,
        attachment=False,
        accompanying_invoice=False
    ),
    attach_pdf=False,
    send_copy=False
)

schedule_email_request = ScheduleEmailRequest(
    data = email
)

# Now we are all set for the final call
# Create the invoice: https://github.com/fattureincloud/fattureincloud-python-sdk/blob/master/docs/IssuedDocumentsApi.md#schedule_email

with fattureincloud_python_sdk.ApiClient(configuration) as api_client:

    api_instance = issued_documents_api.IssuedDocumentsApi(api_client)
    try:
        api_instance.schedule_email(company_id, document_id, schedule_email_request=schedule_email_request)
    except fattureincloud_python_sdk.ApiException as e:
        print("Exception when calling IssuedDocumentsApi-&gt;schedule_email: %s\n" % e)
</code></pre>
<pre><code class="language-rb">require 'time'
require 'fattureincloud_ruby_sdk'

FattureInCloud_Ruby_Sdk.configure do |config|
  # set your access token
  config.access_token = 'YOUR ACCESS TOKEN'
end

api_instance = FattureInCloud_Ruby_Sdk::IssuedDocumentsApi.new

# set your company id
company_id = 12345

# set your previously retrieved document id
document_id = 54321

# in this example we are using our Ruby SDK
# https://rubygems.org/gems/fattureincloud_ruby_sdk

email = FattureInCloud_Ruby_Sdk::EmailSchedule.new(
  sender_id: 0,
  recipient_email: "mariorossi@mail.com",
  subject: "Nostra fattura nr. 54321",
  include: FattureInCloud_Ruby_Sdk::EmailScheduleInclude.new(
      document: true,
      delivery_note: false,
      attachment: false,
      accompanying_invoice: false
  ),
  attach_pdf: false,
  send_copy: false
)

opts = {
  schedule_email_request: FattureInCloud_Ruby_Sdk::ScheduleEmailRequest.new(data: email)
}

# Now we are all set for the final call
# Create the invoice: https://github.com/fattureincloud/fattureincloud-ruby-sdk/blob/master/docs/IssuedDocumentsApi.md#scheduleemail
begin
  api_instance.schedule_email(company_id, document_id, opts)
rescue FattureInCloud_Ruby_Sdk::ApiError =&gt; e
  puts "Error when calling IssuedDocumentsApi-&gt;schedule_email: #{e}"
end
</code></pre>
<pre><code class="language-ts">// in this example we are using our TS SDK
// https://www.npmjs.com/package/@fattureincloud/fattureincloud-ts-sdk

import {
  Configuration,
  IssuedDocumentsApi,
  EmailSchedule,
  ScheduleEmailRequest,
} from "@fattureincloud/fattureincloud-ts-sdk";

// set your access token
const apiConfig = new Configuration({
  accessToken: "YOUR ACCESS TOKEN",
});

let apiInstance = new IssuedDocumentsApi(apiConfig);

// set your company id
let companyId = 12345;

// set your previously created document id
let documentId = 54321;

let email: EmailSchedule = {};
email.sender_id = 0;
email.recipient_email = "mariorossi@mail.com";
email.subject = "Nostra fattura nr. 54321";
email.body =
email.include = {
  document: true,
  delivery_note: false,
  attachment: false,
  accompanying_invoice: false,
};
email.attach_pdf = false;
email.send_copy = false;

let scheduleEmailRequest: ScheduleEmailRequest = {
  data: email,
};

// Now we are all set for the final call
// Schedule the email: https://github.com/fattureincloud/fattureincloud-ts-sdk/blob/master/docs/IssuedDocumentsApi.md#scheduleEmail
apiInstance.schedule(companyId, documentId, createIssuedDocumentRequest).then(
  () =&gt; {
    console.log("API called successfully");
  },
  (error) =&gt; {
    console.error(error);
  }
);
</code></pre>
<p>In this case, you'll need to use the <strong>Schedule Email</strong> Action, so it is a different action than the one used before.
You can decide to add another step to your Zap or to create a new Zap with a trigger on the Invoice Creation event.</p>
<p>These are the fields required for this step:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Field Code</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>The ID of the company</td>
<td>-</td>
<td>12345</td>
<td>Select it from the dropdown menu</td>
</tr>
<tr>
<td>The ID of the document</td>
<td>-</td>
<td>54321</td>
<td>The ID returned from the previous step (Trigger or Action)</td>
</tr>
<tr>
<td>Email sender id</td>
<td>data.sender_id</td>
<td>0</td>
<td>The ID 0 indicates our mail service</td>
</tr>
<tr>
<td>Email recipient emails</td>
<td>data.recipient_email</td>
<td>mariorossi@mail.com</td>
<td></td>
</tr>
<tr>
<td>Email subject</td>
<td>data.subject</td>
<td>Nostra fattura nr. 54321</td>
<td></td>
</tr>
<tr>
<td>Email body</td>
<td>data.body</td>
<td>XXX</td>
<td>HTML escaped email body, check the request above to copy the content</td>
</tr>
<tr>
<td>Include a button to view the document</td>
<td>data.include.document</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>Include a button to view the delivery note</td>
<td>data.include.delivery_note</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>Include a button to view the attachment</td>
<td>data.include.attachment</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>Include a button to view the accompanying invoice</td>
<td>data.include.accompanying_invoice</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>Attach the PDF of the document</td>
<td>data.attach_pdf</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>Send a copy of the email...</td>
<td>data.send_copy</td>
<td>false</td>
<td></td>
</tr>
</tbody>
</table>
<p>Please, remember that this request will most probably <strong>fail</strong> if executed as-is! For example, the IDs specified in the request must exist in order to avoid getting an error response!
Remember to check the various methods explained in this guide to fill the request fields correctly!</p>
<h2 id="send-the-e-invoice-to-the-sdi"><img alt="🚀" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/1f680.png" title=":rocket:"/>  Send the E-Invoice to the SDI</h2>
<p>If the document you created is an e-invoice, you can also send it to the SDI. We created a <a href="/guides/e-invoice-management.md">dedicated guide</a> to describe this operation in detail.</p>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["icons", "navigation.collapsible"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
<script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>
<script>document$.subscribe(() => {
            window.update_swagger_ui_iframe_height = function (id) {
                var iFrameID = document.getElementById(id);
                if (iFrameID) {
                    full_height = (iFrameID.contentWindow.document.body.scrollHeight + 80) + "px";
                    iFrameID.height = full_height;
                    iFrameID.style.height = full_height;
                }
            }
        
            let iframe_id_list = []
            var iframes = document.getElementsByClassName("swagger-ui-iframe");
            for (var i = 0; i < iframes.length; i++) { 
                iframe_id_list.push(iframes[i].getAttribute("id"))
            }
        
            let ticking = true;
            
            document.addEventListener('scroll', function(e) {
                if (!ticking) {
                    window.requestAnimationFrame(()=> {
                        let half_vh = window.innerHeight/2;
                        for(var i = 0; i < iframe_id_list.length; i++) {
                            let element = document.getElementById(iframe_id_list[i])
                            if(element==null){
                                return
                            }
                            let diff = element.getBoundingClientRect().top
                            if(element.contentWindow.update_top_val){
                                element.contentWindow.update_top_val(half_vh - diff)
                            }
                        }
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        
            const dark_scheme_name = "slate"
            
            window.scheme = document.body.getAttribute("data-md-color-scheme")
            const options = {
                attributeFilter: ['data-md-color-scheme'],
            };
            function color_scheme_callback(mutations) {
                for (let mutation of mutations) {
                    if (mutation.attributeName === "data-md-color-scheme") {
                        scheme = document.body.getAttribute("data-md-color-scheme")
                        var iframe_list = document.getElementsByClassName("swagger-ui-iframe")
                        for(var i = 0; i < iframe_list.length; i++) {
                            var ele = iframe_list.item(i);
                            if (ele) {
                                if (scheme === dark_scheme_name) {
                                    ele.contentWindow.enable_dark_mode();
                                } else {
                                    ele.contentWindow.disable_dark_mode();
                                }
                            }
                        }
                    }
                }
            }
            observer = new MutationObserver(color_scheme_callback);
            observer.observe(document.body, options);
            })</script></body>
</html>