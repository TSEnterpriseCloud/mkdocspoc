
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Discover how to calculate the totals" name="description"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.42" name="generator"/>
<title>Invoice totals calculation - TeamSystem Enterprise Cloud</title>
<link href="../../assets/stylesheets/main.0253249f.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="/static/css/custom.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#older_woman-old-or-new">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="TeamSystem Enterprise Cloud" class="md-header__button md-logo" data-md-component="logo" href="../.." title="TeamSystem Enterprise Cloud">
<img alt="logo" src="/static/img/LOGO_SCRITTA_ENTERPRISE CLOUD_colori.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            TeamSystem Enterprise Cloud
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Invoice totals calculation
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<div class="md-header__option">
<div class="md-select">
<button aria-label="Select language" class="md-header__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"></path></svg>
</button>
<div class="md-select__inner">
<ul class="md-select__list">
<li class="md-select__item">
<a class="md-select__link" href="/en/" hreflang="en">
              English
            </a>
</li>
<li class="md-select__item">
<a class="md-select__link" href="/de/" hreflang="de">
              Deutsch
            </a>
</li>
<li class="md-select__item">
<a class="md-select__link" href="/es/" hreflang="es">
              Spanish
            </a>
</li>
</ul>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../started/getting-started/">
          
  
  Getting Started

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../stepbystep/common-terms/">
          
  
  Step by step guide

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../stepbystep/quickstarts/postman-collection/">
          
  
  Quickstarts

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../anagrafiche/">
          
  
  Supported scenarios

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../basics/scopes/">
          
  
  Basics

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../reference/api-reference-co/">
          
  
  Api Reference

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../sdks/typescript-sdk/">
          
  
  SDKs

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../support/faq/">
          
  
  Support &amp; Feature Request

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../legal/terms/">
          
  
  Legal

        </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="TeamSystem Enterprise Cloud" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="TeamSystem Enterprise Cloud">
<img alt="logo" src="/static/img/LOGO_SCRITTA_ENTERPRISE CLOUD_colori.png"/>
</a>
    TeamSystem Enterprise Cloud
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-ellipsis">
    Getting Started
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../started/getting-started/">
<span class="md-ellipsis">
    Introduction
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../started/authentication/">
<span class="md-ellipsis">
    Authentication
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../started/howto/">
<span class="md-ellipsis">
    How to
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    Step by step guide
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Step by step guide
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/common-terms/">
<span class="md-ellipsis">
    Common Terms
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/company-scoped-methods/">
<span class="md-ellipsis">
    Company methods
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/manual-authentication/">
<span class="md-ellipsis">
    Authentication mode
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Quickstarts
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Quickstarts
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/postman-collection/">
<span class="md-ellipsis">
    Postaman Collections
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/csharp-sdk-quickstart/">
<span class="md-ellipsis">
    C# SDK Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/go-sdk-quickstart/">
<span class="md-ellipsis">
    GO SDK Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/java-sdk-quickstart/">
<span class="md-ellipsis">
    Java SDK Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/js-sdk-quickstart/">
<span class="md-ellipsis">
    JavaScript SDK Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/php-sdk-quickstart/">
<span class="md-ellipsis">
    PHP SDK Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/python-sdk-quickstart/">
<span class="md-ellipsis">
    Python SDK Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/ruby-sdk-quickstart/">
<span class="md-ellipsis">
    Ruby SDK Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/ts-sdk-quickstart/">
<span class="md-ellipsis">
    TypeScript SDK Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/vanilla-code/">
<span class="md-ellipsis">
    Vanilla Code Sample
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/windows-form-quickstart/">
<span class="md-ellipsis">
    Windows Form Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/google-sheets-quickstart/">
<span class="md-ellipsis">
    Google Sheets Apps Script Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../stepbystep/quickstarts/zapier-quickstart/">
<span class="md-ellipsis">
    Zapier Quickstart
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Supported scenarios
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Supported scenarios
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../anagrafiche/">
<span class="md-ellipsis">
    Anagrafiche
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../invoice-creation/">
<span class="md-ellipsis">
    Invoice creation
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../e-invoice-xml-customisation/">
<span class="md-ellipsis">
    E-Invoice XML Customisation
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Basics
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Basics
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../basics/scopes/">
<span class="md-ellipsis">
    Scopes
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basics/errors/">
<span class="md-ellipsis">
    Errors
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basics/limits-and-quotas/">
<span class="md-ellipsis">
    Limits adn Quotas
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
<span class="md-ellipsis">
    Additional capabilities
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_4">
<span class="md-nav__icon md-icon"></span>
            Additional capabilities
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../basics/additional-capabilities/sort-results/">
<span class="md-ellipsis">
    Sort Results
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basics/additional-capabilities/paginate-results/">
<span class="md-ellipsis">
    Paginate results
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basics/additional-capabilities/customize-response/">
<span class="md-ellipsis">
    Customize response
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basics/additional-capabilities/filter-results/">
<span class="md-ellipsis">
    Filter results
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basics/debug-your-integration/">
<span class="md-ellipsis">
    Debug your integration
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-ellipsis">
    Api Reference
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Api Reference
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/api-reference-co/">
<span class="md-ellipsis">
    Common api
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/api-reference-fi/">
<span class="md-ellipsis">
    Finance api
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/api-reference-mg/">
<span class="md-ellipsis">
    Warehouse api
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/api-reference/">
<span class="md-ellipsis">
    Use the API Reference
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-ellipsis">
    SDKs
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            SDKs
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../sdks/typescript-sdk/">
<span class="md-ellipsis">
    TypeScript SDK
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sdks/java-sdk/">
<span class="md-ellipsis">
    Java SDK
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sdks/javascript-sdk/">
<span class="md-ellipsis">
    JavaScript SDK
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sdks/net-sdk/">
<span class="md-ellipsis">
    .NET SDK
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sdks/python-sdk/">
<span class="md-ellipsis">
    Python SDK
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../sdks/ruby-sdk/">
<span class="md-ellipsis">
    Ruby SDK
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
<span class="md-ellipsis">
    Support &amp; Feature Request
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            Support &amp; Feature Request
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../support/faq/">
<span class="md-ellipsis">
    FAQs
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../support/general-knowledge/oauth2/index.md">
<span class="md-ellipsis">
    General Knowledge
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
<span class="md-ellipsis">
    Legal
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_9_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_9">
<span class="md-nav__icon md-icon"></span>
            Legal
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../legal/terms/">
<span class="md-ellipsis">
    Condizioni generali di utilizzo delle API MadBit
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../legal/policy-acceptable-use/">
<span class="md-ellipsis">
    Policy di Acceptable Use
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../legal/marketing-resources-and-identity-guidelines/">
<span class="md-ellipsis">
    Marketing Resources and Identity Guidelines
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#older_woman-old-or-new">
<span class="md-ellipsis">
      :older_woman:  Old or new?
    </span>
</a>
<nav aria-label=":older_woman:  Old or new?" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#star2-new-invoice-totals">
<span class="md-ellipsis">
      :star2:  New invoice totals
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scroll-existing-invoice-totals">
<span class="md-ellipsis">
      :scroll:  Existing invoice totals
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tophat-the-magic-field">
<span class="md-ellipsis">
      :tophat:  The magic field
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1>Invoice totals calculation</h1>
<p>import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";</p>
<p>If you are setting the payments list of your invoice you must know the <strong>total amount of your items list</strong>. Luckily for you, you don't have to take the calculator out of your drawer, we got you covered with a specific set of methods to suit your needs, so you won't be seeing the <em>Il totale dei pagamenti non corrisponde al totale da pagare</em> error anymore.</p>
<p>:::warning Beware of roundings!
If you use numbers with more than 2 decimal digits when specifying the amounts in the items list and payments list they will automatically be rounded to 2 digits before doing any calculation, so if you do not take this into consideration you probably will get the 'Il totale dei pagamenti non corrisponde al totale da pagare' error.
:::</p>
<p>:::tip Retrieve your Company ID!</p>
<p>In this example, we'll suppose you have to manage just one Company, so we simply inserted its ID directly in the code. If instead, you need to be able to manage multiple companies, you'll need to retrieve the ID of the current company in some way.
Check the <a href="/basics/company-scoped-methods.mdx">Company-scoped Methods</a> page for more info.</p>
<p>:::</p>
<p>:::info Are you using Zapier?</p>
<p><a href="/docs/quickstarts/zapier-quickstart.md">Zapier Actions</a> provide all the fields offered by the APIs, but it does not mean you need to compile all of them!</p>
<p>To follow this guide, you will be required to search the fields used in our example on the Zapier page and insert the related values.</p>
<p>The code of the fields will follow the JSON structure: for example, the "type" field is included in the "data" object, so the Zapier code will be "data.type". You can use the <em>CRTL + F</em> command to search the field's code faster :wink:</p>
<p>In this example, we'll insert the values directly, but please remember that Zapier was built to let you select the workflow's previous steps' outputs as input in the Action, for example selecting the values returned by a trigger!</p>
<p>:::</p>
<h2 id="older_woman-old-or-new">:older_woman:  Old or new?</h2>
<p>We got methods for all the cases you would possibly think of, either you are creating a new invoice or editing an old one we have a specific call.</p>
<p>The two methods are:</p>
<ul>
<li><a href="/api-reference#post-/c/-company_id-/issued_documents/totals">Get New Issued Document Totals</a></li>
<li><a href="/api-reference#post-/c/-company_id-/issued_documents/-document_id-/totals">Get Existing Issued Document Totals</a></li>
</ul>
<p>:::info Look out!</p>
<p>Invoking these methods will <strong>not</strong> create or edit your invoice, it will only show you a preview of the totals. You still need to use the appropriate methods to apply the modifications.</p>
<p>:::</p>
<h3 id="star2-new-invoice-totals">:star2:  New invoice totals</h3>
<p>You can invoke the <a href="/api-reference#post-/c/-company_id-/issued_documents/totals">Get New Issued Document Totals</a> method if you are creating a new invoice and want to know the totals after you added the items list to your invoice body: the response will contain all the info you need to finalize your invoice creation.</p>
<p>Here you can find an example request and response.</p>
<div class="highlight"><pre><span></span><code><span class="nf">POST</span> <span class="nn">/c/2/issued_document/totals</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">api-v2.fattureincloud.it</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">500</span>


<span class="p">{</span>
<span class="w">    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invoice"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"items_list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">"vat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prod1"</span><span class="p">,</span>
<span class="w">                </span><span class="nt">"net_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span>
<span class="w">                </span><span class="nt">"qty"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">"vat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prod2"</span><span class="p">,</span>
<span class="w">                </span><span class="nt">"net_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">39</span><span class="p">,</span>
<span class="w">                </span><span class="nt">"qty"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"amount_net"</span><span class="p">:</span><span class="w"> </span><span class="mi">74</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"amount_global_cassa_taxable"</span><span class="p">:</span><span class="w"> </span><span class="mi">74</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">74</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"vat_list"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"21"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">"amount_net"</span><span class="p">:</span><span class="w"> </span><span class="mi">74</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"amount_vat"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.54</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">"amount_vat"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.54</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"amount_gross"</span><span class="p">:</span><span class="w"> </span><span class="mf">89.54</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"amount_enasarco_taxable"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"amount_due"</span><span class="p">:</span><span class="w"> </span><span class="mf">89.54</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"amount_due_discount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"payments_sum"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>And here there are the examples to make this request with our SDKs:</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="nn">System</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">It.FattureInCloud.Sdk.Api</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">It.FattureInCloud.Sdk.Client</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">It.FattureInCloud.Sdk.Model</span><span class="p">;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">test</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="nc">Program</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Configuration</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Configuration</span><span class="p">();</span>

<span class="w">            </span><span class="c1">//set your access token</span>
<span class="w">            </span><span class="n">config</span><span class="p">.</span><span class="n">AccessToken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"YOUR_ACCESS_TOKEN"</span><span class="p">;</span>

<span class="w">            </span><span class="kt">var</span><span class="w"> </span><span class="n">apiInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocumentsApi</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
<span class="w">            </span><span class="c1">//set your company id</span>
<span class="w">            </span><span class="kt">var</span><span class="w"> </span><span class="n">companyId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">12345</span><span class="p">;</span>

<span class="w">            </span><span class="c1">//set your invoice info</span>
<span class="w">            </span><span class="n">IssuedDocument</span><span class="w"> </span><span class="n">invoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocument</span><span class="p">(</span>
<span class="w">                </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="n">IssuedDocumentType</span><span class="p">.</span><span class="n">Invoice</span><span class="p">,</span>
<span class="w">                </span><span class="n">entity</span><span class="p">:</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Entity</span><span class="p">(</span>
<span class="w">                    </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">"test"</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                    </span><span class="k">new</span><span class="w"> </span><span class="nf">IssuedDocumentItemsListItem</span><span class="p">(</span>
<span class="w">                        </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">"prod1"</span><span class="p">,</span>
<span class="w">                        </span><span class="n">netPrice</span><span class="p">:</span><span class="w"> </span><span class="m">35</span><span class="p">,</span>
<span class="w">                        </span><span class="n">qty</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span>
<span class="w">                        </span><span class="n">vat</span><span class="p">:</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">VatType</span><span class="p">(</span>
<span class="w">                            </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="m">0</span>
<span class="w">                        </span><span class="p">)</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="k">new</span><span class="w"> </span><span class="nf">IssuedDocumentItemsListItem</span><span class="p">(</span>
<span class="w">                        </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">"prod2"</span><span class="p">,</span>
<span class="w">                        </span><span class="n">netPrice</span><span class="p">:</span><span class="w"> </span><span class="m">39</span><span class="p">,</span>
<span class="w">                        </span><span class="n">qty</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span>
<span class="w">                        </span><span class="n">vat</span><span class="p">:</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">VatType</span><span class="p">(</span>
<span class="w">                            </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="m">0</span>
<span class="w">                        </span><span class="p">)</span>
<span class="w">                    </span><span class="p">)</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Here we put our invoice in the request object</span>
<span class="w">            </span><span class="n">GetNewIssuedDocumentTotalsRequest</span><span class="w"> </span><span class="n">getNewIssuedDocumentTotalsRequest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GetNewIssuedDocumentTotalsRequest</span><span class="p">(</span>
<span class="w">                </span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="n">invoice</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Now we are all set for the final call</span>
<span class="w">            </span><span class="c1">// Get new issued documents totals: https://github.com/fattureincloud/fattureincloud-csharp-sdk/blob/master/docs/IssuedDocumentsApi.md#getnewissueddocumenttotals</span>
<span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">GetNewIssuedDocumentTotalsResponse</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">apiInstance</span><span class="p">.</span><span class="n">GetNewIssuedDocumentTotals</span><span class="p">(</span><span class="n">companyId</span><span class="p">,</span><span class="w"> </span><span class="n">getNewIssuedDocumentTotalsRequest</span><span class="p">);</span>
<span class="w">                </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ApiException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">"Exception when calling IssuedDocumentsApi.GetNewIssuedDocumentTotals: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="w">                </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">"Status Code: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">ErrorCode</span><span class="p">);</span>
<span class="w">                </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">StackTrace</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1">// NOTE: this is a complete request, but please customize it!!!</span>
<span class="c1">// In the next step we'll explain how to perform the request to the API.</span>

<span class="c1">// in this example we are using our Go SDK</span>
<span class="c1">// https://github.com/fattureincloud/fattureincloud-go-sdk</span>
<span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="kn">import</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="s">"context"</span>
<span class="w">    </span><span class="s">"encoding/json"</span>
<span class="w">    </span><span class="s">"fmt"</span>
<span class="w">    </span><span class="s">"os"</span>

<span class="w">    </span><span class="nx">fattureincloudapi</span><span class="w"> </span><span class="s">"github.com/fattureincloud/fattureincloud-go-sdk/v2/api"</span>
<span class="w">    </span><span class="nx">fattureincloud</span><span class="w"> </span><span class="s">"github.com/fattureincloud/fattureincloud-go-sdk/v2/model"</span>
<span class="p">)</span>

<span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//set your access token</span>
<span class="w">    </span><span class="nx">auth</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">WithValue</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">Background</span><span class="p">(),</span><span class="w"> </span><span class="nx">fattureincloudapi</span><span class="p">.</span><span class="nx">ContextAccessToken</span><span class="p">,</span><span class="w"> </span><span class="s">"YOUR_ACCESS_TOKEN"</span><span class="p">)</span>
<span class="w">    </span><span class="nx">configuration</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fattureincloudapi</span><span class="p">.</span><span class="nx">NewConfiguration</span><span class="p">()</span>
<span class="w">    </span><span class="nx">apiClient</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fattureincloudapi</span><span class="p">.</span><span class="nx">NewAPIClient</span><span class="p">(</span><span class="nx">configuration</span><span class="p">)</span>

<span class="w">    </span><span class="c1">//set your company id</span>
<span class="w">    </span><span class="nx">companyId</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">int32</span><span class="p">(</span><span class="mi">12345</span><span class="p">)</span>

<span class="w">    </span><span class="c1">//set your invoice info</span>
<span class="w">    </span><span class="nx">invoice</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewIssuedDocument</span><span class="p">().</span>
<span class="w">        </span><span class="nx">SetEntity</span><span class="p">(</span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewEntity</span><span class="p">().</span>
<span class="w">            </span><span class="nx">SetId</span><span class="p">(</span><span class="mi">1</span><span class="p">)).</span>
<span class="w">        </span><span class="nx">SetType</span><span class="p">(</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">IssuedDocumentTypes</span><span class="p">.</span><span class="nx">INVOICE</span><span class="p">).</span>
<span class="w">        </span><span class="nx">SetItemsList</span><span class="p">([]</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">IssuedDocumentItemsListItem</span><span class="p">{</span>
<span class="w">            </span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewIssuedDocumentItemsListItem</span><span class="p">().</span>
<span class="w">                </span><span class="nx">SetName</span><span class="p">(</span><span class="s">"prod1"</span><span class="p">).</span>
<span class="w">                </span><span class="nx">SetNetPrice</span><span class="p">(</span><span class="mi">35</span><span class="p">).</span>
<span class="w">                </span><span class="nx">SetQty</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span>
<span class="w">                </span><span class="nx">SetVat</span><span class="p">(</span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewVatType</span><span class="p">().</span><span class="nx">SetId</span><span class="p">(</span><span class="mi">0</span><span class="p">)),</span>
<span class="w">            </span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewIssuedDocumentItemsListItem</span><span class="p">().</span>
<span class="w">                </span><span class="nx">SetName</span><span class="p">(</span><span class="s">"prod2"</span><span class="p">).</span>
<span class="w">                </span><span class="nx">SetNetPrice</span><span class="p">(</span><span class="mi">39</span><span class="p">).</span>
<span class="w">                </span><span class="nx">SetQty</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span>
<span class="w">                </span><span class="nx">SetVat</span><span class="p">(</span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewVatType</span><span class="p">().</span><span class="nx">SetId</span><span class="p">(</span><span class="mi">0</span><span class="p">)),</span>
<span class="w">        </span><span class="p">})</span>

<span class="w">    </span><span class="c1">// Here we put our invoice in the request object</span>
<span class="w">    </span><span class="nx">getNewIssuedDocumentTotalsRequest</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewGetNewIssuedDocumentTotalsRequest</span><span class="p">().</span><span class="nx">SetData</span><span class="p">(</span><span class="nx">invoice</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// Now we are all set for the final call</span>
<span class="w">    </span><span class="c1">// Create the invoice: https://github.com/fattureincloud/fattureincloud-go-sdk/blob/master/docs/IssuedDocumentsApi.md#getnewissueddocumenttotals</span>
<span class="w">    </span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">apiClient</span><span class="p">.</span><span class="nx">IssuedDocumentsAPI</span><span class="p">.</span><span class="nx">GetNewIssuedDocumentTotals</span><span class="p">(</span><span class="nx">auth</span><span class="p">,</span><span class="w"> </span><span class="nx">companyId</span><span class="p">).</span><span class="nx">GetNewIssuedDocumentTotalsRequest</span><span class="p">(</span><span class="nx">getNewIssuedDocumentTotalsRequest</span><span class="p">).</span><span class="nx">Execute</span><span class="p">()</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Fprintf</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stderr</span><span class="p">,</span><span class="w"> </span><span class="s">"Error when calling `IssuedDocumentsApi.GetNewIssuedDocumentTotals``: %v\n"</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
<span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Fprintf</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stderr</span><span class="p">,</span><span class="w"> </span><span class="s">"Full HTTP response: %v\n"</span><span class="p">,</span><span class="w"> </span><span class="nx">r</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">json</span><span class="p">.</span><span class="nx">NewEncoder</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stdout</span><span class="p">).</span><span class="nx">Encode</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>

<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.ApiClient</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.ApiException</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.Configuration</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.auth.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.model.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.api.IssuedDocumentsApi</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Example</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ApiClient</span><span class="w"> </span><span class="n">defaultClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Configuration</span><span class="p">.</span><span class="na">getDefaultApiClient</span><span class="p">();</span>

<span class="w">        </span><span class="c1">//set your access token</span>
<span class="w">        </span><span class="n">OAuth</span><span class="w"> </span><span class="n">OAuth2AuthenticationCodeFlow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">OAuth</span><span class="p">)</span><span class="w"> </span><span class="n">defaultClient</span><span class="p">.</span><span class="na">getAuthentication</span><span class="p">(</span><span class="s">"OAuth2AuthenticationCodeFlow"</span><span class="p">);</span>
<span class="w">        </span><span class="n">OAuth2AuthenticationCodeFlow</span><span class="p">.</span><span class="na">setAccessToken</span><span class="p">(</span><span class="s">"YOUR ACCESS TOKEN"</span><span class="p">);</span>

<span class="w">        </span><span class="n">IssuedDocumentsApi</span><span class="w"> </span><span class="n">apiInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocumentsApi</span><span class="p">(</span><span class="n">defaultClient</span><span class="p">);</span>
<span class="w">        </span><span class="c1">//set your company id</span>
<span class="w">        </span><span class="n">Integer</span><span class="w"> </span><span class="n">companyId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12345</span><span class="p">;</span>

<span class="w">        </span><span class="c1">//set your invoice info</span>
<span class="w">        </span><span class="n">IssuedDocument</span><span class="w"> </span><span class="n">invoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocument</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">type</span><span class="p">(</span><span class="n">IssuedDocumentType</span><span class="p">.</span><span class="na">INVOICE</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">entity</span><span class="p">(</span>
<span class="w">                    </span><span class="k">new</span><span class="w"> </span><span class="n">Entity</span><span class="p">()</span>
<span class="w">                        </span><span class="p">.</span><span class="na">name</span><span class="p">(</span><span class="s">"test"</span><span class="p">)</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">addItemsListItem</span><span class="p">(</span>
<span class="w">                    </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocumentItemsListItem</span><span class="p">()</span>
<span class="w">                            </span><span class="p">.</span><span class="na">name</span><span class="p">(</span><span class="s">"prod1"</span><span class="p">)</span>
<span class="w">                            </span><span class="p">.</span><span class="na">netPrice</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="mi">35</span><span class="p">))</span>
<span class="w">                            </span><span class="p">.</span><span class="na">qty</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="w">                            </span><span class="p">.</span><span class="na">vat</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">VatType</span><span class="p">().</span><span class="na">id</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">addItemsListItem</span><span class="p">(</span>
<span class="w">                    </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocumentItemsListItem</span><span class="p">()</span>
<span class="w">                            </span><span class="p">.</span><span class="na">name</span><span class="p">(</span><span class="s">"prod2"</span><span class="p">)</span>
<span class="w">                            </span><span class="p">.</span><span class="na">netPrice</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="mi">39</span><span class="p">))</span>
<span class="w">                            </span><span class="p">.</span><span class="na">qty</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="w">                            </span><span class="p">.</span><span class="na">vat</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">VatType</span><span class="p">().</span><span class="na">id</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="w">                </span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Here we put our invoice in the request object</span>
<span class="w">        </span><span class="n">GetNewIssuedDocumentTotalsRequest</span><span class="w"> </span><span class="n">getNewIssuedDocumentTotalsRequest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GetNewIssuedDocumentTotalsRequest</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">data</span><span class="p">(</span><span class="n">invoice</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Now we are all set for the final call</span>
<span class="w">        </span><span class="c1">// Get new issued document totals: https://github.com/fattureincloud/fattureincloud-java-sdk/blob/master/docs/IssuedDocumentsApi.md#getNewIssuedDocumentTotals</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">GetNewIssuedDocumentTotalsResponse</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">apiInstance</span><span class="p">.</span><span class="na">getNewIssuedDocumentTotals</span><span class="p">(</span><span class="n">companyId</span><span class="p">,</span><span class="w"> </span><span class="n">getNewIssuedDocumentTotalsRequest</span><span class="p">);</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ApiException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Exception when calling IssuedDocumentsApi#getNewIssuedDocumentTotals"</span><span class="p">);</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Status code: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getCode</span><span class="p">());</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Reason: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getResponseBody</span><span class="p">());</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Response headers: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getResponseHeaders</span><span class="p">());</span>
<span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="nx">fattureInCloudSdk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">"@fattureincloud/fattureincloud-js-sdk"</span><span class="p">);</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">defaultClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fattureInCloudSdk</span><span class="p">.</span><span class="nx">ApiClient</span><span class="p">.</span><span class="nx">instance</span><span class="p">;</span>

<span class="c1">//set your access token</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">OAuth2AuthenticationCodeFlow</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="nx">defaultClient</span><span class="p">.</span><span class="nx">authentications</span><span class="p">[</span><span class="s2">"OAuth2AuthenticationCodeFlow"</span><span class="p">];</span>
<span class="nx">OAuth2AuthenticationCodeFlow</span><span class="p">.</span><span class="nx">accessToken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"YOUR_ACCESS_TOKEN"</span><span class="p">;</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">apiInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">fattureInCloudSdk</span><span class="p">.</span><span class="nx">IssuedDocumentsApi</span><span class="p">();</span>
<span class="c1">//set your company id</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">companyId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">12345</span><span class="p">;</span>

<span class="c1">//set your invoice info</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">invoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">fattureInCloudSdk</span><span class="p">.</span><span class="nx">IssuedDocument</span><span class="p">();</span>
<span class="nx">invoice</span><span class="p">.</span><span class="nx">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">fattureInCloudSdk</span><span class="p">.</span><span class="nx">IssuedDocumentType</span><span class="p">().</span><span class="nx">invoice</span><span class="p">;</span>
<span class="nx">invoice</span><span class="p">.</span><span class="nx">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span>
<span class="p">};</span>
<span class="nx">invoice</span><span class="p">.</span><span class="nx">items_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"prod1"</span><span class="p">,</span>
<span class="w">    </span><span class="nx">net_price</span><span class="o">:</span><span class="w"> </span><span class="mf">35</span><span class="p">,</span>
<span class="w">    </span><span class="nx">qty</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
<span class="w">    </span><span class="nx">vat</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"prod2"</span><span class="p">,</span>
<span class="w">    </span><span class="nx">net_price</span><span class="o">:</span><span class="w"> </span><span class="mf">39</span><span class="p">,</span>
<span class="w">    </span><span class="nx">qty</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
<span class="w">    </span><span class="nx">vat</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">];</span>

<span class="c1">// Here we put our invoice in the request object</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">getNewIssuedDocumentTotalsRequest</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="ow">new</span><span class="w"> </span><span class="nx">fattureInCloudSdk</span><span class="p">.</span><span class="nx">GetNewIssuedDocumentTotalsRequest</span><span class="p">();</span>
<span class="nx">getNewIssuedDocumentTotalsRequest</span><span class="p">.</span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">invoice</span><span class="p">;</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">opts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">getNewIssuedDocumentTotalsRequest</span><span class="o">:</span><span class="w"> </span><span class="nx">getNewIssuedDocumentTotalsRequest</span><span class="p">,</span>
<span class="p">};</span>

<span class="c1">// Now we are all set for the final call</span>
<span class="c1">// Get new issued document totals: https://github.com/fattureincloud/fattureincloud-js-sdk/blob/master/docs/IssuedDocumentsApi.md#getNewIssuedDocumentTotals</span>
<span class="nx">apiInstance</span><span class="p">.</span><span class="nx">getNewIssuedDocumentTotals</span><span class="p">(</span><span class="nx">companyId</span><span class="p">,</span><span class="w"> </span><span class="nx">opts</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span>
<span class="w">  </span><span class="p">(</span><span class="nx">result</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="w">      </span><span class="s2">"API called successfully. Returned result: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">FattureInCloud\Model\Entity</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">FattureInCloud\Model\IssuedDocument</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">FattureInCloud\Model\IssuedDocumentItemsList</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">FattureInCloud\Model\IssuedDocumentType</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">FattureInCloud\Model\VatType</span><span class="p">;</span>

<span class="k">require_once</span><span class="p">(</span><span class="no">__DIR__</span> <span class="o">.</span> <span class="s1">'/vendor/autoload.php'</span><span class="p">);</span>

<span class="c1">//set your access token</span>
<span class="nv">$config</span> <span class="o">=</span> <span class="nx">FattureInCloud\Configuration</span><span class="o">::</span><span class="na">getDefaultConfiguration</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setAccessToken</span><span class="p">(</span><span class="s1">'YOUR_ACCESS_TOKEN'</span><span class="p">);</span>

<span class="nv">$apiInstance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FattureInCloud\Api\IssuedDocumentsApi</span><span class="p">(</span>
    <span class="k">new</span> <span class="nx">GuzzleHttp\Client</span><span class="p">(),</span>
    <span class="nv">$config</span>
<span class="p">);</span>

<span class="c1">//set your company id</span>
<span class="nv">$company_id</span> <span class="o">=</span> <span class="mi">12345</span><span class="p">;</span>

<span class="c1">//set your invoice info</span>
<span class="nv">$invoice</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">IssuedDocument</span><span class="p">;</span>
<span class="nv">$invoice</span><span class="o">-&gt;</span><span class="na">setType</span><span class="p">(</span><span class="nx">IssuedDocumentType</span><span class="o">::</span><span class="na">INVOICE</span><span class="p">);</span>

<span class="nv">$entity</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">;</span>
<span class="nv">$entity</span><span class="o">-&gt;</span><span class="na">setName</span><span class="p">(</span><span class="s2">"test"</span><span class="p">);</span>

<span class="nv">$invoice</span><span class="o">-&gt;</span><span class="na">setEntity</span><span class="p">(</span><span class="nv">$entity</span><span class="p">);</span>
<span class="nv">$invoice</span><span class="o">-&gt;</span><span class="na">setItemsList</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="k">new</span> <span class="nx">IssuedDocumentItemsListItem</span><span class="p">(</span>
            <span class="k">array</span><span class="p">(</span>
                <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"prod1"</span><span class="p">,</span>
                <span class="s2">"net_price"</span> <span class="o">=&gt;</span> <span class="mi">35</span><span class="p">,</span>
                <span class="s2">"qty"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">"vat"</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">VatType</span><span class="p">(</span>
                    <span class="k">array</span><span class="p">(</span>
                        <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">0</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="p">),</span>
        <span class="k">new</span> <span class="nx">IssuedDocumentItemsListItem</span><span class="p">(</span>
            <span class="k">array</span><span class="p">(</span>
                <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"prod2"</span><span class="p">,</span>
                <span class="s2">"net_price"</span> <span class="o">=&gt;</span> <span class="mi">39</span><span class="p">,</span>
                <span class="s2">"qty"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">"vat"</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">VatType</span><span class="p">(</span>
                    <span class="k">array</span><span class="p">(</span>
                        <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">0</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="c1">// Here we put our invoice in the request object</span>
<span class="nv">$get_new_issued_document_totals_request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GetNewIssuedDocumentTotalsRequest</span><span class="p">;</span>
<span class="nv">$get_new_issued_document_totals_request</span><span class="o">-&gt;</span><span class="na">setData</span><span class="p">(</span><span class="nv">$invoice</span><span class="p">);</span>

<span class="c1">// Now we are all set for the final call</span>
<span class="c1">// Get new issued document totals: https://github.com/fattureincloud/fattureincloud-php-sdk/blob/master/docs/Api/IssuedDocumentsApi.md#getNewIssuedDocumentTotals</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="na">getNewIssuedDocumentTotals</span><span class="p">(</span><span class="nv">$company_id</span><span class="p">,</span> <span class="nv">$get_new_issued_document_totals_request</span><span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Exception when calling IssuedDocumentsApi-&gt;getNewIssuedDocumentTotals: '</span><span class="p">,</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">(),</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">fattureincloud_python_sdk</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.api</span> <span class="kn">import</span> <span class="n">issued_documents_api</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.models.vat_type</span> <span class="kn">import</span> <span class="n">VatType</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.models.entity</span> <span class="kn">import</span> <span class="n">Entity</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.models.issued_document</span> <span class="kn">import</span> <span class="n">IssuedDocument</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.models.issued_document_type</span> <span class="kn">import</span> <span class="n">IssuedDocumentType</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.models.get_new_issued_document_totals_request</span> <span class="kn">import</span> <span class="n">GetNewIssuedDocumentTotalsRequest</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.models.get_new_issued_document_totals_response</span> <span class="kn">import</span> <span class="n">GetNewIssuedDocumentTotalsResponse</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.models.issued_document_items_list_item</span> <span class="kn">import</span> <span class="n">IssuedDocumentItemsListItem</span>

<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>

<span class="c1"># set your access token</span>
<span class="n">configuration</span> <span class="o">=</span> <span class="n">fattureincloud_python_sdk</span><span class="o">.</span><span class="n">Configuration</span><span class="p">()</span>
<span class="n">configuration</span><span class="o">.</span><span class="n">access_token</span> <span class="o">=</span> <span class="s2">"YOUR_ACCESS_TOKEN"</span>

<span class="c1"># set your company id</span>
<span class="n">company_id</span> <span class="o">=</span> <span class="mi">12345</span>

<span class="c1"># set your invoice info</span>
<span class="n">invoice</span> <span class="o">=</span> <span class="n">IssuedDocument</span><span class="p">(</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="n">IssuedDocumentType</span><span class="p">(</span><span class="s2">"invoice"</span><span class="p">),</span>
    <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">"test"</span>
    <span class="p">),</span>
    <span class="n">items_list</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">IssuedDocumentItemsListItem</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">"prod1"</span><span class="p">,</span>
            <span class="n">net_price</span><span class="o">=</span><span class="mf">35.0</span><span class="p">,</span>
            <span class="n">qty</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
            <span class="n">vat</span><span class="o">=</span><span class="n">VatType</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="mi">0</span>
            <span class="p">)</span>
        <span class="p">),</span>
        <span class="n">IssuedDocumentItemsListItem</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">"prod2"</span><span class="p">,</span>
            <span class="n">net_price</span><span class="o">=</span><span class="mf">39.0</span><span class="p">,</span>
            <span class="n">qty</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
            <span class="n">vat</span><span class="o">=</span><span class="n">VatType</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="mi">0</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">]</span>
<span class="p">)</span>

<span class="c1"># Here we put our invoice in the request object</span>
<span class="n">get_new_issued_document_totals_request</span> <span class="o">=</span> <span class="n">GetNewIssuedDocumentTotalsRequest</span><span class="p">(</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">invoice</span>
<span class="p">)</span>

<span class="c1"># Now we are all set for the final call</span>
<span class="c1"># Get new issued document totals: https://github.com/fattureincloud/fattureincloud-python-sdk/blob/master/docs/IssuedDocumentsApi.md#get_new_issued_document_totals</span>
<span class="k">with</span> <span class="n">fattureincloud_python_sdk</span><span class="o">.</span><span class="n">ApiClient</span><span class="p">(</span><span class="n">configuration</span><span class="p">)</span> <span class="k">as</span> <span class="n">api_client</span><span class="p">:</span>

    <span class="n">api_instance</span> <span class="o">=</span> <span class="n">issued_documents_api</span><span class="o">.</span><span class="n">IssuedDocumentsApi</span><span class="p">(</span><span class="n">api_client</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">api_response</span> <span class="o">=</span> <span class="n">api_instance</span><span class="o">.</span><span class="n">get_new_issued_document_totals</span><span class="p">(</span><span class="n">company_id</span><span class="p">,</span> <span class="n">get_new_issued_document_totals_request</span><span class="o">=</span><span class="n">get_new_issued_document_totals_request</span><span class="p">)</span>
        <span class="n">pprint</span><span class="p">(</span><span class="n">api_response</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">fattureincloud_python_sdk</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Exception when calling IssuedDocumentsApi-&gt;get_new_issued_document_totals: </span><span class="si">%s</span><span class="se">\n</span><span class="s2">"</span> <span class="o">%</span> <span class="n">e</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">require</span><span class="w"> </span><span class="s1">'time'</span>
<span class="nb">require</span><span class="w"> </span><span class="s1">'fattureincloud_ruby_sdk'</span>

<span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">.</span><span class="n">configure</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="o">|</span><span class="n">config</span><span class="o">|</span>
<span class="w">  </span><span class="c1"># set your access token</span>
<span class="w">  </span><span class="n">config</span><span class="o">.</span><span class="n">access_token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'YOUR ACCESS TOKEN'</span>
<span class="k">end</span>

<span class="n">api_instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">IssuedDocumentsApi</span><span class="o">.</span><span class="n">new</span>
<span class="c1"># set your company id</span>
<span class="n">company_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12345</span>

<span class="c1"># set your invoice info</span>
<span class="n">invoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">IssuedDocument</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
<span class="w">    </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">IssuedDocumentType</span><span class="o">::</span><span class="no">INVOICE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">entity</span><span class="p">:</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">Entity</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
<span class="w">        </span><span class="nb">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">    </span><span class="ss">items_list</span><span class="p">:</span><span class="w"> </span><span class="nb">Array</span><span class="p">(</span>
<span class="w">        </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">IssuedDocumentItemsListItem</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
<span class="w">            </span><span class="nb">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"prod1"</span><span class="p">,</span>
<span class="w">            </span><span class="ss">net_price</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span>
<span class="w">            </span><span class="ss">qty</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="ss">vat</span><span class="p">:</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">VatType</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
<span class="w">                </span><span class="nb">id</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">IssuedDocumentItemsListItem</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
<span class="w">            </span><span class="nb">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"prod2"</span><span class="p">,</span>
<span class="w">            </span><span class="ss">net_price</span><span class="p">:</span><span class="w"> </span><span class="mi">39</span><span class="p">,</span>
<span class="w">            </span><span class="ss">qty</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="ss">vat</span><span class="p">:</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">VatType</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
<span class="w">                </span><span class="nb">id</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Here we put our invoice in the request object</span>
<span class="n">opts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="ss">get_new_issued_document_totals_request</span><span class="p">:</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">GetNewIssuedDocumentTotalsRequest</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">data</span><span class="p">:</span><span class="w"> </span><span class="n">invoice</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1"># Now we are all set for the final call</span>
<span class="c1"># Get new issued document totals: https://github.com/fattureincloud/fattureincloud-ruby-sdk/blob/master/docs/IssuedDocumentsApi.md#https://github.com/fattureincloud/fattureincloud-ruby-sdk/blob/master/docs/IssuedDocumentsApi.md#get_new_issued_document_totals</span>
<span class="k">begin</span>
<span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">api_instance</span><span class="o">.</span><span class="n">get_new_issued_document_totals</span><span class="p">(</span><span class="n">company_id</span><span class="p">,</span><span class="w"> </span><span class="n">opts</span><span class="p">)</span>
<span class="w">  </span><span class="nb">p</span><span class="w"> </span><span class="n">result</span>
<span class="k">rescue</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">ApiError</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">e</span>
<span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">"Error when calling IssuedDocumentsApi-&gt;get_new_issued_document_totals: </span><span class="si">#{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">Configuration</span><span class="p">,</span>
<span class="w">  </span><span class="nx">IssuedDocumentsApi</span><span class="p">,</span>
<span class="w">  </span><span class="nx">IssuedDocument</span><span class="p">,</span>
<span class="w">  </span><span class="nx">IssuedDocumentType</span><span class="p">,</span>
<span class="w">  </span><span class="nx">GetNewIssuedDocumentTotalsRequest</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">"@fattureincloud/fattureincloud-ts-sdk"</span><span class="p">;</span>

<span class="c1">//set your access token</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">apiConfig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Configuration</span><span class="p">({</span>
<span class="w">  </span><span class="nx">accessToken</span><span class="o">:</span><span class="w"> </span><span class="s2">"YOUR ACCESS TOKEN"</span><span class="p">,</span>
<span class="p">});</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">apiInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">IssuedDocumentsApi</span><span class="p">(</span><span class="nx">apiConfig</span><span class="p">);</span>

<span class="c1">//set your company id</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">companyId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">12345</span><span class="p">;</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">invoice</span><span class="o">:</span><span class="w"> </span><span class="kt">IssuedDocument</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="nx">IssuedDocumentType</span><span class="p">.</span><span class="nx">Invoice</span><span class="p">,</span>
<span class="w">  </span><span class="nx">entity</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nx">items_list</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"prod1"</span><span class="p">,</span>
<span class="w">      </span><span class="nx">net_price</span><span class="o">:</span><span class="w"> </span><span class="kt">35</span><span class="p">,</span>
<span class="w">      </span><span class="nx">qty</span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="p">,</span>
<span class="w">      </span><span class="nx">vat</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"prod2"</span><span class="p">,</span>
<span class="w">      </span><span class="nx">net_price</span><span class="o">:</span><span class="w"> </span><span class="kt">39</span><span class="p">,</span>
<span class="w">      </span><span class="nx">qty</span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="p">,</span>
<span class="w">      </span><span class="nx">vat</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">],</span>
<span class="p">};</span>

<span class="c1">// Here we put our invoice in the request object</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">getNewIssuedDocumentTotalsRequest</span><span class="o">:</span><span class="w"> </span><span class="kt">GetNewIssuedDocumentTotalsRequest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">invoice</span><span class="p">,</span>
<span class="p">};</span>

<span class="c1">// Now we are all set for the final call</span>
<span class="c1">// Get new issued document totals: https://github.com/fattureincloud/fattureincloud-ts-sdk/blob/master/docs/IssuedDocumentsApi.md#getNewIssuedDocumentTotals</span>
<span class="nx">apiInstance</span>
<span class="w">  </span><span class="p">.</span><span class="nx">getNewIssuedDocumentTotals</span><span class="p">(</span><span class="nx">companyId</span><span class="p">,</span><span class="w"> </span><span class="nx">getNewIssuedDocumentTotalsRequest</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span>
<span class="w">    </span><span class="p">(</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div>
<p>The Zapier Action you need is called <strong>Get New Issued Document Totals</strong>.
After you select the action and log in, you need to select your Company ID. Luckily, our Actions let you select it from a simple dropdown menu.</p>
<p><img alt="Zapier - Company ID Selection" src="../assets/company-id-selection.png"/></p>
<p>Next, you must insert a request similar to the one we need for the <em>Create Issued Document</em> request. We suggest you check the <a href="/docs/guides/invoice-creation.mdx">Invoice Creation</a> Guide for more info.</p>
<p>You can then use the resulting totals of this request in the creation request.</p>
<h3 id="scroll-existing-invoice-totals">:scroll:  Existing invoice totals</h3>
<p>If you want to edit an existing invoice instead, for example, to add a new item, you can get the updated totals invoking the <a href="/api-reference#post-/c/-company_id-/issued_documents/-document_id-/totals">Get Existing Issued Document Totals</a> method and passing the updated fields in the request body.</p>
<p>In the following example, we want to a third item to an existing invoice and we want to know what will be the resulting updated totals before making the <a href="/api-reference#put-/c/-company_id-/issued_documents/-document_id-">modify issued document</a> call, using the previously described method:</p>
<div class="highlight"><pre><span></span><code><span class="nf">POST</span> <span class="nn">/c/2/issued_document/12345/totals</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">api-v2.fattureincloud.it</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">500</span>


<span class="p">{</span>
<span class="w">    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">"items_list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">"vat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prod1"</span><span class="p">,</span>
<span class="w">                </span><span class="nt">"net_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span>
<span class="w">                </span><span class="nt">"qty"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">"vat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prod2"</span><span class="p">,</span>
<span class="w">                </span><span class="nt">"net_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">39</span><span class="p">,</span>
<span class="w">                </span><span class="nt">"qty"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">"vat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prod3"</span><span class="p">,</span>
<span class="w">                </span><span class="nt">"net_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">48</span><span class="p">,</span>
<span class="w">                </span><span class="nt">"qty"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"amount_net"</span><span class="p">:</span><span class="w"> </span><span class="mi">122</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"amount_global_cassa_taxable"</span><span class="p">:</span><span class="w"> </span><span class="mi">122</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">122</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"vat_list"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"21"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">"amount_net"</span><span class="p">:</span><span class="w"> </span><span class="mi">122</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"amount_vat"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.62</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">"amount_vat"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.62</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"amount_gross"</span><span class="p">:</span><span class="w"> </span><span class="mf">147.62</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"amount_enasarco_taxable"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"amount_due"</span><span class="p">:</span><span class="w"> </span><span class="mf">147.62</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"amount_due_discount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"payments_sum"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>And here there are the examples to make this request with our SDKs:</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="nn">System</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">It.FattureInCloud.Sdk.Api</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">It.FattureInCloud.Sdk.Client</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">It.FattureInCloud.Sdk.Model</span><span class="p">;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">test</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="nc">Program</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Configuration</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Configuration</span><span class="p">();</span>

<span class="w">            </span><span class="c1">//set your access token</span>
<span class="w">            </span><span class="n">config</span><span class="p">.</span><span class="n">AccessToken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"YOUR_ACCESS_TOKEN"</span><span class="p">;</span>

<span class="w">            </span><span class="kt">var</span><span class="w"> </span><span class="n">apiInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocumentsApi</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>

<span class="w">            </span><span class="c1">//set your company id</span>
<span class="w">            </span><span class="kt">var</span><span class="w"> </span><span class="n">companyId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">12345</span><span class="p">;</span>

<span class="w">            </span><span class="c1">//set your existing invoice id</span>
<span class="w">            </span><span class="kt">var</span><span class="w"> </span><span class="n">invoiceId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">54321</span><span class="p">;</span>

<span class="w">            </span><span class="c1">//set your invoice info</span>
<span class="w">            </span><span class="n">IssuedDocument</span><span class="w"> </span><span class="n">invoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocument</span><span class="p">(</span>
<span class="w">                    </span><span class="k">new</span><span class="w"> </span><span class="nf">IssuedDocumentItemsListItem</span><span class="p">(</span>
<span class="w">                        </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">"prod1"</span><span class="p">,</span>
<span class="w">                        </span><span class="n">netPrice</span><span class="p">:</span><span class="w"> </span><span class="m">35</span><span class="p">,</span>
<span class="w">                        </span><span class="n">qty</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span>
<span class="w">                        </span><span class="n">vat</span><span class="p">:</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">VatType</span><span class="p">(</span>
<span class="w">                            </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="m">0</span>
<span class="w">                        </span><span class="p">)</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="k">new</span><span class="w"> </span><span class="nf">IssuedDocumentItemsListItem</span><span class="p">(</span>
<span class="w">                        </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">"prod2"</span><span class="p">,</span>
<span class="w">                        </span><span class="n">netPrice</span><span class="p">:</span><span class="w"> </span><span class="m">39</span><span class="p">,</span>
<span class="w">                        </span><span class="n">qty</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span>
<span class="w">                        </span><span class="n">vat</span><span class="p">:</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">VatType</span><span class="p">(</span>
<span class="w">                            </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="m">0</span>
<span class="w">                        </span><span class="p">)</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="k">new</span><span class="w"> </span><span class="nf">IssuedDocumentItemsListItem</span><span class="p">(</span>
<span class="w">                        </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">"prod3"</span><span class="p">,</span>
<span class="w">                        </span><span class="n">netPrice</span><span class="p">:</span><span class="w"> </span><span class="m">48</span><span class="p">,</span>
<span class="w">                        </span><span class="n">qty</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span>
<span class="w">                        </span><span class="n">vat</span><span class="p">:</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">VatType</span><span class="p">(</span>
<span class="w">                            </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="m">0</span>
<span class="w">                        </span><span class="p">)</span>
<span class="w">                    </span><span class="p">)</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Here we put our invoice in the request object</span>
<span class="w">            </span><span class="n">GetExistingIssuedDocumentTotalsRequest</span><span class="w"> </span><span class="n">getExistingIssuedDocumentTotalsRequest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GetExistingIssuedDocumentTotalsRequest</span><span class="p">(</span>
<span class="w">                </span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="n">invoice</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Now we are all set for the final call</span>
<span class="w">            </span><span class="c1">// Get existing issued documents totals: https://github.com/fattureincloud/fattureincloud-csharp-sdk/blob/master/docs/IssuedDocumentsApi.md#getexistingissueddocumenttotals</span>
<span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">GetExistingIssuedDocumentTotalsResponse</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">apiInstance</span><span class="p">.</span><span class="n">GetExistingIssuedDocumentTotals</span><span class="p">(</span><span class="n">companyId</span><span class="p">,</span><span class="w"> </span><span class="n">invoiceId</span><span class="p">,</span><span class="w"> </span><span class="n">getExistingIssuedDocumentTotalsRequest</span><span class="p">);</span>
<span class="w">                </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ApiException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">"Exception when calling IssuedDocumentsApi.GetExistingIssuedDocumentTotals: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="w">                </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">"Status Code: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">ErrorCode</span><span class="p">);</span>
<span class="w">                </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">StackTrace</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1">// NOTE: this is a complete request, but please customize it!!!</span>
<span class="c1">// In the next step we'll explain how to perform the request to the API.</span>

<span class="c1">// in this example we are using our Go SDK</span>
<span class="c1">// https://github.com/fattureincloud/fattureincloud-go-sdk</span>
<span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="kn">import</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="s">"context"</span>
<span class="w">    </span><span class="s">"encoding/json"</span>
<span class="w">    </span><span class="s">"fmt"</span>
<span class="w">    </span><span class="s">"os"</span>

<span class="w">    </span><span class="nx">fattureincloudapi</span><span class="w"> </span><span class="s">"github.com/fattureincloud/fattureincloud-go-sdk/v2/api"</span>
<span class="w">    </span><span class="nx">fattureincloud</span><span class="w"> </span><span class="s">"github.com/fattureincloud/fattureincloud-go-sdk/v2/model"</span>
<span class="p">)</span>

<span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//set your access token</span>
<span class="w">    </span><span class="nx">auth</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">WithValue</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">Background</span><span class="p">(),</span><span class="w"> </span><span class="nx">fattureincloudapi</span><span class="p">.</span><span class="nx">ContextAccessToken</span><span class="p">,</span><span class="w"> </span><span class="s">"YOUR_ACCESS_TOKEN"</span><span class="p">)</span>
<span class="w">    </span><span class="nx">configuration</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fattureincloudapi</span><span class="p">.</span><span class="nx">NewConfiguration</span><span class="p">()</span>
<span class="w">    </span><span class="nx">apiClient</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fattureincloudapi</span><span class="p">.</span><span class="nx">NewAPIClient</span><span class="p">(</span><span class="nx">configuration</span><span class="p">)</span>

<span class="w">    </span><span class="c1">//set your company id</span>
<span class="w">    </span><span class="nx">companyId</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">int32</span><span class="p">(</span><span class="mi">12345</span><span class="p">)</span>

<span class="w">    </span><span class="c1">//set your document id</span>
<span class="w">    </span><span class="nx">documentId</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">int32</span><span class="p">(</span><span class="mi">54321</span><span class="p">)</span>

<span class="w">    </span><span class="c1">//set your invoice info</span>
<span class="w">    </span><span class="nx">invoice</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewIssuedDocument</span><span class="p">().</span>
<span class="w">        </span><span class="nx">SetEntity</span><span class="p">(</span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewEntity</span><span class="p">().</span>
<span class="w">            </span><span class="nx">SetId</span><span class="p">(</span><span class="mi">1</span><span class="p">)).</span>
<span class="w">        </span><span class="nx">SetType</span><span class="p">(</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">IssuedDocumentTypes</span><span class="p">.</span><span class="nx">INVOICE</span><span class="p">).</span>
<span class="w">        </span><span class="nx">SetItemsList</span><span class="p">([]</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">IssuedDocumentItemsListItem</span><span class="p">{</span>
<span class="w">            </span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewIssuedDocumentItemsListItem</span><span class="p">().</span>
<span class="w">                </span><span class="nx">SetName</span><span class="p">(</span><span class="s">"prod1"</span><span class="p">).</span>
<span class="w">                </span><span class="nx">SetNetPrice</span><span class="p">(</span><span class="mi">35</span><span class="p">).</span>
<span class="w">                </span><span class="nx">SetQty</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span>
<span class="w">                </span><span class="nx">SetVat</span><span class="p">(</span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewVatType</span><span class="p">().</span><span class="nx">SetId</span><span class="p">(</span><span class="mi">0</span><span class="p">)),</span>
<span class="w">            </span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewIssuedDocumentItemsListItem</span><span class="p">().</span>
<span class="w">                </span><span class="nx">SetName</span><span class="p">(</span><span class="s">"prod2"</span><span class="p">).</span>
<span class="w">                </span><span class="nx">SetNetPrice</span><span class="p">(</span><span class="mi">39</span><span class="p">).</span>
<span class="w">                </span><span class="nx">SetQty</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span>
<span class="w">                </span><span class="nx">SetVat</span><span class="p">(</span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewVatType</span><span class="p">().</span><span class="nx">SetId</span><span class="p">(</span><span class="mi">0</span><span class="p">)),</span>
<span class="w">            </span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewIssuedDocumentItemsListItem</span><span class="p">().</span>
<span class="w">                </span><span class="nx">SetName</span><span class="p">(</span><span class="s">"prod3"</span><span class="p">).</span>
<span class="w">                </span><span class="nx">SetNetPrice</span><span class="p">(</span><span class="mi">48</span><span class="p">).</span>
<span class="w">                </span><span class="nx">SetQty</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span>
<span class="w">                </span><span class="nx">SetVat</span><span class="p">(</span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewVatType</span><span class="p">().</span><span class="nx">SetId</span><span class="p">(</span><span class="mi">0</span><span class="p">)),</span>
<span class="w">        </span><span class="p">})</span>

<span class="w">    </span><span class="c1">// Here we put our invoice in the request object</span>
<span class="w">    </span><span class="nx">getExistingIssuedDocumentTotalsRequest</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewGetExistingIssuedDocumentTotalsRequest</span><span class="p">().</span><span class="nx">SetData</span><span class="p">(</span><span class="nx">invoice</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// Now we are all set for the final call</span>
<span class="w">    </span><span class="c1">// Create the invoice: https://github.com/fattureincloud/fattureincloud-go-sdk/blob/master/docs/IssuedDocumentsApi.md#getexistingissueddocumenttotals</span>
<span class="w">    </span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">apiClient</span><span class="p">.</span><span class="nx">IssuedDocumentsAPI</span><span class="p">.</span><span class="nx">GetExistingIssuedDocumentTotals</span><span class="p">(</span><span class="nx">auth</span><span class="p">,</span><span class="w"> </span><span class="nx">companyId</span><span class="p">,</span><span class="w"> </span><span class="nx">documentId</span><span class="p">).</span><span class="nx">GetExistingIssuedDocumentTotalsRequest</span><span class="p">(</span><span class="nx">getExistingIssuedDocumentTotalsRequest</span><span class="p">).</span><span class="nx">Execute</span><span class="p">()</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Fprintf</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stderr</span><span class="p">,</span><span class="w"> </span><span class="s">"Error when calling `IssuedDocumentsApi.GetNewIssuedDocumentTotals``: %v\n"</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
<span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Fprintf</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stderr</span><span class="p">,</span><span class="w"> </span><span class="s">"Full HTTP response: %v\n"</span><span class="p">,</span><span class="w"> </span><span class="nx">r</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">json</span><span class="p">.</span><span class="nx">NewEncoder</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stdout</span><span class="p">).</span><span class="nx">Encode</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>

<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.ApiClient</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.ApiException</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.Configuration</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.auth.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.model.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.api.IssuedDocumentsApi</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Example</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ApiClient</span><span class="w"> </span><span class="n">defaultClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Configuration</span><span class="p">.</span><span class="na">getDefaultApiClient</span><span class="p">();</span>

<span class="w">        </span><span class="c1">//set your access token</span>
<span class="w">        </span><span class="n">OAuth</span><span class="w"> </span><span class="n">OAuth2AuthenticationCodeFlow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">OAuth</span><span class="p">)</span><span class="w"> </span><span class="n">defaultClient</span><span class="p">.</span><span class="na">getAuthentication</span><span class="p">(</span><span class="s">"OAuth2AuthenticationCodeFlow"</span><span class="p">);</span>
<span class="w">        </span><span class="n">OAuth2AuthenticationCodeFlow</span><span class="p">.</span><span class="na">setAccessToken</span><span class="p">(</span><span class="s">"YOUR ACCESS TOKEN"</span><span class="p">);</span>

<span class="w">        </span><span class="n">IssuedDocumentsApi</span><span class="w"> </span><span class="n">apiInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocumentsApi</span><span class="p">(</span><span class="n">defaultClient</span><span class="p">);</span>

<span class="w">        </span><span class="c1">//set your company id</span>
<span class="w">        </span><span class="n">Integer</span><span class="w"> </span><span class="n">companyId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12345</span><span class="p">;</span>

<span class="w">        </span><span class="c1">//set your existing invoice id</span>
<span class="w">        </span><span class="n">Integer</span><span class="w"> </span><span class="n">invoiceId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">54321</span><span class="p">;</span>

<span class="w">        </span><span class="c1">//set your invoice info</span>
<span class="w">        </span><span class="n">IssuedDocument</span><span class="w"> </span><span class="n">invoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocument</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">addItemsListItem</span><span class="p">(</span>
<span class="w">                    </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocumentItemsListItem</span><span class="p">()</span>
<span class="w">                            </span><span class="p">.</span><span class="na">name</span><span class="p">(</span><span class="s">"prod1"</span><span class="p">)</span>
<span class="w">                            </span><span class="p">.</span><span class="na">netPrice</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="mi">35</span><span class="p">))</span>
<span class="w">                            </span><span class="p">.</span><span class="na">qty</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="w">                            </span><span class="p">.</span><span class="na">vat</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">VatType</span><span class="p">().</span><span class="na">id</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">addItemsListItem</span><span class="p">(</span>
<span class="w">                    </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocumentItemsListItem</span><span class="p">()</span>
<span class="w">                            </span><span class="p">.</span><span class="na">name</span><span class="p">(</span><span class="s">"prod2"</span><span class="p">)</span>
<span class="w">                            </span><span class="p">.</span><span class="na">netPrice</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="mi">39</span><span class="p">))</span>
<span class="w">                            </span><span class="p">.</span><span class="na">qty</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="w">                            </span><span class="p">.</span><span class="na">vat</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">VatType</span><span class="p">().</span><span class="na">id</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">addItemsListItem</span><span class="p">(</span>
<span class="w">                    </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocumentItemsListItem</span><span class="p">()</span>
<span class="w">                            </span><span class="p">.</span><span class="na">name</span><span class="p">(</span><span class="s">"prod3"</span><span class="p">)</span>
<span class="w">                            </span><span class="p">.</span><span class="na">netPrice</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="mi">48</span><span class="p">))</span>
<span class="w">                            </span><span class="p">.</span><span class="na">qty</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="w">                            </span><span class="p">.</span><span class="na">vat</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">VatType</span><span class="p">().</span><span class="na">id</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="w">                </span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Here we put our invoice in the request object</span>
<span class="w">        </span><span class="n">GetExistingIssuedDocumentTotalsRequest</span><span class="w"> </span><span class="n">getExistingIssuedDocumentTotalsRequest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GetExistingIssuedDocumentTotalsRequest</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">data</span><span class="p">(</span><span class="n">invoice</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Now we are all set for the final call</span>
<span class="w">        </span><span class="c1">// Get existing issued document totals: https://github.com/fattureincloud/fattureincloud-java-sdk/blob/master/docs/IssuedDocumentsApi.md#getExistingIssuedDocumentTotals</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">GetExistingIssuedDocumentTotalsResponse</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">apiInstance</span><span class="p">.</span><span class="na">getExistingIssuedDocumentTotals</span><span class="p">(</span><span class="n">companyId</span><span class="p">,</span><span class="w"> </span><span class="n">invoiceId</span><span class="p">,</span><span class="w"> </span><span class="n">getExistingIssuedDocumentTotalsRequest</span><span class="p">);</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ApiException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Exception when calling IssuedDocumentsApi#getExistingIssuedDocumentTotals"</span><span class="p">);</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Status code: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getCode</span><span class="p">());</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Reason: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getResponseBody</span><span class="p">());</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Response headers: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getResponseHeaders</span><span class="p">());</span>
<span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="nx">fattureInCloudSdk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">"@fattureincloud/fattureincloud-js-sdk"</span><span class="p">);</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">defaultClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fattureInCloudSdk</span><span class="p">.</span><span class="nx">ApiClient</span><span class="p">.</span><span class="nx">instance</span><span class="p">;</span>

<span class="c1">//set your access token</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">OAuth2AuthenticationCodeFlow</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="nx">defaultClient</span><span class="p">.</span><span class="nx">authentications</span><span class="p">[</span><span class="s2">"OAuth2AuthenticationCodeFlow"</span><span class="p">];</span>
<span class="nx">OAuth2AuthenticationCodeFlow</span><span class="p">.</span><span class="nx">accessToken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"YOUR_ACCESS_TOKEN"</span><span class="p">;</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">apiInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">fattureInCloudSdk</span><span class="p">.</span><span class="nx">IssuedDocumentsApi</span><span class="p">();</span>

<span class="c1">//set your company id</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">companyId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">12345</span><span class="p">;</span>

<span class="c1">//set your invoice id</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">invoiceId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">54321</span><span class="p">;</span>

<span class="c1">//set your invoice info</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">invoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">fattureInCloudSdk</span><span class="p">.</span><span class="nx">IssuedDocument</span><span class="p">();</span>
<span class="nx">invoice</span><span class="p">.</span><span class="nx">items_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"prod1"</span><span class="p">,</span>
<span class="w">    </span><span class="nx">net_price</span><span class="o">:</span><span class="w"> </span><span class="mf">35</span><span class="p">,</span>
<span class="w">    </span><span class="nx">qty</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
<span class="w">    </span><span class="nx">vat</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"prod2"</span><span class="p">,</span>
<span class="w">    </span><span class="nx">net_price</span><span class="o">:</span><span class="w"> </span><span class="mf">39</span><span class="p">,</span>
<span class="w">    </span><span class="nx">qty</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
<span class="w">    </span><span class="nx">vat</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"prod3"</span><span class="p">,</span>
<span class="w">    </span><span class="nx">net_price</span><span class="o">:</span><span class="w"> </span><span class="mf">48</span><span class="p">,</span>
<span class="w">    </span><span class="nx">qty</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
<span class="w">    </span><span class="nx">vat</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">];</span>

<span class="c1">// Here we put our invoice in the request object</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">getExistingIssuedDocumentTotalsRequest</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="ow">new</span><span class="w"> </span><span class="nx">fattureInCloudSdk</span><span class="p">.</span><span class="nx">GetExistingIssuedDocumentTotalsRequest</span><span class="p">();</span>
<span class="nx">getExistingIssuedDocumentTotalsRequest</span><span class="p">.</span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">invoice</span><span class="p">;</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">opts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">getExistingIssuedDocumentTotalsRequest</span><span class="o">:</span>
<span class="w">    </span><span class="nx">getExistingIssuedDocumentTotalsRequest</span><span class="p">,</span>
<span class="p">};</span>

<span class="c1">// Now we are all set for the final call</span>
<span class="c1">// Get existing issued document totals: https://github.com/fattureincloud/fattureincloud-js-sdk/blob/master/docs/IssuedDocumentsApi.md#getExistingIssuedDocumentTotals</span>
<span class="nx">apiInstance</span><span class="p">.</span><span class="nx">getExistingIssuedDocumentTotals</span><span class="p">(</span><span class="nx">companyId</span><span class="p">,</span><span class="w"> </span><span class="nx">invoiceId</span><span class="p">,</span><span class="w"> </span><span class="nx">opts</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span>
<span class="w">  </span><span class="p">(</span><span class="nx">result</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="w">      </span><span class="s2">"API called successfully. Returned result: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">FattureInCloud\Model\Entity</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">FattureInCloud\Model\IssuedDocument</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">FattureInCloud\Model\IssuedDocumentItemsListItem</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">FattureInCloud\Model\VatType</span><span class="p">;</span>

<span class="k">require_once</span><span class="p">(</span><span class="no">__DIR__</span> <span class="o">.</span> <span class="s1">'/vendor/autoload.php'</span><span class="p">);</span>

<span class="c1">//set your access token</span>
<span class="nv">$config</span> <span class="o">=</span> <span class="nx">FattureInCloud\Configuration</span><span class="o">::</span><span class="na">getDefaultConfiguration</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setAccessToken</span><span class="p">(</span><span class="s1">'YOUR_ACCESS_TOKEN'</span><span class="p">);</span>

<span class="nv">$apiInstance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FattureInCloud\Api\IssuedDocumentsApi</span><span class="p">(</span>
    <span class="k">new</span> <span class="nx">GuzzleHttp\Client</span><span class="p">(),</span>
    <span class="nv">$config</span>
<span class="p">);</span>

<span class="c1">//set your company id</span>
<span class="nv">$company_id</span> <span class="o">=</span> <span class="mi">12345</span><span class="p">;</span>

<span class="c1">//set your existing invoice id</span>
<span class="nv">$invoice_id</span> <span class="o">=</span> <span class="mi">54321</span><span class="p">;</span>

<span class="c1">//set your invoice info</span>
<span class="nv">$invoice</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">IssuedDocument</span><span class="p">;</span>
<span class="nv">$invoice</span><span class="o">-&gt;</span><span class="na">setItemsList</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="k">new</span> <span class="nx">IssuedDocumentItemsListItem</span><span class="p">(</span>
            <span class="k">array</span><span class="p">(</span>
                <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"prod1"</span><span class="p">,</span>
                <span class="s2">"net_price"</span> <span class="o">=&gt;</span> <span class="mi">35</span><span class="p">,</span>
                <span class="s2">"qty"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">"vat"</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">VatType</span><span class="p">(</span>
                    <span class="k">array</span><span class="p">(</span>
                        <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">0</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="p">),</span>
        <span class="k">new</span> <span class="nx">IssuedDocumentItemsListItem</span><span class="p">(</span>
            <span class="k">array</span><span class="p">(</span>
                <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"prod2"</span><span class="p">,</span>
                <span class="s2">"net_price"</span> <span class="o">=&gt;</span> <span class="mi">39</span><span class="p">,</span>
                <span class="s2">"qty"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">"vat"</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">VatType</span><span class="p">(</span>
                    <span class="k">array</span><span class="p">(</span>
                        <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">0</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="p">),</span>
        <span class="k">new</span> <span class="nx">IssuedDocumentItemsListItem</span><span class="p">(</span>
            <span class="k">array</span><span class="p">(</span>
                <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"prod3"</span><span class="p">,</span>
                <span class="s2">"net_price"</span> <span class="o">=&gt;</span> <span class="mi">48</span><span class="p">,</span>
                <span class="s2">"qty"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">"vat"</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">VatType</span><span class="p">(</span>
                    <span class="k">array</span><span class="p">(</span>
                        <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">0</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="c1">// Here we put our invoice in the request object</span>
<span class="nv">$get_existing_issued_document_totals_request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GetExistingIssuedDocumentTotalsRequest</span><span class="p">;</span>
<span class="nv">$get_existing_issued_document_totals_request</span><span class="o">-&gt;</span><span class="na">setData</span><span class="p">(</span><span class="nv">$invoice</span><span class="p">);</span>

<span class="c1">// Now we are all set for the final call</span>
<span class="c1">// Get existing issued document totals: https://github.com/fattureincloud/fattureincloud-php-sdk/blob/master/docs/Api/IssuedDocumentsApi.md#getExistingIssuedDocumentTotals</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="na">getExistingIssuedDocumentTotals</span><span class="p">(</span><span class="nv">$company_id</span><span class="p">,</span> <span class="nv">$invoice_id</span><span class="p">,</span> <span class="nv">$get_existing_issued_document_totals_request</span><span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Exception when calling IssuedDocumentsApi-&gt;getExistingIssuedDocumentTotals: '</span><span class="p">,</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">(),</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">fattureincloud_python_sdk</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.api</span> <span class="kn">import</span> <span class="n">issued_documents_api</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.models.vat_type</span> <span class="kn">import</span> <span class="n">VatType</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.models.issued_document</span> <span class="kn">import</span> <span class="n">IssuedDocument</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.models.get_existing_issued_document_totals_request</span> <span class="kn">import</span> <span class="n">GetExistingIssuedDocumentTotalsRequest</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.models.get_existing_issued_document_totals_response</span> <span class="kn">import</span> <span class="n">GetExistingIssuedDocumentTotalsResponse</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.models.issued_document_items_list_item</span> <span class="kn">import</span> <span class="n">IssuedDocumentItemsListItem</span>

<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>

<span class="c1"># set your access token</span>
<span class="n">configuration</span> <span class="o">=</span> <span class="n">fattureincloud_python_sdk</span><span class="o">.</span><span class="n">Configuration</span><span class="p">()</span>
<span class="n">configuration</span><span class="o">.</span><span class="n">access_token</span> <span class="o">=</span> <span class="s2">"YOUR_ACCESS_TOKEN"</span>

<span class="c1"># set your company id</span>
<span class="n">company_id</span> <span class="o">=</span> <span class="mi">12345</span>

<span class="c1"># set your existing invoice id</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="mi">54321</span>

<span class="c1"># set your invoice info</span>
<span class="n">invoice</span> <span class="o">=</span> <span class="n">IssuedDocument</span><span class="p">(</span>
    <span class="n">items_list</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">IssuedDocumentItemsListItem</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">"prod1"</span><span class="p">,</span>
            <span class="n">net_price</span><span class="o">=</span><span class="mf">35.0</span><span class="p">,</span>
            <span class="n">qty</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
            <span class="n">vat</span><span class="o">=</span><span class="n">VatType</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="mi">0</span>
            <span class="p">)</span>
        <span class="p">),</span>
        <span class="n">IssuedDocumentItemsListItem</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">"prod2"</span><span class="p">,</span>
            <span class="n">net_price</span><span class="o">=</span><span class="mf">39.0</span><span class="p">,</span>
            <span class="n">qty</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
            <span class="n">vat</span><span class="o">=</span><span class="n">VatType</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="mi">0</span>
            <span class="p">)</span>
        <span class="p">),</span>
        <span class="n">IssuedDocumentItemsListItem</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">"prod3"</span><span class="p">,</span>
            <span class="n">net_price</span><span class="o">=</span><span class="mf">48.0</span><span class="p">,</span>
            <span class="n">qty</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
            <span class="n">vat</span><span class="o">=</span><span class="n">VatType</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="mi">0</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">]</span>
<span class="p">)</span>

<span class="c1"># Here we put our invoice in the request object</span>
<span class="n">get_existing_issued_document_totals_request</span> <span class="o">=</span> <span class="n">GetExistingIssuedDocumentTotalsRequest</span><span class="p">(</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">invoice</span>
<span class="p">)</span>

<span class="c1"># Now we are all set for the final call</span>
<span class="c1"># Get existing issued document totals: https://github.com/fattureincloud/fattureincloud-python-sdk/blob/master/docs/IssuedDocumentsApi.md#get_existing_issued_document_totals</span>
<span class="k">with</span> <span class="n">fattureincloud_python_sdk</span><span class="o">.</span><span class="n">ApiClient</span><span class="p">(</span><span class="n">configuration</span><span class="p">)</span> <span class="k">as</span> <span class="n">api_client</span><span class="p">:</span>

    <span class="n">api_instance</span> <span class="o">=</span> <span class="n">issued_documents_api</span><span class="o">.</span><span class="n">IssuedDocumentsApi</span><span class="p">(</span><span class="n">api_client</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">api_response</span> <span class="o">=</span> <span class="n">api_instance</span><span class="o">.</span><span class="n">get_existing_issued_document_totals</span><span class="p">(</span><span class="n">company_id</span><span class="p">,</span> <span class="n">invoice_id</span> <span class="n">get_existing_issued_document_totals_request</span><span class="o">=</span><span class="n">get_existing_issued_document_totals_request</span><span class="p">)</span>
        <span class="n">pprint</span><span class="p">(</span><span class="n">api_response</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">fattureincloud_python_sdk</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Exception when calling IssuedDocumentsApi-&gt;get_existing_issued_document_totals: </span><span class="si">%s</span><span class="se">\n</span><span class="s2">"</span> <span class="o">%</span> <span class="n">e</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">require</span><span class="w"> </span><span class="s1">'time'</span>
<span class="nb">require</span><span class="w"> </span><span class="s1">'fattureincloud_ruby_sdk'</span>

<span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">.</span><span class="n">configure</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="o">|</span><span class="n">config</span><span class="o">|</span>
<span class="w">  </span><span class="c1"># set your access token</span>
<span class="w">  </span><span class="n">config</span><span class="o">.</span><span class="n">access_token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'YOUR ACCESS TOKEN'</span>
<span class="k">end</span>

<span class="n">api_instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">IssuedDocumentsApi</span><span class="o">.</span><span class="n">new</span>

<span class="c1"># set your company id</span>
<span class="n">company_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12345</span>

<span class="c1"># set your invoice id</span>
<span class="n">invoice_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">54321</span>

<span class="c1"># set your invoice info</span>
<span class="n">invoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">IssuedDocument</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
<span class="w">    </span><span class="ss">items_list</span><span class="p">:</span><span class="w"> </span><span class="nb">Array</span><span class="p">(</span>
<span class="w">        </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">IssuedDocumentItemsListItem</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
<span class="w">            </span><span class="nb">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"prod1"</span><span class="p">,</span>
<span class="w">            </span><span class="ss">net_price</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span>
<span class="w">            </span><span class="ss">qty</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="ss">vat</span><span class="p">:</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">VatType</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
<span class="w">                </span><span class="nb">id</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">IssuedDocumentItemsListItem</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
<span class="w">            </span><span class="nb">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"prod2"</span><span class="p">,</span>
<span class="w">            </span><span class="ss">net_price</span><span class="p">:</span><span class="w"> </span><span class="mi">39</span><span class="p">,</span>
<span class="w">            </span><span class="ss">qty</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="ss">vat</span><span class="p">:</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">VatType</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
<span class="w">                </span><span class="nb">id</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">IssuedDocumentItemsListItem</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
<span class="w">            </span><span class="nb">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"prod3"</span><span class="p">,</span>
<span class="w">            </span><span class="ss">net_price</span><span class="p">:</span><span class="w"> </span><span class="mi">48</span><span class="p">,</span>
<span class="w">            </span><span class="ss">qty</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="ss">vat</span><span class="p">:</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">VatType</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
<span class="w">                </span><span class="nb">id</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Here we put our invoice in the request object</span>
<span class="n">opts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="ss">get_existing_issued_document_totals_request</span><span class="p">:</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">GetExistingIssuedDocumentTotalsRequest</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">data</span><span class="p">:</span><span class="w"> </span><span class="n">invoice</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1"># Now we are all set for the final call</span>
<span class="c1"># Get existing issued document totals: https://github.com/fattureincloud/fattureincloud-ruby-sdk/blob/master/docs/IssuedDocumentsApi.md#https://github.com/fattureincloud/fattureincloud-ruby-sdk/blob/master/docs/IssuedDocumentsApi.md#get_existing_issued_document_totals</span>
<span class="k">begin</span>
<span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">api_instance</span><span class="o">.</span><span class="n">get_existing_issued_document_totals</span><span class="p">(</span><span class="n">company_id</span><span class="p">,</span><span class="w"> </span><span class="n">invoice_id</span><span class="p">,</span><span class="w"> </span><span class="n">opts</span><span class="p">)</span>
<span class="w">  </span><span class="nb">p</span><span class="w"> </span><span class="n">result</span>
<span class="k">rescue</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">ApiError</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">e</span>
<span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">"Error when calling IssuedDocumentsApi-&gt;get_existing_issued_document_totals: </span><span class="si">#{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">Configuration</span><span class="p">,</span>
<span class="w">  </span><span class="nx">IssuedDocumentsApi</span><span class="p">,</span>
<span class="w">  </span><span class="nx">IssuedDocument</span><span class="p">,</span>
<span class="w">  </span><span class="nx">IssuedDocumentType</span><span class="p">,</span>
<span class="w">  </span><span class="nx">GetExistingIssuedDocumentTotalsRequest</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">"@fattureincloud/fattureincloud-ts-sdk"</span><span class="p">;</span>

<span class="c1">//set your access token</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">apiConfig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Configuration</span><span class="p">({</span>
<span class="w">  </span><span class="nx">accessToken</span><span class="o">:</span><span class="w"> </span><span class="s2">"YOUR ACCESS TOKEN"</span><span class="p">,</span>
<span class="p">});</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">apiInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">IssuedDocumentsApi</span><span class="p">(</span><span class="nx">apiConfig</span><span class="p">);</span>

<span class="c1">//set your company id</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">companyId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">12345</span><span class="p">;</span>

<span class="c1">//set your invoice id</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">invoiceId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">54321</span><span class="p">;</span>

<span class="c1">//set your invoice info</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">invoice</span><span class="o">:</span><span class="w"> </span><span class="kt">IssuedDocument</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="nx">IssuedDocumentType</span><span class="p">.</span><span class="nx">Invoice</span><span class="p">,</span>
<span class="w">  </span><span class="nx">entity</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nx">items_list</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"prod1"</span><span class="p">,</span>
<span class="w">      </span><span class="nx">net_price</span><span class="o">:</span><span class="w"> </span><span class="kt">35</span><span class="p">,</span>
<span class="w">      </span><span class="nx">qty</span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="p">,</span>
<span class="w">      </span><span class="nx">vat</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"prod2"</span><span class="p">,</span>
<span class="w">      </span><span class="nx">net_price</span><span class="o">:</span><span class="w"> </span><span class="kt">39</span><span class="p">,</span>
<span class="w">      </span><span class="nx">qty</span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="p">,</span>
<span class="w">      </span><span class="nx">vat</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"prod3"</span><span class="p">,</span>
<span class="w">      </span><span class="nx">net_price</span><span class="o">:</span><span class="w"> </span><span class="kt">48</span><span class="p">,</span>
<span class="w">      </span><span class="nx">qty</span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="p">,</span>
<span class="w">      </span><span class="nx">vat</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">],</span>
<span class="p">};</span>

<span class="c1">// Here we put our invoice in the request object</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">getExistingIssuedDocumentTotalsRequest</span><span class="o">:</span><span class="w"> </span><span class="kt">GetExistingIssuedDocumentTotalsRequest</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">invoice</span><span class="p">,</span>
<span class="w">  </span><span class="p">};</span>

<span class="c1">// Now we are all set for the final call</span>
<span class="c1">// Get new issued document totals: https://github.com/fattureincloud/fattureincloud-ts-sdk/blob/master/docs/IssuedDocumentsApi.md#getNewIssuedDocumentTotals</span>
<span class="nx">apiInstance</span>
<span class="w">  </span><span class="p">.</span><span class="nx">getExistingIssuedDocumentTotals</span><span class="p">(</span>
<span class="w">    </span><span class="nx">companyId</span><span class="p">,</span>
<span class="w">    </span><span class="nx">invoiceId</span><span class="p">,</span>
<span class="w">    </span><span class="nx">getExistingIssuedDocumentTotalsRequest</span>
<span class="w">  </span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span>
<span class="w">    </span><span class="p">(</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div>
<p>The Zapier Action you need is called <strong>Get Existing Issued Document Totals</strong>.
After you select the action and log in, you need to select your Company ID. Luckily, our Actions let you select it from a simple dropdown menu.</p>
<p><img alt="Zapier - Company ID Selection" src="../assets/company-id-selection.png"/></p>
<p>Additionally, you need to select the ID of the existing document, that can be provided by a previous step.</p>
<p>Next, you must insert a request similar to the one we need for the <em>Modify Issued Document</em> request. We suggest you check the <a href="/docs/guides/invoice-creation.mdx">Invoice Creation</a> Guide for more info.</p>
<p>You can then use the resulting totals of this request in the modification request.</p>
<h2 id="tophat-the-magic-field">:tophat:  The magic field</h2>
<p>If you don't mind about the amounts of each payment, but you just want them to match the expected totals, we provide a magic field that could be perfect for you.</p>
<p>The <strong>options.fix_payments</strong> field, when set to true, adjusts your <em>last</em> payment amount of the payments list to match your document total, incrementing or reducing the amount accordingly. Of course, if you have only one payment it will be modified to match the document total.</p>
<p>The options.fix_payment field must be used in the <a href="/api-reference#post-/c/-company_id-/issued_documents">invoice creation request</a>. Please, notice that this field is <strong>not</strong> included in the <em>data</em> field that contains the main section of the request, as you can see in the following example.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="err">...</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">"fix_payments"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>And here there is the example to make this request with our SDKs:</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="nn">System</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">It.FattureInCloud.Sdk.Api</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">It.FattureInCloud.Sdk.Client</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">It.FattureInCloud.Sdk.Model</span><span class="p">;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">test</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="nc">Program</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Configuration</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Configuration</span><span class="p">();</span>

<span class="w">            </span><span class="c1">//set your access token</span>
<span class="w">            </span><span class="n">config</span><span class="p">.</span><span class="n">AccessToken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"YOUR_ACCESS_TOKEN"</span><span class="p">;</span>

<span class="w">            </span><span class="kt">var</span><span class="w"> </span><span class="n">apiInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocumentsApi</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
<span class="w">            </span><span class="c1">//set your company id</span>
<span class="w">            </span><span class="kt">var</span><span class="w"> </span><span class="n">companyId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">12345</span><span class="p">;</span>

<span class="w">            </span><span class="c1">// NOTE: this is not a complete request, for it to work you must set the invoice details!!</span>
<span class="w">            </span><span class="n">IssuedDocument</span><span class="w"> </span><span class="n">invoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocument</span><span class="p">(</span>
<span class="w">                </span><span class="c1">// ...</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Here we put our invoice in the request object</span>
<span class="w">            </span><span class="n">CreateIssuedDocumentRequest</span><span class="w"> </span><span class="n">createIssuedDocumentRequest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CreateIssuedDocumentRequest</span><span class="p">(</span>
<span class="w">                </span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="n">invoice</span><span class="p">,</span>
<span class="w">                </span><span class="c1">// And here we set the magic field</span>
<span class="w">                </span><span class="n">options</span><span class="p">:</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocumentOptions</span><span class="p">(</span>
<span class="w">                    </span><span class="n">fixPayments</span><span class="p">:</span><span class="w"> </span><span class="k">true</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Now we are all set for the final call</span>
<span class="w">            </span><span class="c1">// Create the invoice: https://github.com/fattureincloud/fattureincloud-csharp-sdk/blob/master/docs/IssuedDocumentsApi.md#createissueddocument</span>
<span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">CreateIssuedDocumentResponse</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">apiInstance</span><span class="p">.</span><span class="n">CreateIssuedDocument</span><span class="p">(</span><span class="n">companyId</span><span class="p">,</span><span class="w"> </span><span class="n">createIssuedDocumentRequest</span><span class="p">);</span>
<span class="w">                </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ApiException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">"Exception when calling IssuedDocumentsApi.CreateIssuedDocument: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="w">                </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">"Status Code: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">ErrorCode</span><span class="p">);</span>
<span class="w">                </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">StackTrace</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1">// in this example we are using our Go SDK</span>
<span class="c1">// https://github.com/fattureincloud/fattureincloud-go-sdk</span>
<span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="kn">import</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="s">"context"</span>
<span class="w">    </span><span class="s">"encoding/json"</span>
<span class="w">    </span><span class="s">"fmt"</span>
<span class="w">    </span><span class="s">"os"</span>

<span class="w">    </span><span class="nx">fattureincloudapi</span><span class="w"> </span><span class="s">"github.com/fattureincloud/fattureincloud-go-sdk/v2/api"</span>
<span class="w">    </span><span class="nx">fattureincloud</span><span class="w"> </span><span class="s">"github.com/fattureincloud/fattureincloud-go-sdk/v2/model"</span>
<span class="p">)</span>

<span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// Configure OAuth2 access token for authorization:</span>
<span class="w">    </span><span class="nx">auth</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">WithValue</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">Background</span><span class="p">(),</span><span class="w"> </span><span class="nx">fattureincloudapi</span><span class="p">.</span><span class="nx">ContextAccessToken</span><span class="p">,</span><span class="w"> </span><span class="s">"YOUR_ACCESS_TOKEN"</span><span class="p">)</span>
<span class="w">    </span><span class="nx">configuration</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fattureincloudapi</span><span class="p">.</span><span class="nx">NewConfiguration</span><span class="p">()</span>
<span class="w">    </span><span class="nx">apiClient</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fattureincloudapi</span><span class="p">.</span><span class="nx">NewAPIClient</span><span class="p">(</span><span class="nx">configuration</span><span class="p">)</span>

<span class="w">    </span><span class="c1">//set your company id</span>
<span class="w">    </span><span class="nx">companyId</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">int32</span><span class="p">(</span><span class="mi">12345</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// NOTE: this is not a complete request, for it to work you must set the invoice details!!</span>
<span class="w">    </span><span class="nx">invoice</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewIssuedDocument</span><span class="p">(</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="c1">// Here we put our invoice in the request object</span>
<span class="w">    </span><span class="nx">createIssuedDocumentRequest</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewCreateIssuedDocumentRequest</span><span class="p">().</span>
<span class="w">        </span><span class="nx">SetData</span><span class="p">(</span><span class="nx">invoice</span><span class="p">).</span>
<span class="w">        </span><span class="c1">// And here we set the magic field</span>
<span class="w">        </span><span class="nx">SetOptions</span><span class="p">(</span><span class="o">*</span><span class="nx">fattureincloud</span><span class="p">.</span><span class="nx">NewIssuedDocumentOptions</span><span class="p">().</span>
<span class="w">            </span><span class="nx">SetFixPayments</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<span class="w">        </span><span class="p">)</span>

<span class="w">    </span><span class="nx">resp</span><span class="p">,</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">apiClient</span><span class="p">.</span><span class="nx">IssuedDocumentsAPI</span><span class="p">.</span><span class="nx">CreateIssuedDocument</span><span class="p">(</span><span class="nx">auth</span><span class="p">,</span><span class="w"> </span><span class="nx">companyId</span><span class="p">).</span><span class="nx">CreateIssuedDocumentRequest</span><span class="p">(</span><span class="nx">createIssuedDocumentRequest</span><span class="p">).</span><span class="nx">Execute</span><span class="p">()</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Fprintf</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stderr</span><span class="p">,</span><span class="w"> </span><span class="s">"Error when calling `IssuedDocumentsApi.CreateIssuedDocument``: %v\n"</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
<span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Fprintf</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stderr</span><span class="p">,</span><span class="w"> </span><span class="s">"Full HTTP response: %v\n"</span><span class="p">,</span><span class="w"> </span><span class="nx">r</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">json</span><span class="p">.</span><span class="nx">NewEncoder</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stdout</span><span class="p">).</span><span class="nx">Encode</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span>

<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.ApiClient</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.ApiException</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.Configuration</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.auth.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.model.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">it.fattureincloud.sdk.api.IssuedDocumentsApi</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Example</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ApiClient</span><span class="w"> </span><span class="n">defaultClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Configuration</span><span class="p">.</span><span class="na">getDefaultApiClient</span><span class="p">();</span>

<span class="w">        </span><span class="c1">//set your access token</span>
<span class="w">        </span><span class="n">OAuth</span><span class="w"> </span><span class="n">OAuth2AuthenticationCodeFlow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">OAuth</span><span class="p">)</span><span class="w"> </span><span class="n">defaultClient</span><span class="p">.</span><span class="na">getAuthentication</span><span class="p">(</span><span class="s">"OAuth2AuthenticationCodeFlow"</span><span class="p">);</span>
<span class="w">        </span><span class="n">OAuth2AuthenticationCodeFlow</span><span class="p">.</span><span class="na">setAccessToken</span><span class="p">(</span><span class="s">"YOUR ACCESS TOKEN"</span><span class="p">);</span>

<span class="w">        </span><span class="n">IssuedDocumentsApi</span><span class="w"> </span><span class="n">apiInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocumentsApi</span><span class="p">(</span><span class="n">defaultClient</span><span class="p">);</span>

<span class="w">        </span><span class="c1">//set your company id</span>
<span class="w">        </span><span class="n">Integer</span><span class="w"> </span><span class="n">companyId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12345</span><span class="p">;</span>

<span class="w">        </span><span class="c1">// NOTE: this is not a complete request, for it to work you must set the invoice details!!</span>
<span class="w">        </span><span class="n">IssuedDocument</span><span class="w"> </span><span class="n">invoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocument</span><span class="p">()</span>
<span class="w">        </span><span class="c1">// ...</span>

<span class="w">        </span><span class="c1">// Here we put our invoice in the request object</span>
<span class="w">        </span><span class="n">CreateIssuedDocumentRequest</span><span class="w"> </span><span class="n">createIssuedDocumentRequest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CreateIssuedDocumentRequest</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">data</span><span class="p">(</span><span class="n">invoice</span><span class="p">)</span>
<span class="w">            </span><span class="c1">// And here we set the magic field</span>
<span class="w">            </span><span class="p">.</span><span class="na">options</span><span class="p">(</span>
<span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">IssuedDocumentOptions</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">fixPayments</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Now we are all set for the final call</span>
<span class="w">        </span><span class="c1">// Create the invoice: https://github.com/fattureincloud/fattureincloud-java-sdk/blob/master/docs/IssuedDocumentsApi.md#createissueddocument</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">CreateIssuedDocumentResponse</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">apiInstance</span><span class="p">.</span><span class="na">createIssuedDocument</span><span class="p">(</span><span class="n">companyId</span><span class="p">,</span><span class="w"> </span><span class="n">createIssuedDocumentRequest</span><span class="p">);</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ApiException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Exception when calling IssuedDocumentsApi#createIssuedDocument"</span><span class="p">);</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Status code: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getCode</span><span class="p">());</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Reason: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getResponseBody</span><span class="p">());</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"Response headers: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getResponseHeaders</span><span class="p">());</span>
<span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="nx">fattureInCloudSdk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">"@fattureincloud/fattureincloud-js-sdk"</span><span class="p">);</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">defaultClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fattureInCloudSdk</span><span class="p">.</span><span class="nx">ApiClient</span><span class="p">.</span><span class="nx">instance</span><span class="p">;</span>

<span class="c1">// set your access token</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">OAuth2AuthenticationCodeFlow</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="nx">defaultClient</span><span class="p">.</span><span class="nx">authentications</span><span class="p">[</span><span class="s2">"OAuth2AuthenticationCodeFlow"</span><span class="p">];</span>
<span class="nx">OAuth2AuthenticationCodeFlow</span><span class="p">.</span><span class="nx">accessToken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"YOUR_ACCESS_TOKEN"</span><span class="p">;</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">apiInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">fattureInCloudSdk</span><span class="p">.</span><span class="nx">IssuedDocumentsApi</span><span class="p">();</span>

<span class="c1">// set your company id</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">companyId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">12345</span><span class="p">;</span>

<span class="c1">// NOTE: this is not a complete request, for it to work you must set the invoice details!!</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">invoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">fattureInCloudSdk</span><span class="p">.</span><span class="nx">IssuedDocument</span><span class="p">();</span>
<span class="c1">// ...</span>

<span class="c1">// Here we put our invoice in the request object</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">createIssuedDocumentRequest</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="ow">new</span><span class="w"> </span><span class="nx">fattureInCloudSdk</span><span class="p">.</span><span class="nx">CreateIssuedDocumentRequest</span><span class="p">();</span>
<span class="nx">createIssuedDocumentRequest</span><span class="p">.</span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">invoice</span><span class="p">;</span>
<span class="c1">// And here we set the magic field</span>
<span class="nx">createIssuedDocumentRequest</span><span class="p">.</span><span class="nx">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">fix_payments</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">opts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">createIssuedDocumentRequest</span><span class="o">:</span><span class="w"> </span><span class="nx">createIssuedDocumentRequest</span><span class="p">,</span>
<span class="p">};</span>

<span class="c1">// Now we are all set for the final call</span>
<span class="c1">// Create the invoice: https://github.com/fattureincloud/fattureincloud-js-sdk/blob/master/docs/IssuedDocumentsApi.md#createIssuedDocument</span>
<span class="nx">apiInstance</span><span class="p">.</span><span class="nx">createIssuedDocument</span><span class="p">(</span><span class="nx">companyId</span><span class="p">,</span><span class="w"> </span><span class="nx">opts</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span>
<span class="w">  </span><span class="p">(</span><span class="nx">result</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="w">      </span><span class="s2">"API called successfully. Returned result: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">FattureInCloud\Model\IssuedDocument</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">FattureInCloud\Model\IssuedDocumentOptions</span><span class="p">;</span>

<span class="k">require_once</span><span class="p">(</span><span class="no">__DIR__</span> <span class="o">.</span> <span class="s1">'/vendor/autoload.php'</span><span class="p">);</span>

<span class="c1">//set your access token</span>
<span class="nv">$config</span> <span class="o">=</span> <span class="nx">FattureInCloud\Configuration</span><span class="o">::</span><span class="na">getDefaultConfiguration</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setAccessToken</span><span class="p">(</span><span class="s1">'YOUR_ACCESS_TOKEN'</span><span class="p">);</span>

<span class="nv">$apiInstance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FattureInCloud\Api\IssuedDocumentsApi</span><span class="p">(</span>
    <span class="k">new</span> <span class="nx">GuzzleHttp\Client</span><span class="p">(),</span>
    <span class="nv">$config</span>
<span class="p">);</span>

<span class="c1">//set your company id</span>
<span class="nv">$company_id</span> <span class="o">=</span> <span class="mi">12345</span><span class="p">;</span>

<span class="c1">// NOTE: this is not a complete request, for it to work you must set the invoice details!!</span>
<span class="nv">$invoice</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">IssuedDocument</span><span class="p">;</span>

<span class="c1">// Here we put our invoice in the request object</span>
<span class="nv">$create_issued_document_request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CreateIssuedDocumentRequest</span><span class="p">;</span>
<span class="nv">$create_issued_document_request</span><span class="o">-&gt;</span><span class="na">setData</span><span class="p">(</span><span class="nv">$invoice</span><span class="p">);</span>
<span class="c1">// And here we set the magic field</span>
<span class="nv">$create_issued_document_request</span><span class="o">-&gt;</span><span class="na">setOptions</span><span class="p">(</span>
    <span class="k">new</span> <span class="nx">IssuedDocumentOptions</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="s2">"fix_payments"</span> <span class="o">=&gt;</span> <span class="k">true</span>
        <span class="p">]</span>
    <span class="p">)</span>
<span class="p">);</span>


<span class="c1">// Now we are all set for the final call</span>
<span class="c1">// Create the invoice: https://github.com/fattureincloud/fattureincloud-php-sdk/blob/master/docs/Api/IssuedDocumentsApi.md#createissueddocument</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$apiInstance</span><span class="o">-&gt;</span><span class="na">createIssuedDocument</span><span class="p">(</span><span class="nv">$company_id</span><span class="p">,</span> <span class="nv">$create_issued_document_request</span><span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Exception when calling IssuedDocumentsApi-&gt;createIssuedDocument: '</span><span class="p">,</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">(),</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">fattureincloud_python_sdk</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.api</span> <span class="kn">import</span> <span class="n">issued_documents_api</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.models.issued_document</span> <span class="kn">import</span> <span class="n">IssuedDocument</span>
<span class="kn">from</span> <span class="nn">fattureincloud_python_sdk.models.issued_document</span> <span class="kn">import</span> <span class="n">IssuedDocumentOptions</span>

<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>

<span class="c1"># set your access token</span>
<span class="n">configuration</span> <span class="o">=</span> <span class="n">fattureincloud_python_sdk</span><span class="o">.</span><span class="n">Configuration</span><span class="p">()</span>
<span class="n">configuration</span><span class="o">.</span><span class="n">access_token</span> <span class="o">=</span> <span class="s2">"YOUR_ACCESS_TOKEN"</span>

<span class="c1"># set your company id</span>
<span class="n">company_id</span> <span class="o">=</span> <span class="mi">12345</span>

<span class="c1"># NOTE: this is not a complete request, for it to work you must set the invoice details!!</span>
<span class="n">invoice</span> <span class="o">=</span> <span class="n">IssuedDocument</span><span class="p">(</span>
   <span class="c1"># ...</span>
<span class="p">)</span>

<span class="c1"># Here we put our invoice in the request object</span>
<span class="n">create_issued_document_request</span> <span class="o">=</span> <span class="n">CreateIssuedDocumentRequest</span><span class="p">(</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">invoice</span><span class="p">,</span>
    <span class="c1"># And here we set the magic field</span>
    <span class="n">options</span> <span class="o">=</span> <span class="n">IssuedDocumentOptions</span><span class="p">(</span>
        <span class="n">fix_payments</span><span class="o">=</span><span class="n">true</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Now we are all set for the final call</span>
<span class="c1"># Create the invoice: https://github.com/fattureincloud/fattureincloud-python-sdk/blob/master/docs/IssuedDocumentsApi.md#create_issued_document</span>

<span class="k">with</span> <span class="n">fattureincloud_python_sdk</span><span class="o">.</span><span class="n">ApiClient</span><span class="p">(</span><span class="n">configuration</span><span class="p">)</span> <span class="k">as</span> <span class="n">api_client</span><span class="p">:</span>

    <span class="n">api_instance</span> <span class="o">=</span> <span class="n">issued_documents_api</span><span class="o">.</span><span class="n">IssuedDocumentsApi</span><span class="p">(</span><span class="n">api_client</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">api_response</span> <span class="o">=</span> <span class="n">api_instance</span><span class="o">.</span><span class="n">create_issued_document</span><span class="p">(</span><span class="n">company_id</span><span class="p">,</span> <span class="n">create_issued_document_request</span><span class="o">=</span><span class="n">create_issued_document_request</span><span class="p">)</span>
        <span class="n">pprint</span><span class="p">(</span><span class="n">api_response</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">fattureincloud_python_sdk</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Exception when calling IssuedDocumentsApi-&gt;create_issued_document: </span><span class="si">%s</span><span class="se">\n</span><span class="s2">"</span> <span class="o">%</span> <span class="n">e</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">require</span><span class="w"> </span><span class="s1">'time'</span>
<span class="nb">require</span><span class="w"> </span><span class="s1">'fattureincloud_ruby_sdk'</span>

<span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">.</span><span class="n">configure</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="o">|</span><span class="n">config</span><span class="o">|</span>
<span class="w">  </span><span class="c1"># set your access token</span>
<span class="w">  </span><span class="n">config</span><span class="o">.</span><span class="n">access_token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'YOUR ACCESS TOKEN'</span>
<span class="k">end</span>

<span class="n">api_instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">IssuedDocumentsApi</span><span class="o">.</span><span class="n">new</span>

<span class="c1"># set your company id</span>
<span class="n">company_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12345</span>

<span class="c1"># NOTE: this is not a complete request, for it to work you must set the invoice details!!</span>
<span class="n">invoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">IssuedDocument</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
<span class="w">    </span><span class="c1"># ...</span>
<span class="p">)</span>

<span class="c1"># Here we put our invoice in the request object</span>
<span class="n">opts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="ss">create_issued_document_request</span><span class="p">:</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">CreateIssuedDocumentRequest</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
<span class="w">        </span><span class="ss">data</span><span class="p">:</span><span class="w"> </span><span class="n">invoice</span><span class="p">,</span>
<span class="w">        </span><span class="c1"># And here we set the magic field</span>
<span class="w">        </span><span class="ss">options</span><span class="p">:</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">IssuedDocumentOptions</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
<span class="w">            </span><span class="ss">fix_payments</span><span class="p">:</span><span class="w"> </span><span class="kp">true</span>
<span class="w">      </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">}</span>

<span class="c1"># Now we are all set for the final call</span>
<span class="c1"># Create the invoice: https://github.com/fattureincloud/fattureincloud-ruby-sdk/blob/master/docs/IssuedDocumentsApi.md#create_issued_document</span>
<span class="k">begin</span>
<span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">api_instance</span><span class="o">.</span><span class="n">create_issued_document</span><span class="p">(</span><span class="n">company_id</span><span class="p">,</span><span class="w"> </span><span class="n">opts</span><span class="p">)</span>
<span class="w">  </span><span class="nb">p</span><span class="w"> </span><span class="n">result</span>
<span class="k">rescue</span><span class="w"> </span><span class="no">FattureInCloud_Ruby_Sdk</span><span class="o">::</span><span class="no">ApiError</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">e</span>
<span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">"Error when calling IssuedDocumentsApi-&gt;create_issued_document: </span><span class="si">#{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">Configuration</span><span class="p">,</span>
<span class="w">  </span><span class="nx">IssuedDocumentsApi</span><span class="p">,</span>
<span class="w">  </span><span class="nx">IssuedDocument</span><span class="p">,</span>
<span class="w">  </span><span class="nx">CreateIssuedDocumentRequest</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">"@fattureincloud/fattureincloud-ts-sdk"</span><span class="p">;</span>

<span class="c1">//set your access token</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">apiConfig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Configuration</span><span class="p">({</span>
<span class="w">  </span><span class="nx">accessToken</span><span class="o">:</span><span class="w"> </span><span class="s2">"YOUR ACCESS TOKEN"</span><span class="p">,</span>
<span class="p">});</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">apiInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">IssuedDocumentsApi</span><span class="p">(</span><span class="nx">apiConfig</span><span class="p">);</span>

<span class="c1">//set your company id</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">companyId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">12345</span><span class="p">;</span>

<span class="c1">// NOTE: this is not a complete request, for it to work you must set the invoice details!!</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">invoice</span><span class="o">:</span><span class="w"> </span><span class="kt">IssuedDocument</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="p">};</span>

<span class="c1">// Here we put our invoice in the request object</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">createIssuedDocumentRequest</span><span class="o">:</span><span class="w"> </span><span class="kt">CreateIssuedDocumentRequest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">invoice</span><span class="p">,</span>
<span class="w">  </span><span class="nx">options</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">fix_payments</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">};</span>

<span class="c1">// Now we are all set for the final call</span>
<span class="c1">// Get new issued document totals: https://github.com/fattureincloud/fattureincloud-ts-sdk/blob/master/docs/IssuedDocumentsApi.md#getNewIssuedDocumentTotals</span>
<span class="nx">apiInstance</span><span class="p">.</span><span class="nx">createIssuedDocument</span><span class="p">(</span><span class="nx">companyId</span><span class="p">,</span><span class="w"> </span><span class="nx">createIssuedDocumentRequest</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span>
<span class="w">  </span><span class="p">(</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">);</span>
</code></pre></div>
<p>In Zapier, the magic field is called <strong>Fixes your last payment amount to match your document total</strong>, and its code is <strong>options.fix_payments</strong>;
it must be set in the Create Issued Document request, check the <a href="/docs/guides/invoice-creation.mdx">Invoice Creation</a> Guide for more details about this request.</p>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      TeamSystem S.p.A.
    </div>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<div class="md-progress" data-md-component="progress" role="progressbar"></div>
<script id="__config" type="application/json">{"base": "../..", "features": ["header.autohide", "icons", "navigation.collapsible", "navigation.footer", "navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
<script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>
<script>document$.subscribe(() => {
            window.update_swagger_ui_iframe_height = function (id) {
                var iFrameID = document.getElementById(id);
                if (iFrameID) {
                    full_height = (iFrameID.contentWindow.document.body.scrollHeight + 80) + "px";
                    iFrameID.height = full_height;
                    iFrameID.style.height = full_height;
                }
            }
        
            let iframe_id_list = []
            var iframes = document.getElementsByClassName("swagger-ui-iframe");
            for (var i = 0; i < iframes.length; i++) { 
                iframe_id_list.push(iframes[i].getAttribute("id"))
            }
        
            let ticking = true;
            
            document.addEventListener('scroll', function(e) {
                if (!ticking) {
                    window.requestAnimationFrame(()=> {
                        let half_vh = window.innerHeight/2;
                        for(var i = 0; i < iframe_id_list.length; i++) {
                            let element = document.getElementById(iframe_id_list[i])
                            if(element==null){
                                return
                            }
                            let diff = element.getBoundingClientRect().top
                            if(element.contentWindow.update_top_val){
                                element.contentWindow.update_top_val(half_vh - diff)
                            }
                        }
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        
            const dark_scheme_name = "slate"
            
            window.scheme = document.body.getAttribute("data-md-color-scheme")
            const options = {
                attributeFilter: ['data-md-color-scheme'],
            };
            function color_scheme_callback(mutations) {
                for (let mutation of mutations) {
                    if (mutation.attributeName === "data-md-color-scheme") {
                        scheme = document.body.getAttribute("data-md-color-scheme")
                        var iframe_list = document.getElementsByClassName("swagger-ui-iframe")
                        for(var i = 0; i < iframe_list.length; i++) {
                            var ele = iframe_list.item(i);
                            if (ele) {
                                if (scheme === dark_scheme_name) {
                                    ele.contentWindow.enable_dark_mode();
                                } else {
                                    ele.contentWindow.disable_dark_mode();
                                }
                            }
                        }
                    }
                }
            }
            observer = new MutationObserver(color_scheme_callback);
            observer.observe(document.body, options);
            })</script></body>
</html>